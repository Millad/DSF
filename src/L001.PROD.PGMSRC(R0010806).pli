 /*       SIST ENDRET 22/06-98 10.23.11 AV   JDA7339                  */00000000
 /*       SIST ENDRET 04/06-98 15.18.53 AV   RFA9991                  */00000010
  /*IDENTIFIKASJON:                                                   */00000020
  /*    R0010806 - PROSEDYRE I PLI                                    */00000030
  /*    PROGRAMMERER:  JAN  , JUNI 1981                               */00000040
  /*HENSIKT:                                                          */00000050
  /*    PROGRAMMET INNEHOLDER:                                        */00000060
  /*    PROSEDYRER FOR Å OVERFØRE DATA FRA EP_TRANS_OMR TIL           */00000070
  /*    SKJERMBILDE (MAP S001081 MAPSET S00108).                      */00000080
  /*    SKJERMBILDE (MAP S001201 MAPSET S00120).  */      /*          */00000090
  /*BRUK:                                                             */00000100
  /*    OVERFØR_EPSØKER_MAP:      OVERFØRING AV EPDELEN               */00000110
  /*    OVERFØR_EPSPES_MAP:       OVERFØRING AV SPESIELL DEL SØKER    */00000120
  /*    OVERFØR_EPSPES_AVDØD_MAP: OVERFØRING AV SPESIELL DEL AVDØDE   */00000130
  /*    OVERFØR_EPY_MAP:          OVERFØRING AV YRKESSKADEOPPL. */      00000140
  /*                                                                  */00000150
  % PAGE;                                                               00000160
  /* ***************************************************************  */00000170
  /*   PROSEDYRA OVERFØRER DATA FRA EP_TRANS_OMR TIL                  */00000180
  /*   SKJERMBILDE EP_SØKER DELEN.                                    */00000190
  /*   MAP: S001081                                                   */00000200
  /*   MAPSET: S00108                                                 */00000210
  /* ***************************************************************  */00000220
  % SKIP (2);                                                           00000230
   OVERFØR_EPSØKER_MAP:                                                 00000240
    PROC;                                                               00000250
    DCL                                                                 00000260
       NORMAL            CHAR (1) INIT(' '),                            00000270
       NOR_NUM           CHAR (1) INIT('&'),                            00000280
       BRI_NUM           CHAR (1) INIT('Q');                            00000290
                                                                        00000300
       S001081O.REGDATOO          = KONV_HÅMD_ÅMD(EPS.REGDATO_ÅMD);     00000310
       S001081O.TERMIDO           = EPS.TERMID;                         00000320
       S001081O.FNRO              = F_FELT_PIC_CHAR11(EPS.FNR);         00000330
       S001081O.NAVNO             = EPS.NAVN;                           00000340
       S001081O.TKNRO             = F_FELT_PIC_CHAR4(EPS.TKNR);         00000350
       S001081O.SIVILSTANDO       = EPS.SIVILSTAND;                     00000360
       S001081O.SPRÅKO            = EPS.SPRÅK;                          00000370
       S001081O.NORSK_BOSATTO     = EPS.NORSK_BOSATT;                   00000380
       S001081O.TP_PROSENTO       = F_FELT_PIC_CHAR2(EPS.TP_PROSENT);   00000390
       S001081O.VILKÅR_10_5O      = EPS.VILKÅR_10_5;                    00000400
       S001081O.OMSORG_AVD_BAO    = EPS.OMSORG_AVD_BA;                  00000410
       S001081O.FORVENTETO        = F_FELT_PIC_CHAR7(EPS.FORVENTET);    00000420
       S001081O.FAIO              = F_FELT_PIC_CHAR7(EPS.FAI);          00000430
       S001081O.YSKADE_TILLEGGO   = EPS.YSKADE_TILLEGG;                 00000440
       S001081O.GP_OS_KODEO       = EPS.GP_OS_KODE;                     00000450
       S001081O.HJEMMEL_10_8O     = EPS.HJEMMEL_10_8;                   00000460
       IF F_FELT_PIC_CHAR8(EPS.FRAMLEGGSDATO_ÅMD) ^= (4)'0' THEN        00000470
        S001081O.FRAML_DATO_MÅO=KONV_HÅMD_MÅ(EPS.FRAMLEGGSDATO_ÅMD);    00000480
       S001081O.FRAMLEGGSKODEO    = EPS.FRAMLEGGSKODE;                  00000490
      S001081O.VIRK_DATO_MÅO     = KONV_HÅMD_MÅ(EPS.VIRK_DATO_ÅMD);     00000500
       IF F_FELT_PIC_CHAR11(EPS.FNR_EK) ^= '00000000000' THEN           00000510
          S001081O.FNR_EKO        = F_FELT_PIC_CHAR11(EPS.FNR_EK);      00000520
       S001081O.NAVN_EKO          = EPS.NAVN_EK;                        00000530
       S001081O.NORSK_BOSATT_EKO  = EPS.NORSK_BOSATT_EK;                00000540
       IF F_FELT_PIC_CHAR8(EPS.DØDSDATO_ÅMD_EK) ^= (8)'0' THEN          00000550
          S001081O.DØDSDATO_EKO   = KONV_HÅMD_DMÅ(EPS.DØDSDATO_ÅMD_EK); 00000560
       S001081O.VILKÅR_8_4_EKO    = EPS.VILKÅR_8_4_EK;                  00000570
       IF F_FELT_PIC_CHAR7(EPS.PI_EK) ^= '0000000' THEN                 00000580
          S001081O.PI_EKO         = F_FELT_PIC_CHAR7(EPS.PI_EK);        00000590
       IF F_FELT_PIC_CHAR4(EPS.VP_ÅR_EK(1)) ^= '00' THEN                00000600
          S001081O.VP_ÅR1_EKO     = F_FELT_PIC_CHAR4(EPS.VP_ÅR_EK(1));  00000610
       IF F_FELT_PIC_CHAR4(EPS.VP_ÅR_EK(2)) ^= '00' THEN                00000620
          S001081O.VP_ÅR2_EKO     = F_FELT_PIC_CHAR4(EPS.VP_ÅR_EK(2));  00000630
       IF F_FELT_PIC_CHAR4(EPS.VP_ÅR_EK(3)) ^= '00' THEN                00000640
          S001081O.VP_ÅR3_EKO     = F_FELT_PIC_CHAR4(EPS.VP_ÅR_EK(3));  00000650
       IF F_FELT_PIC_CHAR4(EPS.VP_ÅR_EK(4)) ^= '00' THEN                00000660
          S001081O.VP_ÅR4_EKO     = F_FELT_PIC_CHAR4(EPS.VP_ÅR_EK(4));  00000670
   % SKIP (3);                                                          00000680
                                                                        00000690
   /* FEILMELDINGER MARKERING AV FELT (ATTRIBUTTENE)  */                00000700
       S001081O.DUMMYA = '_';                                           00000710
                                                                        00000720
   /* DERSOM FEIL I BEHANDLE TRANS OVERFØRES FEIL HER,BARE FØRSTE GANG*/00000730
       IF ^ FRA_CICS THEN                                               00000740
         DO;                                                            00000750
           IF FEIL_MELD_NR > 0 THEN                                     00000760
             CALL SKRIV_FEIL(FEIL_MELD_NR);                             00000770
           FEIL_MELD_NR = 0;                                            00000780
         END;                                                           00000790
                                                                        00000800
       S001081O.REGDATOA = DFHBMASK;                                    00000810
                                                                        00000820
       S001081O.TERMIDA  = DFHBMASK;                                    00000830
                                                                        00000840
       IF EPS.FNRNR = 0 THEN                                            00000850
          S001081O.FNRA = NOR_NUM;                                      00000860
       ELSE                                                             00000870
          DO;                                                           00000880
            S001081O.FNRA = BRI_NUM;                                    00000890
            S001081I.FNRL = CURSOR_POS;                                 00000900
            IF EPS.FNRNR ^= 999 THEN                                    00000910
               CALL SKRIV_FEIL(EPS.FNRNR);                              00000920
          END;                                                          00000930
       IF EPS.NAVNNR = 0 THEN                                           00000940
          S001081O.NAVNA = NORMAL;                                      00000950
       ELSE                                                             00000960
          DO;                                                           00000970
            S001081O.NAVNA = DFHBMBRY;                                  00000980
            S001081I.NAVNL = CURSOR_POS;                                00000990
            IF EPS.NAVNNR ^= 999 THEN                                   00001000
               CALL SKRIV_FEIL(EPS.NAVNNR);                             00001010
          END;                                                          00001020
       IF EPS.TKNRNR = 0 THEN                                           00001030
          S001081O.TKNRA = NOR_NUM;                                     00001040
       ELSE                                                             00001050
          DO;                                                           00001060
            S001081O.TKNRA = BRI_NUM;                                   00001070
            S001081I.TKNRL = CURSOR_POS;                                00001080
            IF EPS.TKNRNR ^= 999 THEN                                   00001090
               CALL SKRIV_FEIL(EPS.TKNRNR);                             00001100
          END;                                                          00001110
       IF EPS.SIVILSTANDNR = 0 THEN                                     00001120
          S001081O.SIVILSTANDA = NORMAL;                                00001130
       ELSE                                                             00001140
          DO;                                                           00001150
            S001081O.SIVILSTANDA = DFHBMBRY;                            00001160
            S001081I.SIVILSTANDL = CURSOR_POS;                          00001170
            IF EPS.SIVILSTANDNR ^= 999 THEN                             00001180
               CALL SKRIV_FEIL(EPS.SIVILSTANDNR);                       00001190
          END;                                                          00001200
       IF EPS.SPRÅKNR = 0 THEN                                          00001210
          S001081O.SPRÅKA = NORMAL;                                     00001220
       ELSE                                                             00001230
          DO;                                                           00001240
            S001081O.SPRÅKA = DFHBMBRY;                                 00001250
            S001081I.SPRÅKL = CURSOR_POS;                               00001260
            IF EPS.SPRÅKNR ^= 999 THEN                                  00001270
               CALL SKRIV_FEIL(EPS.SPRÅKNR);                            00001280
          END;                                                          00001290
       IF EPS.NORSK_BOSATTNR = 0 THEN                                   00001300
          S001081O.NORSK_BOSATTA = NORMAL;                              00001310
       ELSE                                                             00001320
          DO;                                                           00001330
            S001081O.NORSK_BOSATTA = DFHBMBRY;                          00001340
            S001081I.NORSK_BOSATTL = CURSOR_POS;                        00001350
            IF EPS.NORSK_BOSATTNR ^= 999 THEN                           00001360
               CALL SKRIV_FEIL(EPS.NORSK_BOSATTNR);                     00001370
          END;                                                          00001380
       IF EPS.TP_PROSENTNR = 0 THEN                                     00001390
          S001081O.TP_PROSENTA = NOR_NUM;                               00001400
       ELSE                                                             00001410
          DO;                                                           00001420
            S001081O.TP_PROSENTA = BRI_NUM;                             00001430
            S001081I.TP_PROSENTL = CURSOR_POS;                          00001440
            IF EPS.TP_PROSENTNR ^= 999 THEN                             00001450
               CALL SKRIV_FEIL(EPS.TP_PROSENTNR);                       00001460
          END;                                                          00001470
       IF EPS.VILKÅR_10_5NR = 0 THEN                                    00001480
          S001081O.VILKÅR_10_5A = NORMAL;                               00001490
       ELSE                                                             00001500
          DO;                                                           00001510
            S001081O.VILKÅR_10_5A = DFHBMBRY;                           00001520
            S001081I.VILKÅR_10_5L = CURSOR_POS;                         00001530
            IF EPS.VILKÅR_10_5NR ^= 999 THEN                            00001540
               CALL SKRIV_FEIL(EPS.VILKÅR_10_5NR);                      00001550
          END;                                                          00001560
       IF EPS.OMSORG_AVD_BANR = 0 THEN                                  00001570
          S001081O.OMSORG_AVD_BAA = NORMAL;                             00001580
       ELSE                                                             00001590
          DO;                                                           00001600
            S001081O.OMSORG_AVD_BAA = DFHBMBRY;                         00001610
            S001081I.OMSORG_AVD_BAL = CURSOR_POS;                       00001620
            IF EPS.OMSORG_AVD_BANR ^= 999 THEN                          00001630
               CALL SKRIV_FEIL(EPS.OMSORG_AVD_BANR);                    00001640
          END;                                                          00001650
       IF EPS.FORVENTETNR = 0 THEN                                      00001660
          S001081O.FORVENTETA = NOR_NUM;                                00001670
       ELSE                                                             00001680
          DO;                                                           00001690
            S001081O.FORVENTETA = BRI_NUM;                              00001700
            S001081I.FORVENTETL = CURSOR_POS;                           00001710
            IF EPS.FORVENTETNR ^= 999 THEN                              00001720
               CALL SKRIV_FEIL(EPS.FORVENTETNR);                        00001730
          END;                                                          00001740
       IF EPS.FAINR = 0 THEN                                            00001750
          S001081O.FAIA = NOR_NUM;                                      00001760
       ELSE                                                             00001770
          DO;                                                           00001780
            S001081O.FAIA = BRI_NUM;                                    00001790
            S001081I.FAIL = CURSOR_POS;                                 00001800
            IF EPS.FAINR ^= 999 THEN                                    00001810
               CALL SKRIV_FEIL(EPS.FAINR);                              00001820
          END;                                                          00001830
       IF EPS.YSKADE_TILLEGGNR = 0 THEN                                 00001840
          S001081O.YSKADE_TILLEGGA = NORMAL;                            00001850
       ELSE                                                             00001860
          DO;                                                           00001870
            S001081O.YSKADE_TILLEGGA = DFHBMBRY;                        00001880
            S001081I.YSKADE_TILLEGGL = CURSOR_POS;                      00001890
            IF EPS.YSKADE_TILLEGGNR ^= 999 THEN                         00001900
               CALL SKRIV_FEIL(EPS.YSKADE_TILLEGGNR);                   00001910
          END;                                                          00001920
       IF EPS.GP_OS_KODENR = 0 THEN                                     00001930
          S001081O.GP_OS_KODEA = NORMAL;                                00001940
       ELSE                                                             00001950
          DO;                                                           00001960
            S001081O.GP_OS_KODEA = DFHBMBRY;                            00001970
            S001081I.GP_OS_KODEL = CURSOR_POS;                          00001980
            IF EPS.GP_OS_KODENR ^= 999 THEN                             00001990
               CALL SKRIV_FEIL(EPS.GP_OS_KODENR);                       00002000
          END;                                                          00002010
       IF EPS.HJEMMEL_10_8NR = 0 THEN                                   00002020
          S001081O.HJEMMEL_10_8A = NORMAL;                              00002030
       ELSE                                                             00002040
          DO;                                                           00002050
            S001081O.HJEMMEL_10_8A = DFHBMBRY;                          00002060
            S001081I.HJEMMEL_10_8L = CURSOR_POS;                        00002070
            IF EPS.HJEMMEL_10_8NR ^= 999 THEN                           00002080
               CALL SKRIV_FEIL(EPS.HJEMMEL_10_8NR);                     00002090
          END;                                                          00002100
       IF EPS.FRAMLEGGSDATO_ÅMDNR = 0 THEN                              00002110
          S001081O.FRAML_DATO_MÅA = NOR_NUM;                            00002120
       ELSE                                                             00002130
          DO;                                                           00002140
            S001081O.FRAML_DATO_MÅA = BRI_NUM;                          00002150
            S001081I.FRAML_DATO_MÅL = CURSOR_POS;                       00002160
            IF EPS.FRAMLEGGSDATO_ÅMDNR ^= 999 THEN                      00002170
               CALL SKRIV_FEIL(EPS.FRAMLEGGSDATO_ÅMD);                  00002180
          END;                                                          00002190
       IF EPS.FRAMLEGGSKODENR = 0 THEN                                  00002200
          S001081O.FRAMLEGGSKODEA = NORMAL;                             00002210
       ELSE                                                             00002220
          DO;                                                           00002230
            S001081O.FRAMLEGGSKODEA = DFHBMBRY;                         00002240
            S001081I.FRAMLEGGSKODEL = CURSOR_POS;                       00002250
            IF EPS.FRAMLEGGSKODENR ^= 999 THEN                          00002260
               CALL SKRIV_FEIL(EPS.FRAMLEGGSKODENR);                    00002270
          END;                                                          00002280
       IF EPS.VIRK_DATO_ÅMDNR = 0 THEN                                  00002290
          S001081O.VIRK_DATO_MÅA = NOR_NUM;                             00002300
       ELSE                                                             00002310
          DO;                                                           00002320
            S001081O.VIRK_DATO_MÅA = BRI_NUM;                           00002330
            S001081I.VIRK_DATO_MÅL = CURSOR_POS;                        00002340
            IF EPS.VIRK_DATO_ÅMDNR ^= 999 THEN                          00002350
               CALL SKRIV_FEIL(EPS.VIRK_DATO_ÅMDNR);                    00002360
          END;                                                          00002370
       IF EPS.FNR_EKNR = 0 THEN                                         00002380
          S001081O.FNR_EKA = NOR_NUM;                                   00002390
       ELSE                                                             00002400
          DO;                                                           00002410
            S001081O.FNR_EKA = BRI_NUM;                                 00002420
            S001081I.FNR_EKL = CURSOR_POS;                              00002430
            IF EPS.FNR_EKNR ^= 999 THEN                                 00002440
               CALL SKRIV_FEIL(EPS.FNR_EKNR);                           00002450
          END;                                                          00002460
       IF EPS.NAVN_EKNR = 0 THEN                                        00002470
          S001081O.NAVN_EKA = NORMAL;                                   00002480
       ELSE                                                             00002490
          DO;                                                           00002500
            S001081O.NAVN_EKA = DFHBMBRY;                               00002510
            S001081I.NAVN_EKL = CURSOR_POS;                             00002520
            IF EPS.NAVN_EKNR ^= 999 THEN                                00002530
               CALL SKRIV_FEIL(EPS.NAVN_EKNR);                          00002540
          END;                                                          00002550
       IF EPS.NORSK_BOSATT_EKNR = 0 THEN                                00002560
          S001081O.NORSK_BOSATT_EKA = NORMAL;                           00002570
       ELSE                                                             00002580
          DO;                                                           00002590
            S001081O.NORSK_BOSATT_EKA = DFHBMBRY;                       00002600
            S001081I.NORSK_BOSATT_EKL = CURSOR_POS;                     00002610
            IF EPS.NORSK_BOSATT_EKNR ^= 999 THEN                        00002620
               CALL SKRIV_FEIL(EPS.NORSK_BOSATT_EKNR);                  00002630
          END;                                                          00002640
       IF EPS.DØDSDATO_ÅMD_EKNR = 0 THEN                                00002650
          S001081O.DØDSDATO_EKA = NOR_NUM;                              00002660
       ELSE                                                             00002670
          DO;                                                           00002680
            S001081O.DØDSDATO_EKA = BRI_NUM;                            00002690
            S001081I.DØDSDATO_EKL = CURSOR_POS;                         00002700
            IF EPS.DØDSDATO_ÅMD_EKNR ^= 999 THEN                        00002710
               CALL SKRIV_FEIL(EPS.DØDSDATO_ÅMD_EKNR);                  00002720
          END;                                                          00002730
       IF EPS.VILKÅR_8_4_EKNR = 0 THEN                                  00002740
          S001081O.VILKÅR_8_4_EKA = NORMAL;                             00002750
       ELSE                                                             00002760
          DO;                                                           00002770
            S001081O.VILKÅR_8_4_EKA = DFHBMBRY;                         00002780
            S001081I.VILKÅR_8_4_EKL = CURSOR_POS;                       00002790
            IF EPS.VILKÅR_8_4_EKNR ^= 999 THEN                          00002800
               CALL SKRIV_FEIL(EPS.VILKÅR_8_4_EKNR);                    00002810
          END;                                                          00002820
       IF EPS.PI_EKNR = 0 THEN                                          00002830
          S001081O.PI_EKA = NOR_NUM;                                    00002840
       ELSE                                                             00002850
          DO;                                                           00002860
            S001081O.PI_EKA = BRI_NUM;                                  00002870
            S001081I.PI_EKL = CURSOR_POS;                               00002880
            IF EPS.PI_EKNR ^= 999 THEN                                  00002890
               CALL SKRIV_FEIL(EPS.PI_EKNR);                            00002900
          END;                                                          00002910
       IF EPS.VP_ÅR_EKNR(1) = 0 THEN                                    00002920
          S001081O.VP_ÅR1_EKA = NOR_NUM;                                00002930
       ELSE                                                             00002940
          DO;                                                           00002950
            S001081O.VP_ÅR1_EKA = BRI_NUM;                              00002960
            S001081I.VP_ÅR1_EKL = CURSOR_POS;                           00002970
            IF EPS.VP_ÅR_EKNR(1) ^= 999 THEN                            00002980
               CALL SKRIV_FEIL(EPS.VP_ÅR_EKNR(1));                      00002990
          END;                                                          00003000
       IF EPS.VP_ÅR_EKNR(2) = 0 THEN                                    00003010
          S001081O.VP_ÅR2_EKA = NOR_NUM;                                00003020
       ELSE                                                             00003030
          DO;                                                           00003040
            S001081O.VP_ÅR2_EKA = BRI_NUM;                              00003050
            S001081I.VP_ÅR2_EKL = CURSOR_POS;                           00003060
            IF EPS.VP_ÅR_EKNR(2) ^= 999 THEN                            00003070
               CALL SKRIV_FEIL(EPS.VP_ÅR_EKNR(2));                      00003080
          END;                                                          00003090
       IF EPS.VP_ÅR_EKNR(3) = 0 THEN                                    00003100
          S001081O.VP_ÅR3_EKA = NOR_NUM;                                00003110
       ELSE                                                             00003120
          DO;                                                           00003130
            S001081O.VP_ÅR3_EKA = BRI_NUM;                              00003140
            S001081I.VP_ÅR3_EKL = CURSOR_POS;                           00003150
            IF EPS.VP_ÅR_EKNR(3) ^= 999 THEN                            00003160
               CALL SKRIV_FEIL(EPS.VP_ÅR_EKNR(3));                      00003170
          END;                                                          00003180
       IF EPS.VP_ÅR_EKNR(4) = 0 THEN                                    00003190
          S001081O.VP_ÅR4_EKA = NOR_NUM;                                00003200
       ELSE                                                             00003210
          DO;                                                           00003220
            S001081O.VP_ÅR4_EKA = BRI_NUM;                              00003230
            S001081I.VP_ÅR4_EKL = CURSOR_POS;                           00003240
            IF EPS.VP_ÅR_EKNR(4) ^= 999 THEN                            00003250
               CALL SKRIV_FEIL(EPS.VP_ÅR_EKNR(4));                      00003260
          END;                                                          00003270
                                                                        00003280
       /* VED GAMLE TRANS SKAL FNR OG VIRKDATO BLOKKERES  */            00003290
                                                                        00003300
       IF TRANS_OPPL_OMR.NY_GML_TRANS_IND = 'G' & FRA_MED_DIALOG THEN   00003310
          DO;                                                           00003320
            S001081O.FNRA          = DFHBMASK;/*  PROTECTED AND ASKIP*/ 00003330
            S001081O.VIRK_DATO_MÅA = DFHBMASK;                          00003340
          END;                                                          00003350
                                                                        00003360
       ELSE IF FRA_UTEN_DIALOG THEN  /* BLOKKER ALT SAMMEN  */          00003370
                                                                        00003380
          DO;                                                           00003390
            S001081O.REGDATOA         = DFHBMASK;                       00003400
            S001081O.TERMIDA          = DFHBMASK;                       00003410
            S001081O.FNRA             = DFHBMASK;                       00003420
            S001081O.NAVNA            = DFHBMASK;                       00003430
            S001081O.TKNRA            = DFHBMASK;                       00003440
            S001081O.SIVILSTANDA      = DFHBMASK;                       00003450
            S001081O.SPRÅKA           = DFHBMASK;                       00003460
            S001081O.NORSK_BOSATTA    = DFHBMASK;                       00003470
            S001081O.TP_PROSENTA      = DFHBMASK;                       00003480
            S001081O.VILKÅR_10_5A     = DFHBMASK;                       00003490
            S001081O.OMSORG_AVD_BAA   = DFHBMASK;                       00003500
            S001081O.FORVENTETA       = DFHBMASK;                       00003510
            S001081O.FAIA             = DFHBMASK;                       00003520
            S001081O.YSKADE_TILLEGGA  = DFHBMASK;                       00003530
            S001081O.GP_OS_KODEA      = DFHBMASK;                       00003540
            S001081O.HJEMMEL_10_8A    = DFHBMASK;                       00003550
            S001081O.FRAML_DATO_MÅA   = DFHBMASK;                       00003560
            S001081O.FRAMLEGGSKODEA   = DFHBMASK;                       00003570
            S001081O.VIRK_DATO_MÅA    = DFHBMASK;                       00003580
            S001081O.FNR_EKA          = DFHBMASK;                       00003590
            S001081O.NAVN_EKA         = DFHBMASK;                       00003600
            S001081O.NORSK_BOSATT_EKA = DFHBMASK;                       00003610
            S001081O.DØDSDATO_EKA     = DFHBMASK;                       00003620
            S001081O.VILKÅR_8_4_EKA   = DFHBMASK;                       00003630
            S001081O.PI_EKA           = DFHBMASK;                       00003640
            S001081O.VP_ÅR1_EKA       = DFHBMASK;                       00003650
            S001081O.VP_ÅR2_EKA       = DFHBMASK;                       00003660
            S001081O.VP_ÅR3_EKA       = DFHBMASK;                       00003670
            S001081O.VP_ÅR4_EKA       = DFHBMASK;                       00003680
            MELDING6O = 'TRYKK PF1 FOR OPPBEVAR, PF2 FOR FORKASTE';     00003690
          END;                                                          00003700
                                                                        00003710
       IF ^ FRA_CICS THEN                                               00003720
          DO;                                                           00003730
            S001081O.STYRE_KODEA    = DFHBMASK;                         00003740
            S001081O.FUNKSJONSKODEA = DFHBMASK;                         00003750
          END;                                                          00003760
        END OVERFØR_EPSØKER_MAP;                                        00003770
  %PAGE;                                                                00003780
  /* **************************************************************** */00003790
  /*                                                                  */00003800
  /*   PROSEDYRA OVERFØRER DATA FRA EP_TRANS_OMR.EPSP TIL             */00003810
  /*   SKJERMBILDE EP_SPES. DELEN_SØKER.                              */00003820
  /*   MAP: S001081                                                   */00003830
  /*   MAPSET: S00108                                                 */00003840
  /*                                                                  */00003850
  /* **************************************************************** */00003860
  %SKIP(2);                                                             00003870
  OVERFØR_EPSPES_SØKER_MAP:                                             00003880
    PROC;                                                               00003890
    DCL                                                                 00003900
       NORMAL            CHAR (1) INIT(' '),                            00003910
       NOR_NUM           CHAR (1) INIT('&'),                            00003920
       BRI_NUM           CHAR (1) INIT('Q');                            00003930
                                                                        00003940
  %SKIP;                                                                00003950
       IF F_FELT_PIC_CHAR3(EPSP.STATSBORGER) ^= '000' THEN              00003960
          S001081O.STATSBORGERO   = F_FELT_PIC_CHAR3(EPSP.STATSBORGER); 00003970
       IF F_FELT_PIC_CHAR3(EPSP.BOSATT) ^= '000' THEN                   00003980
          S001081O.BOSATTO        = F_FELT_PIC_CHAR3(EPSP.BOSATT);      00003990
       S001081O.FRAVIK_BOSATTO    = EPSP.FRAVIK_BOSATT;                 00004000
       S001081O.TRYGDET_3ÅRO      = EPSP.TRYGDET_3ÅR;                   00004010
       S001081O.FRA_TRY_3ÅRO      = EPSP.FRA_TRY_3ÅR;                   00004020
       S001081O.FRAVIK_10_1O      = EPSP.FRAVIK_10_1;                   00004030
       S001081O.KONVENSJONO       = EPSP.KONVENSJON;                    00004040
       S001081O.FRAVIK_19_3O      = EPSP.FRAVIK_19_3;                   00004050
       S001081O.FRAVIK_FLYKTO     = EPSP.FRAVIK_FLYKT;                  00004060
       S001081O.OVERKOMP_UTLO     = EPSP.OVERKOMP_UTL;                  00004070
       IF F_FELT_PIC_CHAR3(EPSP.TT_ETTER_DØD) ^= '000' THEN             00004080
          S001081O.TT_ETTER_DØDO  = F_FELT_PIC_CHAR3(EPSP.TT_ETTER_DØD);00004090
       IF F_FELT_PIC_CHAR2(EPSP.TT_F67) ^= '00' THEN                    00004100
          S001081O.TT_F67O        = F_FELT_PIC_CHAR2(EPSP.TT_F67);      00004110
       IF F_FELT_PIC_CHAR2(EPSP.TT_E66_Å) ^= '00' THEN                  00004120
          S001081O.TT_E66_ÅO      = F_FELT_PIC_CHAR2(EPSP.TT_E66_Å);    00004130
       IF F_FELT_PIC_CHAR2(EPSP.TT_E66_M) ^= '00' THEN                  00004140
          S001081O.TT_E66_MO      = F_FELT_PIC_CHAR2(EPSP.TT_E66_M);    00004150
       IF F_FELT_PIC_CHAR2(EPSP.TT_FRAMT_10_1) ^= '00' THEN             00004160
          S001081O.TT_FRAMT_10_1O =F_FELT_PIC_CHAR2(EPSP.TT_FRAMT_10_1);00004170
       S001081O.TRYGDET_DØDO      = EPSP.TRYGDET_DØD;                   00004180
       IF F_FELT_PIC_CHAR2(TT_VENT_UTL) ^= '00' THEN                    00004190
          S001081O.TT_VENT_UTLO   = F_FELT_PIC_CHAR2(EPSP.TT_VENT_UTL); 00004200
       S001081O.IKKE_GPO          = EPSP.IKKE_GP;                       00004210
  %SKIP(3);                                                             00004220
  /* MARKERING AV ATTRIBUTTER   */                                      00004230
  % SKIP;                                                               00004240
       IF EPSP.STATSBORGERNR = 0 THEN                                   00004250
          S001081O.STATSBORGERA = NOR_NUM;                              00004260
       ELSE                                                             00004270
          DO;                                                           00004280
            S001081O.STATSBORGERA = BRI_NUM;                            00004290
            S001081I.STATSBORGERL = CURSOR_POS;                         00004300
            IF EPSP.STATSBORGERNR ^= 999 THEN                           00004310
               CALL SKRIV_FEIL(EPSP.STATSBORGERNR);                     00004320
          END;                                                          00004330
       IF EPSP.BOSATTNR = 0 THEN                                        00004340
          S001081O.BOSATTA = NOR_NUM;                                   00004350
       ELSE                                                             00004360
          DO;                                                           00004370
            S001081O.BOSATTA = BRI_NUM;                                 00004380
            S001081I.BOSATTL = CURSOR_POS;                              00004390
            IF EPSP.BOSATTNR ^= 999 THEN                                00004400
               CALL SKRIV_FEIL(EPSP.BOSATTNR);                          00004410
          END;                                                          00004420
       IF EPSP.FRAVIK_BOSATTNR = 0 THEN                                 00004430
          S001081O.FRAVIK_BOSATTA = NORMAL;                             00004440
       ELSE                                                             00004450
          DO;                                                           00004460
            S001081O.FRAVIK_BOSATTA = DFHBMBRY;                         00004470
            S001081I.FRAVIK_BOSATTL = CURSOR_POS;                       00004480
            IF EPSP.FRAVIK_BOSATTNR ^= 999 THEN                         00004490
               CALL SKRIV_FEIL(EPSP.FRAVIK_BOSATTNR);                   00004500
          END;                                                          00004510
       IF EPSP.TRYGDET_3ÅRNR = 0 THEN                                   00004520
          S001081O.TRYGDET_3ÅRA = NORMAL;                               00004530
       ELSE                                                             00004540
          DO;                                                           00004550
            S001081O.TRYGDET_3ÅRA = DFHBMBRY;                           00004560
            S001081I.TRYGDET_3ÅRL = CURSOR_POS;                         00004570
            IF EPSP.TRYGDET_3ÅRNR ^= 999 THEN                           00004580
               CALL SKRIV_FEIL(EPSP.TRYGDET_3ÅRNR);                     00004590
          END;                                                          00004600
       IF EPSP.FRA_TRY_3ÅRNR = 0 THEN                                   00004610
          S001081O.FRA_TRY_3ÅRA = NORMAL;                               00004620
       ELSE                                                             00004630
          DO;                                                           00004640
            S001081O.FRA_TRY_3ÅRA = DFHBMBRY;                           00004650
            S001081I.FRA_TRY_3ÅRL = CURSOR_POS;                         00004660
            IF EPSP.FRA_TRY_3ÅRNR ^= 999 THEN                           00004670
               CALL SKRIV_FEIL(EPSP.FRA_TRY_3ÅRNR);                     00004680
          END;                                                          00004690
       IF EPSP.FRAVIK_10_1NR = 0 THEN                                   00004700
          S001081O.FRAVIK_10_1A = NORMAL;                               00004710
       ELSE                                                             00004720
          DO;                                                           00004730
            S001081O.FRAVIK_10_1A = DFHBMBRY;                           00004740
            S001081I.FRAVIK_10_1L = CURSOR_POS;                         00004750
            IF EPSP.FRAVIK_10_1NR ^= 999 THEN                           00004760
               CALL SKRIV_FEIL(EPSP.FRAVIK_10_1NR);                     00004770
          END;                                                          00004780
       IF EPSP.KONVENSJONNR = 0 THEN                                    00004790
          S001081O.KONVENSJONA = NORMAL;                                00004800
       ELSE                                                             00004810
          DO;                                                           00004820
            S001081O.KONVENSJONA = DFHBMBRY;                            00004830
            S001081I.KONVENSJONL = CURSOR_POS;                          00004840
            IF EPSP.KONVENSJONNR ^= 999 THEN                            00004850
               CALL SKRIV_FEIL(EPSP.KONVENSJONNR);                      00004860
          END;                                                          00004870
       IF EPSP.FRAVIK_19_3NR = 0 THEN                                   00004880
          S001081O.FRAVIK_19_3A = NORMAL;                               00004890
       ELSE                                                             00004900
          DO;                                                           00004910
            S001081O.FRAVIK_19_3A = DFHBMBRY;                           00004920
            S001081I.FRAVIK_19_3L = CURSOR_POS;                         00004930
            IF EPSP.FRAVIK_19_3NR ^= 999 THEN                           00004940
               CALL SKRIV_FEIL(EPSP.FRAVIK_19_3NR);                     00004950
          END;                                                          00004960
       IF EPSP.FRAVIK_FLYKTNR = 0 THEN                                  00004970
          S001081O.FRAVIK_FLYKTA = NORMAL;                              00004980
       ELSE                                                             00004990
          DO;                                                           00005000
            S001081O.FRAVIK_FLYKTA = DFHBMBRY;                          00005010
            S001081I.FRAVIK_FLYKTL = CURSOR_POS;                        00005020
            IF EPSP.FRAVIK_FLYKTNR ^= 999 THEN                          00005030
               CALL SKRIV_FEIL(EPSP.FRAVIK_FLYKTNR);                    00005040
          END;                                                          00005050
       IF EPSP.OVERKOMP_UTLNR = 0 THEN                                  00005060
          S001081O.OVERKOMP_UTLA = NORMAL;                              00005070
       ELSE                                                             00005080
          DO;                                                           00005090
            S001081O.OVERKOMP_UTLA = DFHBMBRY;                          00005100
            S001081I.OVERKOMP_UTLL = CURSOR_POS;                        00005110
            IF EPSP.OVERKOMP_UTLNR ^= 999 THEN                          00005120
               CALL SKRIV_FEIL(EPSP.OVERKOMP_UTLNR);                    00005130
          END;                                                          00005140
       IF EPSP.TT_ETTER_DØDNR = 0 THEN                                  00005150
          S001081O.TT_ETTER_DØDA = NOR_NUM;                             00005160
       ELSE                                                             00005170
          DO;                                                           00005180
            S001081O.TT_ETTER_DØDA = BRI_NUM;                           00005190
            S001081I.TT_ETTER_DØDL = CURSOR_POS;                        00005200
            IF EPSP.TT_ETTER_DØDNR ^= 999 THEN                          00005210
               CALL SKRIV_FEIL(EPSP.TT_ETTER_DØDNR);                    00005220
          END;                                                          00005230
       IF EPSP.TT_F67NR = 0 THEN                                        00005240
          S001081O.TT_F67A = NOR_NUM;                                   00005250
       ELSE                                                             00005260
          DO;                                                           00005270
            S001081O.TT_F67A = BRI_NUM;                                 00005280
            S001081I.TT_F67L = CURSOR_POS;                              00005290
            IF EPSP.TT_F67NR ^= 999 THEN                                00005300
               CALL SKRIV_FEIL(EPSP.TT_F67NR);                          00005310
          END;                                                          00005320
       IF EPSP.TT_E66_ÅNR = 0 THEN                                      00005330
          S001081O.TT_E66_ÅA = NOR_NUM;                                 00005340
       ELSE                                                             00005350
          DO;                                                           00005360
            S001081O.TT_E66_ÅA = BRI_NUM;                               00005370
            S001081I.TT_E66_ÅL = CURSOR_POS;                            00005380
            IF EPSP.TT_E66_ÅNR ^= 999 THEN                              00005390
               CALL SKRIV_FEIL(EPSP.TT_E66_ÅNR);                        00005400
          END;                                                          00005410
       IF EPSP.TT_E66_MNR = 0 THEN                                      00005420
          S001081O.TT_E66_MA = NOR_NUM;                                 00005430
       ELSE                                                             00005440
          DO;                                                           00005450
            S001081O.TT_E66_MA = BRI_NUM;                               00005460
            S001081I.TT_E66_ML = CURSOR_POS;                            00005470
            IF EPSP.TT_E66_MNR ^= 999 THEN                              00005480
               CALL SKRIV_FEIL(EPSP.TT_E66_MNR);                        00005490
          END;                                                          00005500
       IF EPSP.TT_FRAMT_10_1NR = 0 THEN                                 00005510
          S001081O.TT_FRAMT_10_1A = NOR_NUM;                            00005520
       ELSE                                                             00005530
          DO;                                                           00005540
            S001081O.TT_FRAMT_10_1A = BRI_NUM;                          00005550
            S001081I.TT_FRAMT_10_1L = CURSOR_POS;                       00005560
            IF EPSP.TT_FRAMT_10_1NR ^= 999 THEN                         00005570
               CALL SKRIV_FEIL(EPSP.TT_FRAMT_10_1NR);                   00005580
          END;                                                          00005590
       IF EPSP.TRYGDET_DØDNR = 0 THEN                                   00005600
          S001081O.TRYGDET_DØDA = NORMAL;                               00005610
       ELSE                                                             00005620
          DO;                                                           00005630
            S001081O.TRYGDET_DØDA = DFHBMBRY;                           00005640
            S001081I.TRYGDET_DØDL = CURSOR_POS;                         00005650
            IF EPSP.TRYGDET_DØDNR ^= 999 THEN                           00005660
               CALL SKRIV_FEIL(EPSP.TRYGDET_DØDNR);                     00005670
          END;                                                          00005680
       IF EPSP.TT_VENT_UTLNR = 0 THEN                                   00005690
          S001081O.TT_VENT_UTLA = NOR_NUM;                              00005700
       ELSE                                                             00005710
          DO;                                                           00005720
            S001081O.TT_VENT_UTLA = BRI_NUM;                            00005730
            S001081I.TT_VENT_UTLL = CURSOR_POS;                         00005740
            IF EPSP.TT_VENT_UTLNR ^= 999 THEN                           00005750
               CALL SKRIV_FEIL(EPSP.TT_VENT_UTLNR);                     00005760
          END;                                                          00005770
       IF EPSP.IKKE_GPNR = 0 THEN                                       00005780
          S001081O.IKKE_GPA = NORMAL;                                   00005790
       ELSE                                                             00005800
          DO;                                                           00005810
            S001081O.IKKE_GPA = DFHBMBRY;                               00005820
            S001081I.IKKE_GPL = CURSOR_POS;                             00005830
            IF EPSP.IKKE_GPNR ^= 999 THEN                               00005840
               CALL SKRIV_FEIL(EPSP.IKKE_GPNR);                         00005850
          END;                                                          00005860
                                                                        00005870
       IF FRA_UTEN_DIALOG THEN                                          00005880
          CALL BLOKKERE_EPSPES_SØKER;   /* BLOKKERE ALT SAMMEN   */     00005890
                                                                        00005900
       END OVERFØR_EPSPES_SØKER_MAP;                                    00005910
   %PAGE;                                                               00005920
   /* *************************************************************** */00005930
   /*                                                                 */00005940
   /*   PROSEDYREN OVERFØRER DATA FRA EP_TRANS_OMR.EPSP TIL           */00005950
   /*   SKJERMBILDE EP_SPES. DEL_AVDØDE.                              */00005960
   /*   MAP:  S001081                                                 */00005970
   /*   MAPSET:  S00108                                               */00005980
   /*                                                                 */00005990
   /* *************************************************************** */00006000
   %SKIP(2);                                                            00006010
  OVERFØR_EPSPES_AVDØDE_MAP:                                            00006020
    PROC;                                                               00006030
    DCL                                                                 00006040
       NORMAL            CHAR (1) INIT(' '),                            00006050
       NOR_NUM           CHAR (1) INIT('&'),                            00006060
       BRI_NUM           CHAR (1) INIT('Q');                            00006070
                                                                        00006080
  %SKIP;                                                                00006090
       IF F_FELT_PIC_CHAR3(EPSP.STATSBORGER_EK) ^= '000' THEN           00006100
          S001081O.STATSBORGER_EKO   =                                  00006110
                             F_FELT_PIC_CHAR3(EPSP.STATSBORGER_EK);     00006120
       IF F_FELT_PIC_CHAR3(EPSP.BOSATT_EK) ^= '000' THEN                00006130
          S001081O.BOSATT_EKO       = F_FELT_PIC_CHAR3(EPSP.BOSATT_EK); 00006140
       S001081O.TRYGDET_3ÅR_EKO     = EPSP.TRYGDET_3ÅR_EK;              00006150
       S001081O.FRAVIK_FLYKT_EKO    = EPSP.FRAVIK_FLYKT_EK;             00006160
       S001081O.OVERKOMP_UTL_EKO    = EPSP.OVERKOMP_UTL_EK;             00006170
       S001081O.TRYGDET_DØD_EKO     = EPSP.TRYGDET_DØD_EK;              00006180
       IF F_FELT_PIC_CHAR2(EPSP.TT_F67_EK) ^= '00' THEN                 00006190
          S001081O.TT_F67_EKO       = F_FELT_PIC_CHAR2(EPSP.TT_F67_EK); 00006200
       IF F_FELT_PIC_CHAR2(EPSP.TT_E66_Å_EK) ^= '00' THEN               00006210
          S001081O.TT_E66_Å_EKO    = F_FELT_PIC_CHAR2(EPSP.TT_E66_Å_EK);00006220
       IF F_FELT_PIC_CHAR2(EPSP.TT_E66_M_EK) ^= '00' THEN               00006230
          S001081O.TT_E66_M_EKO    = F_FELT_PIC_CHAR2(EPSP.TT_E66_M_EK);00006240
       IF F_FELT_PIC_CHAR2(EPSP.TT_FRAMT_10_1_EK) ^= '00' THEN          00006250
          S001081O.TT_FRAMT_10_1EKO =                                   00006260
                             F_FELT_PIC_CHAR2(EPSP.TT_FRAMT_10_1_EK);   00006270
 %SKIP(3);                                                              00006280
 /* MARKERING AV ATTRIBUTTER  */                                        00006290
 %SKIP;                                                                 00006300
       IF EPSP.STATSBORGER_EKNR = 0 THEN                                00006310
          S001081O.STATSBORGER_EKA = NOR_NUM;                           00006320
       ELSE                                                             00006330
          DO;                                                           00006340
            S001081O.STATSBORGER_EKA = BRI_NUM;                         00006350
            S001081I.STATSBORGER_EKL = CURSOR_POS;                      00006360
            IF EPSP.STATSBORGER_EKNR ^= 999 THEN                        00006370
               CALL SKRIV_FEIL(EPSP.STATSBORGER_EKNR);                  00006380
          END;                                                          00006390
       IF EPSP.BOSATT_EKNR = 0 THEN                                     00006400
          S001081O.BOSATT_EKA = NOR_NUM;                                00006410
       ELSE                                                             00006420
          DO;                                                           00006430
            S001081O.BOSATT_EKA = BRI_NUM;                              00006440
            S001081I.BOSATT_EKL = CURSOR_POS;                           00006450
            IF EPSP.BOSATT_EKNR ^= 999 THEN                             00006460
               CALL SKRIV_FEIL(EPSP.BOSATT_EKNR);                       00006470
          END;                                                          00006480
       IF EPSP.TRYGDET_3ÅR_EKNR = 0 THEN                                00006490
          S001081O.TRYGDET_3ÅR_EKA = NORMAL;                            00006500
       ELSE                                                             00006510
          DO;                                                           00006520
            S001081O.TRYGDET_3ÅR_EKA = DFHBMBRY;                        00006530
            S001081I.TRYGDET_3ÅR_EKL = CURSOR_POS;                      00006540
            IF EPSP.TRYGDET_3ÅR_EKNR ^= 999 THEN                        00006550
               CALL SKRIV_FEIL(EPSP.TRYGDET_3ÅR_EKNR);                  00006560
          END;                                                          00006570
       IF EPSP.FRAVIK_FLYKT_EKNR = 0 THEN                               00006580
          S001081O.FRAVIK_FLYKT_EKA = NORMAL;                           00006590
       ELSE                                                             00006600
          DO;                                                           00006610
            S001081O.FRAVIK_FLYKT_EKA = DFHBMBRY;                       00006620
            S001081I.FRAVIK_FLYKT_EKL = CURSOR_POS;                     00006630
            IF EPSP.FRAVIK_FLYKT_EKNR ^= 999 THEN                       00006640
               CALL SKRIV_FEIL(EPSP.FRAVIK_FLYKT_EKNR);                 00006650
          END;                                                          00006660
       IF EPSP.OVERKOMP_UTL_EKNR = 0 THEN                               00006670
          S001081O.OVERKOMP_UTL_EKA = NORMAL;                           00006680
       ELSE                                                             00006690
          DO;                                                           00006700
            S001081O.OVERKOMP_UTL_EKA = DFHBMBRY;                       00006710
            S001081I.OVERKOMP_UTL_EKL = CURSOR_POS;                     00006720
            IF EPSP.OVERKOMP_UTL_EKNR ^= 999 THEN                       00006730
               CALL SKRIV_FEIL(EPSP.OVERKOMP_UTL_EKNR);                 00006740
          END;                                                          00006750
       IF EPSP.TRYGDET_DØD_EKNR = 0 THEN                                00006760
          S001081O.TRYGDET_DØD_EKA = NORMAL;                            00006770
       ELSE                                                             00006780
          DO;                                                           00006790
            S001081O.TRYGDET_DØD_EKA = DFHBMBRY;                        00006800
            S001081I.TRYGDET_DØD_EKL = CURSOR_POS;                      00006810
            IF EPSP.TRYGDET_DØD_EKNR ^= 999 THEN                        00006820
               CALL SKRIV_FEIL(EPSP.TRYGDET_DØD_EKNR);                  00006830
          END;                                                          00006840
       IF EPSP.TT_F67_EKNR = 0 THEN                                     00006850
          S001081O.TT_F67_EKA = NOR_NUM;                                00006860
       ELSE                                                             00006870
          DO;                                                           00006880
            S001081O.TT_F67_EKA = BRI_NUM;                              00006890
            S001081I.TT_F67_EKL = CURSOR_POS;                           00006900
            IF EPSP.TT_F67_EKNR ^= 999 THEN                             00006910
               CALL SKRIV_FEIL(EPSP.TT_F67_EKNR);                       00006920
          END;                                                          00006930
       IF EPSP.TT_E66_Å_EKNR = 0 THEN                                   00006940
          S001081O.TT_E66_Å_EKA = NOR_NUM;                              00006950
       ELSE                                                             00006960
          DO;                                                           00006970
            S001081O.TT_E66_Å_EKA = BRI_NUM;                            00006980
            S001081I.TT_E66_Å_EKL = CURSOR_POS;                         00006990
            IF EPSP.TT_E66_Å_EKNR ^= 999 THEN                           00007000
               CALL SKRIV_FEIL(EPSP.TT_E66_Å_EKNR);                     00007010
          END;                                                          00007020
       IF EPSP.TT_E66_M_EKNR = 0 THEN                                   00007030
          S001081O.TT_E66_M_EKA = NOR_NUM;                              00007040
       ELSE                                                             00007050
          DO;                                                           00007060
            S001081O.TT_E66_M_EKA = BRI_NUM;                            00007070
            S001081I.TT_E66_M_EKL = CURSOR_POS;                         00007080
            IF EPSP.TT_E66_M_EKNR ^= 999 THEN                           00007090
               CALL SKRIV_FEIL(EPSP.TT_E66_M_EKNR);                     00007100
          END;                                                          00007110
       IF EPSP.TT_FRAMT_10_1_EKNR = 0 THEN                              00007120
          S001081O.TT_FRAMT_10_1EKA = NOR_NUM;                          00007130
       ELSE                                                             00007140
          DO;                                                           00007150
            S001081O.TT_FRAMT_10_1EKA = BRI_NUM;                        00007160
            S001081I.TT_FRAMT_10_1EKL = CURSOR_POS;                     00007170
            IF EPSP.TT_FRAMT_10_1_EKNR ^= 999 THEN                      00007180
               CALL SKRIV_FEIL(EPSP.TT_FRAMT_10_1_EKNR);                00007190
          END;                                                          00007200
                                                                        00007210
       IF FRA_UTEN_DIALOG THEN                                          00007220
          CALL BLOKKERE_EPSPES_AVDØDE;   /* BLOKKERE ALT SAMMEN   */    00007230
                                                                        00007240
       END OVERFØR_EPSPES_AVDØDE_MAP;                                   00007250
   %PAGE;                                                               00007260
   /* *************************************************************** */00007270
   /*                                                                 */00007280
   /*   PROSEDYREN OVERFØRER DATA FRA EP_TRANS_OMR.EPY (YRKESSKADE)   */00007290
   /*   TIL SKJERMBILDE FOR YRKESSKADEOPPLYSNINGER.                   */00007300
   /*   O B S.  NY PROSEDYRE O B S.             */      /*   O B S    */00007310
   /*   MAP:  S001201                                                 */00007320
   /*   MAPSET:  S00120                                               */00007330
   /*                                                                 */00007340
   /* *************************************************************** */00007350
   %SKIP(2);                                                            00007360
  OVERFØR_EPY_MAP:                                                      00007370
    PROC;                                                               00007380
    DCL                                                                 00007390
       NORMAL            CHAR (1) INIT(' '),                            00007400
       NOR_NUM           CHAR (1) INIT('&'),                            00007410
       BRI_NUM           CHAR (1) INIT('Q');                            00007420
                                                                        00007430
  %SKIP;                                                                00007440
       S001201O.REGDATOO         = KONV_HÅMD_ÅMD(EPS.REGDATO_ÅMD);      00007450
       S001201O.TERMIDO          = EPS.TERMID;                          00007460
       S001201O.FNRO             = F_FELT_PIC_CHAR11(EPS.FNR);          00007470
       S001201O.TKNRO            = F_FELT_PIC_CHAR4(EPS.TKNR);          00007480
       S001201O.NAVNO            = EPS.NAVN;                            00007490
       S001201O.VIRK_DATOO       = KONV_HÅMD_MÅ(EPS.VIRK_DATO_ÅMD);     00007500
       S001201O.VILKÅR_1_2_2AO   = EPY.VILKÅR_1_2_2A;                   00007510
       S001201O.VILKÅR_1_2_2BO   = EPY.VILKÅR_1_2_2B;                   00007520
       S001201O.YST_MÅO          = KONV_HÅMD_MÅ(EPY.YST_ÅMD);           00007530
       S001201O.YSYKDOMO         = EPY.YSYKDOM;                         00007540
       IF F_FELT_PIC_CHAR3(EPY.YUG) ^= '000' THEN                       00007550
          S001201O.YUGO          = F_FELT_PIC_CHAR3(EPY.YUG);           00007560
       S001201O.KAP11_7_UTLØSTO = EPY.KAP_11_7_UTLØST;                  00007570
       S001201O.YRKE11O          = EPY.YRKE11;                          00007580
       IF F_FELT_PIC_CHAR7(EPY.AÅI) ^= (7)'9' THEN                      00007590
          S001201O.AÅIO          = F_FELT_PIC_CHAR7(EPY.AÅI);           00007600
       IF F_FELT_PIC_CHAR11(EPY.FNR_EK) ^= (11)'0' THEN                 00007610
          S001201O.FNR_EKO       = F_FELT_PIC_CHAR11(EPY.FNR_EK);       00007620
       IF F_FELT_PIC_CHAR11(EPY.FNR_SAMBOER) ^= (11)'0' THEN            00007630
          S001201O.FNR_SAMBOERO  = F_FELT_PIC_CHAR11(EPY.FNR_SAMBOER);  00007640
       IF F_FELT_PIC_CHAR11(EPY.FNR_Y_BARN) ^= (11)'0' THEN             00007650
          S001201O.FNR_Y_BARNO   = F_FELT_PIC_CHAR11(EPY.FNR_Y_BARN);   00007660
       S001201O.PLEIEBARNO       = EPY.PLEIEBARN;                       00007670
                                                                        00007680
 %SKIP(3);                                                              00007690
 /* MARKERING AV ATTRIBUTTER  */                                        00007700
 %SKIP;                                                                 00007710
       S001201O.DUMMYA = '_';                                           00007720
                                                                        00007730
       IF ^ FRA_CICS THEN                                               00007740
          DO;                                                           00007750
             IF FEIL_MELD_NR > 0 THEN                                   00007760
                CALL SKRIV_FEIL_YP(FEIL_MELD_NR);                       00007770
             FEIL_MELD_NR = 0;                                          00007780
          END;                                                          00007790
                                                                        00007800
       S001201O.REGDATOA   = DFHBMASK;                                  00007810
       S001201O.TERMIDA    = DFHBMASK;                                  00007820
       S001201O.FNRA       = DFHBMASK;                                  00007830
       S001201O.TKNRA      = DFHBMASK;                                  00007840
       S001201O.NAVNA      = DFHBMASK;                                  00007850
       S001201O.UFTA       = DFHBMASK;                                  00007860
       S001201O.VIRK_DATOA = DFHBMASK;                                  00007870
                                                                        00007880
       IF EPY.VILKÅR_1_2_2ANR = 0 THEN                                  00007890
          S001201O.VILKÅR_1_2_2AA = NORMAL;                             00007900
       ELSE                                                             00007910
          DO;                                                           00007920
            S001201O.VILKÅR_1_2_2AA = DFHBMBRY;                         00007930
            S001201I.VILKÅR_1_2_2AL = CURSOR_POS;                       00007940
            IF EPY.VILKÅR_1_2_2ANR ^= 999 THEN                          00007950
               CALL SKRIV_FEIL_YP(EPY.VILKÅR_1_2_2ANR);                 00007960
          END;                                                          00007970
       IF EPY.VILKÅR_1_2_2BNR = 0 THEN                                  00007980
          S001201O.VILKÅR_1_2_2BA = NORMAL;                             00007990
       ELSE                                                             00008000
          DO;                                                           00008010
            S001201O.VILKÅR_1_2_2BA = DFHBMBRY;                         00008020
            S001201I.VILKÅR_1_2_2BL = CURSOR_POS;                       00008030
            IF EPY.VILKÅR_1_2_2BNR ^= 999 THEN                          00008040
               CALL SKRIV_FEIL_YP(EPY.VILKÅR_1_2_2BNR);                 00008050
          END;                                                          00008060
       IF EPY.YST_ÅMDNR = 0 THEN                                        00008070
          S001201O.YST_MÅA = NOR_NUM;                                   00008080
       ELSE                                                             00008090
          DO;                                                           00008100
            S001201O.YST_MÅA = BRI_NUM;                                 00008110
            S001201I.YST_MÅL = CURSOR_POS;                              00008120
            IF EPY.YST_ÅMDNR ^= 999 THEN                                00008130
               CALL SKRIV_FEIL_YP(EPY.YST_ÅMDNR);                       00008140
          END;                                                          00008150
       IF EPY.YSYKDOMNR = 0 THEN                                        00008160
          S001201O.YSYKDOMA = NORMAL;                                   00008170
       ELSE                                                             00008180
          DO;                                                           00008190
            S001201O.YSYKDOMA = DFHBMBRY;                               00008200
            S001201I.YSYKDOML = CURSOR_POS;                             00008210
            IF EPY.YSYKDOMNR ^= 999 THEN                                00008220
               CALL SKRIV_FEIL_YP(EPY.YSYKDOMNR);                       00008230
          END;                                                          00008240
       IF EPY.YUGNR = 0 THEN                                            00008250
          S001201O.YUGA = NOR_NUM;                                      00008260
       ELSE                                                             00008270
          DO;                                                           00008280
            S001201O.YUGA = BRI_NUM;                                    00008290
            S001201I.YUGL = CURSOR_POS;                                 00008300
            IF EPY.YUGNR ^= 999 THEN                                    00008310
               CALL SKRIV_FEIL_YP(EPY.YUGNR);                           00008320
          END;                                                          00008330
       IF EPY.KAP_11_7_UTLØSTNR = 0 THEN                                00008340
          S001201O.KAP11_7_UTLØSTA = NORMAL;                            00008350
       ELSE                                                             00008360
          DO;                                                           00008370
            S001201O.KAP11_7_UTLØSTA = DFHBMBRY;                        00008380
            S001201I.KAP11_7_UTLØSTL = CURSOR_POS;                      00008390
            IF EPY.KAP_11_7_UTLØSTNR ^= 999 THEN                        00008400
               CALL SKRIV_FEIL_YP(EPY.KAP_11_7_UTLØSTNR);               00008410
          END;                                                          00008420
       IF EPY.YRKE11NR = 0 THEN                                         00008430
          S001201O.YRKE11A = NORMAL;                                    00008440
       ELSE                                                             00008450
          DO;                                                           00008460
            S001201O.YRKE11A = DFHBMBRY;                                00008470
            S001201I.YRKE11L = CURSOR_POS;                              00008480
            IF EPY.YRKE11NR ^= 999 THEN                                 00008490
               CALL SKRIV_FEIL_YP(EPY.YRKE11NR);                        00008500
          END;                                                          00008510
       IF EPY.AÅINR = 0 THEN                                            00008520
          S001201O.AÅIA = NOR_NUM;                                      00008530
       ELSE                                                             00008540
          DO;                                                           00008550
            S001201O.AÅIA = BRI_NUM;                                    00008560
            S001201I.AÅIL = CURSOR_POS;                                 00008570
            IF EPY.AÅINR ^= 999 THEN                                    00008580
               CALL SKRIV_FEIL_YP(EPY.AÅINR);                           00008590
          END;                                                          00008600
       IF EPY.FNR_EKNR = 0 THEN                                         00008610
          S001201O.FNR_EKA = NOR_NUM;                                   00008620
       ELSE                                                             00008630
          DO;                                                           00008640
            S001201O.FNR_EKA = BRI_NUM;                                 00008650
            S001201I.FNR_EKL = CURSOR_POS;                              00008660
            IF EPY.FNR_EKNR ^= 999 THEN                                 00008670
               CALL SKRIV_FEIL_YP(EPY.FNR_EKNR);                        00008680
          END;                                                          00008690
       IF EPY.FNR_SAMBOERNR = 0 THEN                                    00008700
          S001201O.FNR_SAMBOERA = NOR_NUM;                              00008710
       ELSE                                                             00008720
          DO;                                                           00008730
            S001201O.FNR_SAMBOERA = BRI_NUM;                            00008740
            S001201I.FNR_SAMBOERL = CURSOR_POS;                         00008750
            IF EPY.FNR_SAMBOERNR ^= 999 THEN                            00008760
               CALL SKRIV_FEIL_YP(EPY.FNR_SAMBOERNR);                   00008770
          END;                                                          00008780
       IF EPY.FNR_Y_BARNNR = 0 THEN                                     00008790
          S001201O.FNR_Y_BARNA = NOR_NUM;                               00008800
       ELSE                                                             00008810
          DO;                                                           00008820
            S001201O.FNR_Y_BARNA = BRI_NUM;                             00008830
            S001201I.FNR_Y_BARNL = CURSOR_POS;                          00008840
            IF EPY.FNR_Y_BARNNR ^= 999 THEN                             00008850
               CALL SKRIV_FEIL_YP(EPY.FNR_Y_BARNNR);                    00008860
          END;                                                          00008870
       IF EPY.PLEIEBARNNR = 0 THEN                                      00008880
          S001201O.PLEIEBARNA = NOR_NUM;                                00008890
       ELSE                                                             00008900
          DO;                                                           00008910
            S001201O.PLEIEBARNA = BRI_NUM;                              00008920
            S001201I.PLEIEBARNL = CURSOR_POS;                           00008930
            IF EPY.PLEIEBARNNR ^= 999 THEN                              00008940
               CALL SKRIV_FEIL_YP(EPY.PLEIEBARNNR);                     00008950
          END;                                                          00008960
                                                                        00008970
 /* VED GAMLE TRANS SKAL FELTER BLOKKERES                         */    00008980
       IF ^(TRANS_OPPL_OMR.NY_GML_TRANS_IND = 'G' & FRA_MED_DIALOG) THEN00008990
          IF FRA_UTEN_DIALOG                                        THEN00009000
             DO;                                                        00009010
                S001201O.VILKÅR_1_2_2AA  = DFHBMASK;                    00009020
                S001201O.VILKÅR_1_2_2BA  = DFHBMASK;                    00009030
                S001201O.YST_MÅA         = DFHBMASK;                    00009040
                S001201O.YSYKDOMA        = DFHBMASK;                    00009050
                S001201O.YUGA            = DFHBMASK;                    00009060
                S001201O.KAP11_7_UTLØSTA = DFHBMASK;                    00009070
                S001201O.YRKE11A         = DFHBMASK;                    00009080
                S001201O.AÅIA            = DFHBMASK;                    00009090
                S001201O.FNR_EKA         = DFHBMASK;                    00009100
                S001201O.FNR_SAMBOERA    = DFHBMASK;                    00009110
                S001201O.FNR_Y_BARNA     = DFHBMASK;                    00009120
                S001201O.PLEIEBARNA      = DFHBMASK;                    00009130
                YMELDING6O               =                              00009140
                          'TRYKK PF1 FOR OPPBEVAR, PF2 FOR FORKASTE.';  00009150
             END;                                                       00009160
       IF ^FRA_CICS THEN                                                00009170
          DO;                                                           00009180
             S001201O.STYRE_KODEA    = DFHBMASK;                        00009190
             S001201O.FUNKSJONSKODEA = DFHBMASK;                        00009200
          END;                                                          00009210
                                                                        00009220
    END OVERFØR_EPY_MAP;                                                00009230
