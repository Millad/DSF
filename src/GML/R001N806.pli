 /*       SIST ENDRET 06/10-94 09.17.10 AV   TSB0310                  */00000000
 /*       SIST ENDRET 23/09-94 14.27.49 AV   DYBVIK                   */00000010
 /*       SIST ENDRET 06/03-91 11.49.40 AV   DYBVIK                   */00000020
  /*IDENTIFIKASJON:                                                   */00000030
  /*    R001N806 - PROSEDYRE I PLI                                    */00000040
  /*    PROGRAMMERER:  ROLF FARVIK, DATA-UTVIKLING AS NOV-90          */00000050
  /*HENSIKT:                                                          */00000060
  /*    PROGRAMMET INNEHOLDER:                                        */00000070
  /*    PROSEDYRER FOR Å OVERFØRE DATA FRA EP_TRANS_OMR TIL           */00000080
  /*    SKJERMBILDE (MAP S001N81 MAPSET S001N8).                      */00000090
  /*    SKJERMBILDE (MAP S001201 MAPSET S00120).  *//*YS*//*          */00000100
  /*BRUK:                                                             */00000110
  /*    OVERFØR_E3SØKER_MAP:      OVERFØRING AV EPDELEN               */00000120
  /*    OVERFØR_E3SPES_MAP:       OVERFØRING AV SPESIELL DEL SØKER    */00000130
  /*    OVERFØR_E3SPES_AVDØD_MAP: OVERFØRING AV SPESIELL DEL AVDØDE   */00000140
  /*    OVERFØR_E3Y_MAP:          OVERFØRING AV YRKESSKADEOPPL. *//*YS*/00000150
  /*                                                                  */00000160
  % PAGE;                                                               00000170
  /* ***************************************************************  */00000180
  /*   PROSEDYRA OVERFØRER DATA FRA EP_TRANS_OMR TIL                  */00000190
  /*   SKJERMBILDE EP_SØKER DELEN.                                    */00000200
  /*   MAP: S001N81                                                   */00000210
  /*   MAPSET: S001N8                                                 */00000220
  /* ***************************************************************  */00000230
  % SKIP (2);                                                           00000240
   OVERFØR_E3SØKER_MAP:                                                 00000250
    PROC;                                                               00000260
    DCL                                                                 00000270
       NORMAL            CHAR (1) INIT(' '),                            00000280
       NOR_NUM           CHAR (1) INIT('&'),                            00000290
       BRI_NUM           CHAR (1) INIT('Q');                            00000300
                                                                        00000310
       S001N81O.REGDATOO          = F_FELT_PIC_CHAR6 (E3S.REGDATO);     00000320
       S001N81O.TERMIDO           = E3S.TERMID;                         00000330
       S001N81O.FNRO              = F_FELT_PIC_CHAR11(E3S.FNR);         00000340
       S001N81O.NAVNO             = E3S.NAVN;                           00000350
       S001N81O.TKNRO             = F_FELT_PIC_CHAR4(E3S.TKNR);         00000360
       S001N81O.SIVILSTANDO       = E3S.SIVILSTAND;                     00000370
       S001N81O.SPRÅKO            = E3S.SPRÅK;                          00000380
       S001N81O.NORSK_BOSATTO     = E3S.NORSK_BOSATT;                   00000390
       S001N81O.VILKÅR_10_5O      = E3S.VILKÅR_10_5;                    00000400
       S001N81O.OMSORG_AVD_BAO    = E3S.OMSORG_AVD_BA;                  00000410
       S001N81O.FORVENTETO        = F_FELT_PIC_CHAR7(E3S.FORVENTET);    00000420
       S001N81O.FAIO              = F_FELT_PIC_CHAR7(E3S.FAI);          00000430
 /*YS*/S001N81O.YSKADE_TILLEGGO   = E3S.YSKADE_TILLEGG;                 00000440
       S001N81O.GP_OS_KODEO       = E3S.GP_OS_KODE;                     00000450
       IF F_FELT_PIC_CHAR4(E3S.FRAMLEGGSDATO_MÅ) ^= (4)'0' THEN         00000460
         S001N81O.FRAML_DATO_MÅO=F_FELT_PIC_CHAR4(E3S.FRAMLEGGSDATO_MÅ);00000470
       S001N81O.FRAMLEGGSKODEO    = E3S.FRAMLEGGSKODE;                  00000480
       S001N81O.VIRK_DATO_MÅO     = F_FELT_PIC_CHAR4(E3S.VIRK_DATO_MÅ); 00000490
       IF F_FELT_PIC_CHAR11(E3S.FNR_EK) ^= '00000000000' THEN           00000500
          S001N81O.FNR_EKO        = F_FELT_PIC_CHAR11(E3S.FNR_EK);      00000510
       S001N81O.NAVN_EKO          = E3S.NAVN_EK;                        00000520
       S001N81O.NORSK_BOSATT_EKO  = E3S.NORSK_BOSATT_EK;                00000530
       IF F_FELT_PIC_CHAR6(E3S.DØDSDATO_EK) ^= (6)'0' THEN              00000540
          S001N81O.DØDSDATO_EKO   = F_FELT_PIC_CHAR6(E3S.DØDSDATO_EK);  00000550
       S001N81O.VILKÅR_8_4_EKO    = E3S.VILKÅR_8_4_EK;                  00000560
       IF F_FELT_PIC_CHAR7(E3S.PI_EK) ^= '0000000' THEN                 00000570
          S001N81O.PI_EKO         = F_FELT_PIC_CHAR7(E3S.PI_EK);        00000580
       IF F_FELT_PIC_CHAR2(E3S.VP_ÅR_EK(1)) ^= '00' THEN                00000590
          S001N81O.VP_ÅR1_EKO     = F_FELT_PIC_CHAR2(E3S.VP_ÅR_EK(1));  00000600
       IF F_FELT_PIC_CHAR2(E3S.VP_ÅR_EK(2)) ^= '00' THEN                00000610
          S001N81O.VP_ÅR2_EKO     = F_FELT_PIC_CHAR2(E3S.VP_ÅR_EK(2));  00000620
       IF F_FELT_PIC_CHAR2(E3S.VP_ÅR_EK(3)) ^= '00' THEN                00000630
          S001N81O.VP_ÅR3_EKO     = F_FELT_PIC_CHAR2(E3S.VP_ÅR_EK(3));  00000640
       IF F_FELT_PIC_CHAR2(E3S.VP_ÅR_EK(4)) ^= '00' THEN                00000650
          S001N81O.VP_ÅR4_EKO     = F_FELT_PIC_CHAR2(E3S.VP_ÅR_EK(4));  00000660
   % SKIP (3);                                                          00000670
                                                                        00000680
   /* FEILMELDINGER MARKERING AV FELT (ATTRIBUTTENE)  */                00000690
       S001N81O.DUMMYA = '_';                                           00000700
                                                                        00000710
   /* DERSOM FEIL I BEHANDLE TRANS OVERFØRES FEIL HER,BARE FØRSTE GANG*/00000720
       IF ^ FRA_CICS THEN                                               00000730
         DO;                                                            00000740
           IF FEIL_MELD_NR > 0 THEN                                     00000750
             CALL SKRIV_FEIL(FEIL_MELD_NR);                             00000760
           FEIL_MELD_NR = 0;                                            00000770
         END;                                                           00000780
                                                                        00000790
       S001N81O.REGDATOA = DFHBMASK;                                    00000800
                                                                        00000810
       S001N81O.TERMIDA  = DFHBMASK;                                    00000820
                                                                        00000830
       IF E3S.FNRNR = 0 THEN                                            00000840
          S001N81O.FNRA = NOR_NUM;                                      00000850
       ELSE                                                             00000860
          DO;                                                           00000870
            S001N81O.FNRA = BRI_NUM;                                    00000880
            S001N81I.FNRL = CURSOR_POS;                                 00000890
            IF E3S.FNRNR ^= 999 THEN                                    00000900
               CALL SKRIV_FEIL(E3S.FNRNR);                              00000910
          END;                                                          00000920
       IF E3S.NAVNNR = 0 THEN                                           00000930
          S001N81O.NAVNA = NORMAL;                                      00000940
       ELSE                                                             00000950
          DO;                                                           00000960
            S001N81O.NAVNA = DFHBMBRY;                                  00000970
            S001N81I.NAVNL = CURSOR_POS;                                00000980
            IF E3S.NAVNNR ^= 999 THEN                                   00000990
               CALL SKRIV_FEIL(E3S.NAVNNR);                             00001000
          END;                                                          00001010
       IF E3S.TKNRNR = 0 THEN                                           00001020
          S001N81O.TKNRA = NOR_NUM;                                     00001030
       ELSE                                                             00001040
          DO;                                                           00001050
            S001N81O.TKNRA = BRI_NUM;                                   00001060
            S001N81I.TKNRL = CURSOR_POS;                                00001070
            IF E3S.TKNRNR ^= 999 THEN                                   00001080
               CALL SKRIV_FEIL(E3S.TKNRNR);                             00001090
          END;                                                          00001100
       IF E3S.SIVILSTANDNR = 0 THEN                                     00001110
          S001N81O.SIVILSTANDA = NORMAL;                                00001120
       ELSE                                                             00001130
          DO;                                                           00001140
            S001N81O.SIVILSTANDA = DFHBMBRY;                            00001150
            S001N81I.SIVILSTANDL = CURSOR_POS;                          00001160
            IF E3S.SIVILSTANDNR ^= 999 THEN                             00001170
               CALL SKRIV_FEIL(E3S.SIVILSTANDNR);                       00001180
          END;                                                          00001190
       IF E3S.SPRÅKNR = 0 THEN                                          00001200
          S001N81O.SPRÅKA = NORMAL;                                     00001210
       ELSE                                                             00001220
          DO;                                                           00001230
            S001N81O.SPRÅKA = DFHBMBRY;                                 00001240
            S001N81I.SPRÅKL = CURSOR_POS;                               00001250
            IF E3S.SPRÅKNR ^= 999 THEN                                  00001260
               CALL SKRIV_FEIL(E3S.SPRÅKNR);                            00001270
          END;                                                          00001280
       IF E3S.NORSK_BOSATTNR = 0 THEN                                   00001290
          S001N81O.NORSK_BOSATTA = NORMAL;                              00001300
       ELSE                                                             00001310
          DO;                                                           00001320
            S001N81O.NORSK_BOSATTA = DFHBMBRY;                          00001330
            S001N81I.NORSK_BOSATTL = CURSOR_POS;                        00001340
            IF E3S.NORSK_BOSATTNR ^= 999 THEN                           00001350
               CALL SKRIV_FEIL(E3S.NORSK_BOSATTNR);                     00001360
          END;                                                          00001370
       IF E3S.VILKÅR_10_5NR = 0 THEN                                    00001380
          S001N81O.VILKÅR_10_5A = NORMAL;                               00001390
       ELSE                                                             00001400
          DO;                                                           00001410
            S001N81O.VILKÅR_10_5A = DFHBMBRY;                           00001420
            S001N81I.VILKÅR_10_5L = CURSOR_POS;                         00001430
            IF E3S.VILKÅR_10_5NR ^= 999 THEN                            00001440
               CALL SKRIV_FEIL(E3S.VILKÅR_10_5NR);                      00001450
          END;                                                          00001460
       IF E3S.OMSORG_AVD_BANR = 0 THEN                                  00001470
          S001N81O.OMSORG_AVD_BAA = NORMAL;                             00001480
       ELSE                                                             00001490
          DO;                                                           00001500
            S001N81O.OMSORG_AVD_BAA = DFHBMBRY;                         00001510
            S001N81I.OMSORG_AVD_BAL = CURSOR_POS;                       00001520
            IF E3S.OMSORG_AVD_BANR ^= 999 THEN                          00001530
               CALL SKRIV_FEIL(E3S.OMSORG_AVD_BANR);                    00001540
          END;                                                          00001550
       IF E3S.FORVENTETNR = 0 THEN                                      00001560
          S001N81O.FORVENTETA = NOR_NUM;                                00001570
       ELSE                                                             00001580
          DO;                                                           00001590
            S001N81O.FORVENTETA = BRI_NUM;                              00001600
            S001N81I.FORVENTETL = CURSOR_POS;                           00001610
            IF E3S.FORVENTETNR ^= 999 THEN                              00001620
               CALL SKRIV_FEIL(E3S.FORVENTETNR);                        00001630
          END;                                                          00001640
       IF E3S.FAINR = 0 THEN                                            00001650
          S001N81O.FAIA = NOR_NUM;                                      00001660
       ELSE                                                             00001670
          DO;                                                           00001680
            S001N81O.FAIA = BRI_NUM;                                    00001690
            S001N81I.FAIL = CURSOR_POS;                                 00001700
            IF E3S.FAINR ^= 999 THEN                                    00001710
               CALL SKRIV_FEIL(E3S.FAINR);                              00001720
          END;                                                          00001730
 /*YS*/IF E3S.YSKADE_TILLEGGNR = 0 THEN                                 00001740
 /*YS*/   S001N81O.YSKADE_TILLEGGA = NORMAL;                            00001750
 /*YS*/ELSE                                                             00001760
 /*YS*/   DO;                                                           00001770
 /*YS*/     S001N81O.YSKADE_TILLEGGA = DFHBMBRY;                        00001780
 /*YS*/     S001N81I.YSKADE_TILLEGGL = CURSOR_POS;                      00001790
 /*YS*/     IF E3S.YSKADE_TILLEGGNR ^= 999 THEN                         00001800
 /*YS*/        CALL SKRIV_FEIL(E3S.YSKADE_TILLEGGNR);                   00001810
 /*YS*/   END;                                                          00001820
       IF E3S.GP_OS_KODENR = 0 THEN                                     00001830
          S001N81O.GP_OS_KODEA = NORMAL;                                00001840
       ELSE                                                             00001850
          DO;                                                           00001860
            S001N81O.GP_OS_KODEA = DFHBMBRY;                            00001870
            S001N81I.GP_OS_KODEL = CURSOR_POS;                          00001880
            IF E3S.GP_OS_KODENR ^= 999 THEN                             00001890
               CALL SKRIV_FEIL(E3S.GP_OS_KODENR);                       00001900
          END;                                                          00001910
       IF E3S.FRAMLEGGSDATO_MÅNR = 0 THEN                               00001920
          S001N81O.FRAML_DATO_MÅA = NOR_NUM;                            00001930
       ELSE                                                             00001940
          DO;                                                           00001950
            S001N81O.FRAML_DATO_MÅA = BRI_NUM;                          00001960
            S001N81I.FRAML_DATO_MÅL = CURSOR_POS;                       00001970
            IF E3S.FRAMLEGGSDATO_MÅNR ^= 999 THEN                       00001980
               CALL SKRIV_FEIL(E3S.FRAMLEGGSDATO_MÅNR);                 00001990
          END;                                                          00002000
       IF E3S.FRAMLEGGSKODENR = 0 THEN                                  00002010
          S001N81O.FRAMLEGGSKODEA = NORMAL;                             00002020
       ELSE                                                             00002030
          DO;                                                           00002040
            S001N81O.FRAMLEGGSKODEA = DFHBMBRY;                         00002050
            S001N81I.FRAMLEGGSKODEL = CURSOR_POS;                       00002060
            IF E3S.FRAMLEGGSKODENR ^= 999 THEN                          00002070
               CALL SKRIV_FEIL(E3S.FRAMLEGGSKODENR);                    00002080
          END;                                                          00002090
       IF E3S.VIRK_DATO_MÅNR = 0 THEN                                   00002100
          S001N81O.VIRK_DATO_MÅA = NOR_NUM;                             00002110
       ELSE                                                             00002120
          DO;                                                           00002130
            S001N81O.VIRK_DATO_MÅA = BRI_NUM;                           00002140
            S001N81I.VIRK_DATO_MÅL = CURSOR_POS;                        00002150
            IF E3S.VIRK_DATO_MÅNR ^= 999 THEN                           00002160
               CALL SKRIV_FEIL(E3S.VIRK_DATO_MÅNR);                     00002170
          END;                                                          00002180
       IF E3S.FNR_EKNR = 0 THEN                                         00002190
          S001N81O.FNR_EKA = NOR_NUM;                                   00002200
       ELSE                                                             00002210
          DO;                                                           00002220
            S001N81O.FNR_EKA = BRI_NUM;                                 00002230
            S001N81I.FNR_EKL = CURSOR_POS;                              00002240
            IF E3S.FNR_EKNR ^= 999 THEN                                 00002250
               CALL SKRIV_FEIL(E3S.FNR_EKNR);                           00002260
          END;                                                          00002270
       IF E3S.NAVN_EKNR = 0 THEN                                        00002280
          S001N81O.NAVN_EKA = NORMAL;                                   00002290
       ELSE                                                             00002300
          DO;                                                           00002310
            S001N81O.NAVN_EKA = DFHBMBRY;                               00002320
            S001N81I.NAVN_EKL = CURSOR_POS;                             00002330
            IF E3S.NAVN_EKNR ^= 999 THEN                                00002340
               CALL SKRIV_FEIL(E3S.NAVN_EKNR);                          00002350
          END;                                                          00002360
       IF E3S.NORSK_BOSATT_EKNR = 0 THEN                                00002370
          S001N81O.NORSK_BOSATT_EKA = NORMAL;                           00002380
       ELSE                                                             00002390
          DO;                                                           00002400
            S001N81O.NORSK_BOSATT_EKA = DFHBMBRY;                       00002410
            S001N81I.NORSK_BOSATT_EKL = CURSOR_POS;                     00002420
            IF E3S.NORSK_BOSATT_EKNR ^= 999 THEN                        00002430
               CALL SKRIV_FEIL(E3S.NORSK_BOSATT_EKNR);                  00002440
          END;                                                          00002450
       IF E3S.DØDSDATO_EKNR = 0 THEN                                    00002460
          S001N81O.DØDSDATO_EKA = NOR_NUM;                              00002470
       ELSE                                                             00002480
          DO;                                                           00002490
            S001N81O.DØDSDATO_EKA = BRI_NUM;                            00002500
            S001N81I.DØDSDATO_EKL = CURSOR_POS;                         00002510
            IF E3S.DØDSDATO_EKNR ^= 999 THEN                            00002520
               CALL SKRIV_FEIL(E3S.DØDSDATO_EKNR);                      00002530
          END;                                                          00002540
       IF E3S.VILKÅR_8_4_EKNR = 0 THEN                                  00002550
          S001N81O.VILKÅR_8_4_EKA = NORMAL;                             00002560
       ELSE                                                             00002570
          DO;                                                           00002580
            S001N81O.VILKÅR_8_4_EKA = DFHBMBRY;                         00002590
            S001N81I.VILKÅR_8_4_EKL = CURSOR_POS;                       00002600
            IF E3S.VILKÅR_8_4_EKNR ^= 999 THEN                          00002610
               CALL SKRIV_FEIL(E3S.VILKÅR_8_4_EKNR);                    00002620
          END;                                                          00002630
       IF E3S.PI_EKNR = 0 THEN                                          00002640
          S001N81O.PI_EKA = NOR_NUM;                                    00002650
       ELSE                                                             00002660
          DO;                                                           00002670
            S001N81O.PI_EKA = BRI_NUM;                                  00002680
            S001N81I.PI_EKL = CURSOR_POS;                               00002690
            IF E3S.PI_EKNR ^= 999 THEN                                  00002700
               CALL SKRIV_FEIL(E3S.PI_EKNR);                            00002710
          END;                                                          00002720
       IF E3S.VP_ÅR_EKNR(1) = 0 THEN                                    00002730
          S001N81O.VP_ÅR1_EKA = NOR_NUM;                                00002740
       ELSE                                                             00002750
          DO;                                                           00002760
            S001N81O.VP_ÅR1_EKA = BRI_NUM;                              00002770
            S001N81I.VP_ÅR1_EKL = CURSOR_POS;                           00002780
            IF E3S.VP_ÅR_EKNR(1) ^= 999 THEN                            00002790
               CALL SKRIV_FEIL(E3S.VP_ÅR_EKNR(1));                      00002800
          END;                                                          00002810
       IF E3S.VP_ÅR_EKNR(2) = 0 THEN                                    00002820
          S001N81O.VP_ÅR2_EKA = NOR_NUM;                                00002830
       ELSE                                                             00002840
          DO;                                                           00002850
            S001N81O.VP_ÅR2_EKA = BRI_NUM;                              00002860
            S001N81I.VP_ÅR2_EKL = CURSOR_POS;                           00002870
            IF E3S.VP_ÅR_EKNR(2) ^= 999 THEN                            00002880
               CALL SKRIV_FEIL(E3S.VP_ÅR_EKNR(2));                      00002890
          END;                                                          00002900
       IF E3S.VP_ÅR_EKNR(3) = 0 THEN                                    00002910
          S001N81O.VP_ÅR3_EKA = NOR_NUM;                                00002920
       ELSE                                                             00002930
          DO;                                                           00002940
            S001N81O.VP_ÅR3_EKA = BRI_NUM;                              00002950
            S001N81I.VP_ÅR3_EKL = CURSOR_POS;                           00002960
            IF E3S.VP_ÅR_EKNR(3) ^= 999 THEN                            00002970
               CALL SKRIV_FEIL(E3S.VP_ÅR_EKNR(3));                      00002980
          END;                                                          00002990
       IF E3S.VP_ÅR_EKNR(4) = 0 THEN                                    00003000
          S001N81O.VP_ÅR4_EKA = NOR_NUM;                                00003010
       ELSE                                                             00003020
          DO;                                                           00003030
            S001N81O.VP_ÅR4_EKA = BRI_NUM;                              00003040
            S001N81I.VP_ÅR4_EKL = CURSOR_POS;                           00003050
            IF E3S.VP_ÅR_EKNR(4) ^= 999 THEN                            00003060
               CALL SKRIV_FEIL(E3S.VP_ÅR_EKNR(4));                      00003070
          END;                                                          00003080
                                                                        00003090
       /* VED GAMLE TRANS SKAL FNR OG VIRKDATO BLOKKERES  */            00003100
                                                                        00003110
       IF TRANS_OPPL_OMR.NY_GML_TRANS_IND = 'G' & FRA_MED_DIALOG THEN   00003120
          DO;                                                           00003130
            S001N81O.FNRA          = DFHBMASK;/*  PROTECTED AND ASKIP*/ 00003140
            S001N81O.VIRK_DATO_MÅA = DFHBMASK;                          00003150
          END;                                                          00003160
                                                                        00003170
       ELSE IF FRA_UTEN_DIALOG THEN  /* BLOKKER ALT SAMMEN  */          00003180
                                                                        00003190
          DO;                                                           00003200
            S001N81O.REGDATOA         = DFHBMASK;                       00003210
            S001N81O.TERMIDA          = DFHBMASK;                       00003220
            S001N81O.FNRA             = DFHBMASK;                       00003230
            S001N81O.NAVNA            = DFHBMASK;                       00003240
            S001N81O.TKNRA            = DFHBMASK;                       00003250
            S001N81O.SIVILSTANDA      = DFHBMASK;                       00003260
            S001N81O.SPRÅKA           = DFHBMASK;                       00003270
            S001N81O.NORSK_BOSATTA    = DFHBMASK;                       00003280
            S001N81O.VILKÅR_10_5A     = DFHBMASK;                       00003290
            S001N81O.OMSORG_AVD_BAA   = DFHBMASK;                       00003300
            S001N81O.FORVENTETA       = DFHBMASK;                       00003310
            S001N81O.FAIA             = DFHBMASK;                       00003320
 /*YS*/     S001N81O.YSKADE_TILLEGGA  = DFHBMASK;                       00003330
            S001N81O.GP_OS_KODEA      = DFHBMASK;                       00003340
            S001N81O.FRAML_DATO_MÅA   = DFHBMASK;                       00003350
            S001N81O.FRAMLEGGSKODEA   = DFHBMASK;                       00003360
            S001N81O.VIRK_DATO_MÅA    = DFHBMASK;                       00003370
            S001N81O.FNR_EKA          = DFHBMASK;                       00003380
            S001N81O.NAVN_EKA         = DFHBMASK;                       00003390
            S001N81O.NORSK_BOSATT_EKA = DFHBMASK;                       00003400
            S001N81O.DØDSDATO_EKA     = DFHBMASK;                       00003410
            S001N81O.VILKÅR_8_4_EKA   = DFHBMASK;                       00003420
            S001N81O.PI_EKA           = DFHBMASK;                       00003430
            S001N81O.VP_ÅR1_EKA       = DFHBMASK;                       00003440
            S001N81O.VP_ÅR2_EKA       = DFHBMASK;                       00003450
            S001N81O.VP_ÅR3_EKA       = DFHBMASK;                       00003460
            S001N81O.VP_ÅR4_EKA       = DFHBMASK;                       00003470
            MELDING6O = 'TRYKK PF1 FOR OPPBEVAR, PF2 FOR FORKASTE';     00003480
          END;                                                          00003490
                                                                        00003500
       IF ^ FRA_CICS THEN                                               00003510
          DO;                                                           00003520
            S001N81O.STYRE_KODEA    = DFHBMASK;                         00003530
            S001N81O.FUNKSJONSKODEA = DFHBMASK;                         00003540
          END;                                                          00003550
        END OVERFØR_E3SØKER_MAP;                                        00003560
  %PAGE;                                                                00003570
  /* **************************************************************** */00003580
  /*                                                                  */00003590
  /*   PROSEDYRA OVERFØRER DATA FRA EP_TRANS_OMR.E3SP TIL             */00003600
  /*   SKJERMBILDE EP_SPES. DELEN_SØKER.                              */00003610
  /*   MAP: S001N81                                                   */00003620
  /*   MAPSET: S001N8                                                 */00003630
  /*                                                                  */00003640
  /* **************************************************************** */00003650
  %SKIP(2);                                                             00003660
  OVERFØR_E3SPES_SØKER_MAP:                                             00003670
    PROC;                                                               00003680
    DCL                                                                 00003690
       NORMAL            CHAR (1) INIT(' '),                            00003700
       NOR_NUM           CHAR (1) INIT('&'),                            00003710
       BRI_NUM           CHAR (1) INIT('Q');                            00003720
                                                                        00003730
  %SKIP;                                                                00003740
       IF F_FELT_PIC_CHAR3(E3SP.STATSBORGER) ^= '000' THEN              00003750
          S001N81O.STATSBORGERO   = F_FELT_PIC_CHAR3(E3SP.STATSBORGER); 00003760
       IF F_FELT_PIC_CHAR3(E3SP.BOSATT) ^= '000' THEN                   00003770
          S001N81O.BOSATTO        = F_FELT_PIC_CHAR3(E3SP.BOSATT);      00003780
       S001N81O.PENSJONSTRYGDETO  = E3SP.PENSJONSTRYGDET;               00003790
       S001N81O.MINST_20ÅRO       = E3SP.MINST_20ÅR;                    00003800
       S001N81O.FRAVIK_KONVO      = E3SP.FRAVIK_KONVENSJON;             00003810
       S001N81O.FRAVIK_FLYKTO     = E3SP.FRAVIK_FLYKT;                  00003820
       S001N81O.OVERKOMP_UTLO     = E3SP.OVERKOMP_UTL;                  00003830
       S001N81O.IKKE_GPO          = E3SP.IKKE_GP;                       00003840
       S001N81O.BEREGNING_KONVO   = E3SP.BEREGNING_KONVENSJON;          00003850
       IF F_FELT_PIC_CHAR2(E3SP.TT_KONVENSJON_ÅR) ^= '00' THEN          00003860
        S001N81O.TT_KONV_ÅRO = F_FELT_PIC_CHAR2(E3SP.TT_KONVENSJON_ÅR); 00003870
 /*                                                                     00003880
       IF F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937ÅR) ^= '00' THEN             00003890
          S001N81O.TT_FRA_1937ÅRO =                                     00003900
                           F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937ÅR);        00003910
       IF F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937MND) ^= '00' THEN            00003920
          S001N81O.TT_FRA_1937MNDO =                                    00003930
                           F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937MND);       00003940
    ENDERET SP 23.9.94  */                                              00003950
                                                                        00003960
       IF E3SP.TT_FRA_1937ÅR  ^= 0    THEN                              00003970
          S001N81O.TT_FRA_1937ÅRO =    E3SP.TT_FRA_1937ÅR ;             00003980
                                                                        00003990
       IF E3SP.TT_FRA_1937MND ^= 0 THEN                                 00004000
          S001N81O.TT_FRA_1937MNDO = E3SP.TT_FRA_1937MND;               00004010
                                                                        00004020
       S001N81O.TT_NORDEN_ANNETO  = E3SP.TT_NORDEN_ANNET;               00004030
       S001N81O.VILKÅR_10_5_NR2O  = E3SP.VILKÅR_10_5_NR2;               00004040
       IF F_FELT_PIC_CHAR4(E3SP.STI) ^= '0000' THEN                     00004050
          S001N81O.STIO  = F_FELT_PIC_CHAR4(E3SP.STI);                  00004060
  %SKIP(3);                                                             00004070
  /* MARKERING AV ATTRIBUTTER   */                                      00004080
  % SKIP;                                                               00004090
       IF E3SP.STATSBORGERNR = 0 THEN                                   00004100
          S001N81O.STATSBORGERA = NOR_NUM;                              00004110
       ELSE                                                             00004120
          DO;                                                           00004130
            S001N81O.STATSBORGERA = BRI_NUM;                            00004140
            S001N81I.STATSBORGERL = CURSOR_POS;                         00004150
            IF E3SP.STATSBORGERNR ^= 999 THEN                           00004160
               CALL SKRIV_FEIL(E3SP.STATSBORGERNR);                     00004170
          END;                                                          00004180
       IF E3SP.BOSATTNR = 0 THEN                                        00004190
          S001N81O.BOSATTA = NOR_NUM;                                   00004200
       ELSE                                                             00004210
          DO;                                                           00004220
            S001N81O.BOSATTA = BRI_NUM;                                 00004230
            S001N81I.BOSATTL = CURSOR_POS;                              00004240
            IF E3SP.BOSATTNR ^= 999 THEN                                00004250
               CALL SKRIV_FEIL(E3SP.BOSATTNR);                          00004260
          END;                                                          00004270
       IF E3SP.PENSJONSTRYGDETNR = 0 THEN                               00004280
          S001N81O.PENSJONSTRYGDETA = NORMAL;                           00004290
       ELSE                                                             00004300
          DO;                                                           00004310
            S001N81O.PENSJONSTRYGDETA = DFHBMBRY;                       00004320
            S001N81I.PENSJONSTRYGDETL = CURSOR_POS;                     00004330
            IF E3SP.PENSJONSTRYGDETNR ^= 999 THEN                       00004340
               CALL SKRIV_FEIL(E3SP.PENSJONSTRYGDETNR);                 00004350
          END;                                                          00004360
       IF E3SP.MINST_20ÅRNR = 0 THEN                                    00004370
          S001N81O.MINST_20ÅRA = NORMAL;                                00004380
       ELSE                                                             00004390
          DO;                                                           00004400
            S001N81O.MINST_20ÅRA = DFHBMBRY;                            00004410
            S001N81I.MINST_20ÅRL = CURSOR_POS;                          00004420
            IF E3SP.MINST_20ÅRNR ^= 999 THEN                            00004430
               CALL SKRIV_FEIL(E3SP.MINST_20ÅRNR);                      00004440
          END;                                                          00004450
       IF E3SP.FRAVIK_KONVENSJONNR = 0 THEN                             00004460
          S001N81O.FRAVIK_KONVA = NORMAL;                               00004470
       ELSE                                                             00004480
          DO;                                                           00004490
            S001N81O.FRAVIK_KONVA = DFHBMBRY;                           00004500
            S001N81I.FRAVIK_KONVL = CURSOR_POS;                         00004510
            IF E3SP.FRAVIK_KONVENSJONNR ^= 999 THEN                     00004520
               CALL SKRIV_FEIL(E3SP.FRAVIK_KONVENSJONNR);               00004530
          END;                                                          00004540
       IF E3SP.FRAVIK_FLYKTNR = 0 THEN                                  00004550
          S001N81O.FRAVIK_FLYKTA = NORMAL;                              00004560
       ELSE                                                             00004570
          DO;                                                           00004580
            S001N81O.FRAVIK_FLYKTA = DFHBMBRY;                          00004590
            S001N81I.FRAVIK_FLYKTL = CURSOR_POS;                        00004600
            IF E3SP.FRAVIK_FLYKTNR ^= 999 THEN                          00004610
               CALL SKRIV_FEIL(E3SP.FRAVIK_FLYKTNR);                    00004620
          END;                                                          00004630
       IF E3SP.OVERKOMP_UTLNR = 0 THEN                                  00004640
          S001N81O.OVERKOMP_UTLA = NORMAL;                              00004650
       ELSE                                                             00004660
          DO;                                                           00004670
            S001N81O.OVERKOMP_UTLA = DFHBMBRY;                          00004680
            S001N81I.OVERKOMP_UTLL = CURSOR_POS;                        00004690
            IF E3SP.OVERKOMP_UTLNR ^= 999 THEN                          00004700
               CALL SKRIV_FEIL(E3SP.OVERKOMP_UTLNR);                    00004710
          END;                                                          00004720
       IF E3SP.IKKE_GPNR = 0 THEN                                       00004730
          S001N81O.IKKE_GPA = NORMAL;                                   00004740
       ELSE                                                             00004750
          DO;                                                           00004760
            S001N81O.IKKE_GPA = DFHBMBRY;                               00004770
            S001N81I.IKKE_GPL = CURSOR_POS;                             00004780
            IF E3SP.IKKE_GPNR ^= 999 THEN                               00004790
               CALL SKRIV_FEIL(E3SP.IKKE_GPNR);                         00004800
          END;                                                          00004810
       IF E3SP.BEREGNING_KONVENSJONNR = 0 THEN                          00004820
          S001N81O.BEREGNING_KONVA = NORMAL;                            00004830
       ELSE                                                             00004840
          DO;                                                           00004850
            S001N81O.BEREGNING_KONVA = DFHBMBRY;                        00004860
            S001N81I.BEREGNING_KONVL = CURSOR_POS;                      00004870
            IF E3SP.BEREGNING_KONVENSJONNR ^= 999 THEN                  00004880
               CALL SKRIV_FEIL(E3SP.BEREGNING_KONVENSJONNR);            00004890
          END;                                                          00004900
       IF E3SP.TT_KONVENSJON_ÅRNR = 0 THEN                              00004910
          S001N81O.TT_KONV_ÅRA = NOR_NUM;                               00004920
       ELSE                                                             00004930
          DO;                                                           00004940
            S001N81O.TT_KONV_ÅRA = BRI_NUM;                             00004950
            S001N81I.TT_KONV_ÅRL = CURSOR_POS;                          00004960
            IF E3SP.TT_KONVENSJON_ÅRNR ^= 999 THEN                      00004970
               CALL SKRIV_FEIL(E3SP.TT_KONVENSJON_ÅRNR);                00004980
          END;                                                          00004990
       IF E3SP.TT_FRA_1937ÅRNR = 0 THEN                                 00005000
          S001N81O.TT_FRA_1937ÅRA = NOR_NUM;                            00005010
       ELSE                                                             00005020
          DO;                                                           00005030
            S001N81O.TT_FRA_1937ÅRA = BRI_NUM;                          00005040
            S001N81I.TT_FRA_1937ÅRL = CURSOR_POS;                       00005050
            IF E3SP.TT_FRA_1937ÅRNR ^= 999 THEN                         00005060
               CALL SKRIV_FEIL(E3SP.TT_FRA_1937ÅRNR);                   00005070
          END;                                                          00005080
       IF E3SP.TT_FRA_1937MNDNR = 0 THEN                                00005090
          S001N81O.TT_FRA_1937MNDA = NOR_NUM;                           00005100
       ELSE                                                             00005110
          DO;                                                           00005120
            S001N81O.TT_FRA_1937MNDA = BRI_NUM;                         00005130
            S001N81I.TT_FRA_1937MNDL = CURSOR_POS;                      00005140
            IF E3SP.TT_FRA_1937MNDNR ^= 999 THEN                        00005150
               CALL SKRIV_FEIL(E3SP.TT_FRA_1937MNDNR);                  00005160
          END;                                                          00005170
       IF E3SP.TT_NORDEN_ANNETNR = 0 THEN                               00005180
          S001N81O.TT_NORDEN_ANNETA = NORMAL;                           00005190
       ELSE                                                             00005200
          DO;                                                           00005210
            S001N81O.TT_NORDEN_ANNETA = DFHBMBRY;                       00005220
            S001N81I.TT_NORDEN_ANNETL = CURSOR_POS;                     00005230
            IF E3SP.TT_NORDEN_ANNETNR ^= 999 THEN                       00005240
               CALL SKRIV_FEIL(E3SP.TT_NORDEN_ANNETNR);                 00005250
          END;                                                          00005260
       IF E3SP.VILKÅR_10_5_NR2NR = 0 THEN                               00005270
          S001N81O.VILKÅR_10_5_NR2A = NORMAL;                           00005280
       ELSE                                                             00005290
          DO;                                                           00005300
            S001N81O.VILKÅR_10_5_NR2A = DFHBMBRY;                       00005310
            S001N81I.VILKÅR_10_5_NR2L = CURSOR_POS;                     00005320
            IF E3SP.VILKÅR_10_5_NR2NR ^= 999 THEN                       00005330
               CALL SKRIV_FEIL(E3SP.VILKÅR_10_5_NR2NR);                 00005340
          END;                                                          00005350
       IF E3SP.STINR = 0 THEN                                           00005360
          S001N81O.STIA = NOR_NUM;                                      00005370
       ELSE                                                             00005380
          DO;                                                           00005390
            S001N81O.STIA = BRI_NUM;                                    00005400
            S001N81I.STIL = CURSOR_POS;                                 00005410
            IF E3SP.STINR ^= 999 THEN                                   00005420
               CALL SKRIV_FEIL(E3SP.STINR);                             00005430
          END;                                                          00005440
                                                                        00005450
       IF FRA_UTEN_DIALOG THEN                                          00005460
          CALL BLOKKERE_E3SPES_SØKER;   /* BLOKKERE ALT SAMMEN   */     00005470
                                                                        00005480
       END OVERFØR_E3SPES_SØKER_MAP;                                    00005490
   %PAGE;                                                               00005500
   /* *************************************************************** */00005510
   /*                                                                 */00005520
   /*   PROSEDYREN OVERFØRER DATA FRA EP_TRANS_OMR.E3SP TIL           */00005530
   /*   SKJERMBILDE EP_SPES. DEL_AVDØDE.                              */00005540
   /*   MAP:  S001N81                                                 */00005550
   /*   MAPSET:  S001N8                                               */00005560
   /*                                                                 */00005570
   /* *************************************************************** */00005580
   %SKIP(2);                                                            00005590
  OVERFØR_E3SPES_AVDØDE_MAP:                                            00005600
    PROC;                                                               00005610
    DCL                                                                 00005620
       NORMAL            CHAR (1) INIT(' '),                            00005630
       NOR_NUM           CHAR (1) INIT('&'),                            00005640
       BRI_NUM           CHAR (1) INIT('Q');                            00005650
                                                                        00005660
  %SKIP;                                                                00005670
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                            00005680
       IF F_FELT_PIC_CHAR3(E3SP.STATSBORGER_EK) ^= '000' THEN           00005690
          S001N81O.STATSBORGER_EKO   =                                  00005700
                             F_FELT_PIC_CHAR3(E3SP.STATSBORGER_EK);     00005710
       IF F_FELT_PIC_CHAR3(E3SP.BOSATT_EK) ^= '000' THEN                00005720
          S001N81O.BOSATT_EKO       = F_FELT_PIC_CHAR3(E3SP.BOSATT_EK); 00005730
       S001N81O.FRAVIK_FLYKT_EKO     = E3SP.FRAVIK_FLYKT_EK;            00005740
       IF F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937_ÅR_EK) ^= '00' THEN         00005750
          S001N81O.TT_1937_ÅR_EKO =                                     00005760
                           F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937_ÅR_EK);    00005770
       IF F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937_MND_EK) ^= '00' THEN        00005780
          S001N81O.TT_1937_MND_EKO =                                    00005790
                           F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937_MND_EK);   00005800
  %SKIP(3);                                                             00005810
       S001N81O.OVERKOMP_UTL_EKO     = E3SP.OVERKOMP_UTL_EK;            00005820
       S001N81O.TT_NORD_ANNET_EO     = E3SP.TT_NORDEN_ANNET_EK;         00005830
 %SKIP(3);                                                              00005840
 /* MARKERING AV ATTRIBUTTER  */                                        00005850
 %SKIP;                                                                 00005860
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                            00005870
       IF E3SP.STATSBORGER_EKNR = 0 THEN                                00005880
          S001N81O.STATSBORGER_EKA = NOR_NUM;                           00005890
       ELSE                                                             00005900
          DO;                                                           00005910
            S001N81O.STATSBORGER_EKA = BRI_NUM;                         00005920
            S001N81I.STATSBORGER_EKL = CURSOR_POS;                      00005930
            IF E3SP.STATSBORGER_EKNR ^= 999 THEN                        00005940
               CALL SKRIV_FEIL(E3SP.STATSBORGER_EKNR);                  00005950
          END;                                                          00005960
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                            00005970
       IF E3SP.BOSATT_EKNR = 0 THEN                                     00005980
          S001N81O.BOSATT_EKA = NOR_NUM;                                00005990
       ELSE                                                             00006000
          DO;                                                           00006010
            S001N81O.BOSATT_EKA = BRI_NUM;                              00006020
            S001N81I.BOSATT_EKL = CURSOR_POS;                           00006030
            IF E3SP.BOSATT_EKNR ^= 999 THEN                             00006040
               CALL SKRIV_FEIL(E3SP.BOSATT_EKNR);                       00006050
          END;                                                          00006060
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                            00006070
       IF E3SP.FRAVIK_FLYKT_EKNR = 0 THEN                               00006080
          S001N81O.FRAVIK_FLYKT_EKA = NORMAL;                           00006090
       ELSE                                                             00006100
          DO;                                                           00006110
            S001N81O.FRAVIK_FLYKT_EKA = DFHBMBRY;                       00006120
            S001N81I.FRAVIK_FLYKT_EKL = CURSOR_POS;                     00006130
            IF E3SP.FRAVIK_FLYKT_EKNR ^= 999 THEN                       00006140
               CALL SKRIV_FEIL(E3SP.FRAVIK_FLYKT_EKNR);                 00006150
          END;                                                          00006160
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                            00006170
       IF E3SP.TT_FRA_1937_ÅR_EKNR = 0 THEN                             00006180
          S001N81O.TT_1937_ÅR_EKA = NOR_NUM;                            00006190
       ELSE                                                             00006200
          DO;                                                           00006210
            S001N81O.TT_1937_ÅR_EKA = BRI_NUM;                          00006220
            S001N81I.TT_1937_ÅR_EKL = CURSOR_POS;                       00006230
            IF E3SP.TT_FRA_1937_ÅR_EKNR ^= 999 THEN                     00006240
               CALL SKRIV_FEIL(E3SP.TT_FRA_1937_ÅR_EKNR);               00006250
          END;                                                          00006260
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                            00006270
       IF E3SP.TT_FRA_1937_MND_EKNR = 0 THEN                            00006280
          S001N81O.TT_1937_MND_EKA = NOR_NUM;                           00006290
       ELSE                                                             00006300
          DO;                                                           00006310
            S001N81O.TT_1937_MND_EKA = BRI_NUM;                         00006320
            S001N81I.TT_1937_MND_EKL = CURSOR_POS;                      00006330
            IF E3SP.TT_FRA_1937_MND_EKNR ^= 999 THEN                    00006340
               CALL SKRIV_FEIL(E3SP.TT_FRA_1937_MND_EKNR);              00006350
          END;                                                          00006360
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                            00006370
       IF E3SP.TT_NORDEN_ANNET_EKNR = 0 THEN                            00006380
          S001N81O.TT_NORD_ANNET_EA = NORMAL;                           00006390
       ELSE                                                             00006400
          DO;                                                           00006410
            S001N81O.TT_NORD_ANNET_EA = DFHBMBRY;                       00006420
            S001N81I.TT_NORD_ANNET_EL = CURSOR_POS;                     00006430
            IF E3SP.TT_NORDEN_ANNET_EKNR ^= 999 THEN                    00006440
               CALL SKRIV_FEIL(E3SP.TT_NORDEN_ANNET_EKNR);              00006450
          END;                                                          00006460
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                            00006470
       IF E3SP.OVERKOMP_UTL_EKNR = 0 THEN                               00006480
          S001N81O.OVERKOMP_UTL_EKA = NORMAL;                           00006490
       ELSE                                                             00006500
          DO;                                                           00006510
            S001N81O.OVERKOMP_UTL_EKA = DFHBMBRY;                       00006520
            S001N81I.OVERKOMP_UTL_EKL = CURSOR_POS;                     00006530
            IF E3SP.OVERKOMP_UTL_EKNR ^= 999 THEN                       00006540
               CALL SKRIV_FEIL(E3SP.OVERKOMP_UTL_EKNR);                 00006550
          END;                                                          00006560
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                            00006570
                                                                        00006580
       IF FRA_UTEN_DIALOG THEN                                          00006590
          CALL BLOKKERE_E3SPES_AVDØDE;   /* BLOKKERE ALT SAMMEN   */    00006600
                                                                        00006610
       END OVERFØR_E3SPES_AVDØDE_MAP;                                   00006620
   %PAGE;                                                               00006630
   /* *************************************************************** */00006640
   /*                                                                 */00006650
   /*   PROSEDYREN OVERFØRER DATA FRA EP_TRANS_OMR.E3Y (YRKESSKADE)   */00006660
   /*   TIL SKJERMBILDE FOR YRKESSKADEOPPLYSNINGER.                   */00006670
   /*   O B S.  NY PROSEDYRE O B S.             *//*YS*//*   O B S    */00006680
   /*   MAP:  S001201                                                 */00006690
   /*   MAPSET:  S00120                                               */00006700
   /*                                                                 */00006710
   /* *************************************************************** */00006720
   %SKIP(2);                                                            00006730
  OVERFØR_E3Y_MAP:                                                      00006740
    PROC;                                                               00006750
    DCL                                                                 00006760
       NORMAL            CHAR (1) INIT(' '),                            00006770
       NOR_NUM           CHAR (1) INIT('&'),                            00006780
       BRI_NUM           CHAR (1) INIT('Q');                            00006790
                                                                        00006800
  %SKIP;                                                                00006810
       S001201O.REGDATOO         = F_FELT_PIC_CHAR6(E3S.REGDATO);       00006820
       S001201O.TERMIDO          = E3S.TERMID;                          00006830
       S001201O.FNRO             = F_FELT_PIC_CHAR11(E3S.FNR);          00006840
       S001201O.TKNRO            = F_FELT_PIC_CHAR4(E3S.TKNR);          00006850
       S001201O.NAVNO            = E3S.NAVN;                            00006860
       S001201O.VIRK_DATOO       = F_FELT_PIC_CHAR4(E3S.VIRK_DATO_MÅ);  00006870
       S001201O.VILKÅR_1_2_2AO   = E3Y.VILKÅR_1_2_2A;                   00006880
       S001201O.VILKÅR_1_2_2BO   = E3Y.VILKÅR_1_2_2B;                   00006890
       S001201O.YST_MÅO          = F_FELT_PIC_CHAR4(E3Y.YST_MÅ);        00006900
       S001201O.YSYKDOMO         = E3Y.YSYKDOM;                         00006910
       IF F_FELT_PIC_CHAR3(E3Y.YUG) ^= '000' THEN                       00006920
          S001201O.YUGO          = F_FELT_PIC_CHAR3(E3Y.YUG);           00006930
       S001201O.KAP11_7_UTLØSTO = E3Y.KAP_11_7_UTLØST;                  00006940
       S001201O.YRKE11O          = E3Y.YRKE11;                          00006950
       IF F_FELT_PIC_CHAR7(E3Y.AÅI) ^= (7)'9' THEN                      00006960
          S001201O.AÅIO          = F_FELT_PIC_CHAR7(E3Y.AÅI);           00006970
       IF F_FELT_PIC_CHAR11(E3Y.FNR_EK) ^= (11)'0' THEN                 00006980
          S001201O.FNR_EKO       = F_FELT_PIC_CHAR11(E3Y.FNR_EK);       00006990
       IF F_FELT_PIC_CHAR11(E3Y.FNR_SAMBOER) ^= (11)'0' THEN            00007000
          S001201O.FNR_SAMBOERO  = F_FELT_PIC_CHAR11(E3Y.FNR_SAMBOER);  00007010
       IF F_FELT_PIC_CHAR11(E3Y.FNR_Y_BARN) ^= (11)'0' THEN             00007020
          S001201O.FNR_Y_BARNO   = F_FELT_PIC_CHAR11(E3Y.FNR_Y_BARN);   00007030
       S001201O.PLEIEBARNO       = E3Y.PLEIEBARN;                       00007040
                                                                        00007050
 %SKIP(3);                                                              00007060
 /* MARKERING AV ATTRIBUTTER  */                                        00007070
 %SKIP;                                                                 00007080
       S001201O.DUMMYA = '_';                                           00007090
                                                                        00007100
       IF ^ FRA_CICS THEN                                               00007110
          DO;                                                           00007120
             IF FEIL_MELD_NR > 0 THEN                                   00007130
                CALL SKRIV_FEIL_YP(FEIL_MELD_NR);                       00007140
             FEIL_MELD_NR = 0;                                          00007150
          END;                                                          00007160
                                                                        00007170
       S001201O.REGDATOA   = DFHBMASK;                                  00007180
       S001201O.TERMIDA    = DFHBMASK;                                  00007190
       S001201O.FNRA       = DFHBMASK;                                  00007200
       S001201O.TKNRA      = DFHBMASK;                                  00007210
       S001201O.NAVNA      = DFHBMASK;                                  00007220
       S001201O.UFTA       = DFHBMASK;                                  00007230
       S001201O.VIRK_DATOA = DFHBMASK;                                  00007240
                                                                        00007250
       IF E3Y.VILKÅR_1_2_2ANR = 0 THEN                                  00007260
          S001201O.VILKÅR_1_2_2AA = NORMAL;                             00007270
       ELSE                                                             00007280
          DO;                                                           00007290
            S001201O.VILKÅR_1_2_2AA = DFHBMBRY;                         00007300
            S001201I.VILKÅR_1_2_2AL = CURSOR_POS;                       00007310
            IF E3Y.VILKÅR_1_2_2ANR ^= 999 THEN                          00007320
               CALL SKRIV_FEIL_YP(E3Y.VILKÅR_1_2_2ANR);                 00007330
          END;                                                          00007340
       IF E3Y.VILKÅR_1_2_2BNR = 0 THEN                                  00007350
          S001201O.VILKÅR_1_2_2BA = NORMAL;                             00007360
       ELSE                                                             00007370
          DO;                                                           00007380
            S001201O.VILKÅR_1_2_2BA = DFHBMBRY;                         00007390
            S001201I.VILKÅR_1_2_2BL = CURSOR_POS;                       00007400
            IF E3Y.VILKÅR_1_2_2BNR ^= 999 THEN                          00007410
               CALL SKRIV_FEIL_YP(E3Y.VILKÅR_1_2_2BNR);                 00007420
          END;                                                          00007430
       IF E3Y.YST_MÅNR = 0 THEN                                         00007440
          S001201O.YST_MÅA = NOR_NUM;                                   00007450
       ELSE                                                             00007460
          DO;                                                           00007470
            S001201O.YST_MÅA = BRI_NUM;                                 00007480
            S001201I.YST_MÅL = CURSOR_POS;                              00007490
            IF E3Y.YST_MÅNR ^= 999 THEN                                 00007500
               CALL SKRIV_FEIL_YP(E3Y.YST_MÅNR);                        00007510
          END;                                                          00007520
       IF E3Y.YSYKDOMNR = 0 THEN                                        00007530
          S001201O.YSYKDOMA = NORMAL;                                   00007540
       ELSE                                                             00007550
          DO;                                                           00007560
            S001201O.YSYKDOMA = DFHBMBRY;                               00007570
            S001201I.YSYKDOML = CURSOR_POS;                             00007580
            IF E3Y.YSYKDOMNR ^= 999 THEN                                00007590
               CALL SKRIV_FEIL_YP(E3Y.YSYKDOMNR);                       00007600
          END;                                                          00007610
       IF E3Y.YUGNR = 0 THEN                                            00007620
          S001201O.YUGA = NOR_NUM;                                      00007630
       ELSE                                                             00007640
          DO;                                                           00007650
            S001201O.YUGA = BRI_NUM;                                    00007660
            S001201I.YUGL = CURSOR_POS;                                 00007670
            IF E3Y.YUGNR ^= 999 THEN                                    00007680
               CALL SKRIV_FEIL_YP(E3Y.YUGNR);                           00007690
          END;                                                          00007700
       IF E3Y.KAP_11_7_UTLØSTNR = 0 THEN                                00007710
          S001201O.KAP11_7_UTLØSTA = NORMAL;                            00007720
       ELSE                                                             00007730
          DO;                                                           00007740
            S001201O.KAP11_7_UTLØSTA = DFHBMBRY;                        00007750
            S001201I.KAP11_7_UTLØSTL = CURSOR_POS;                      00007760
            IF E3Y.KAP_11_7_UTLØSTNR ^= 999 THEN                        00007770
               CALL SKRIV_FEIL_YP(E3Y.KAP_11_7_UTLØSTNR);               00007780
          END;                                                          00007790
       IF E3Y.YRKE11NR = 0 THEN                                         00007800
          S001201O.YRKE11A = NORMAL;                                    00007810
       ELSE                                                             00007820
          DO;                                                           00007830
            S001201O.YRKE11A = DFHBMBRY;                                00007840
            S001201I.YRKE11L = CURSOR_POS;                              00007850
            IF E3Y.YRKE11NR ^= 999 THEN                                 00007860
               CALL SKRIV_FEIL_YP(E3Y.YRKE11NR);                        00007870
          END;                                                          00007880
       IF E3Y.AÅINR = 0 THEN                                            00007890
          S001201O.AÅIA = NOR_NUM;                                      00007900
       ELSE                                                             00007910
          DO;                                                           00007920
            S001201O.AÅIA = BRI_NUM;                                    00007930
            S001201I.AÅIL = CURSOR_POS;                                 00007940
            IF E3Y.AÅINR ^= 999 THEN                                    00007950
               CALL SKRIV_FEIL_YP(E3Y.AÅINR);                           00007960
          END;                                                          00007970
       IF E3Y.FNR_EKNR = 0 THEN                                         00007980
          S001201O.FNR_EKA = NOR_NUM;                                   00007990
       ELSE                                                             00008000
          DO;                                                           00008010
            S001201O.FNR_EKA = BRI_NUM;                                 00008020
            S001201I.FNR_EKL = CURSOR_POS;                              00008030
            IF E3Y.FNR_EKNR ^= 999 THEN                                 00008040
               CALL SKRIV_FEIL_YP(E3Y.FNR_EKNR);                        00008050
          END;                                                          00008060
       IF E3Y.FNR_SAMBOERNR = 0 THEN                                    00008070
          S001201O.FNR_SAMBOERA = NOR_NUM;                              00008080
       ELSE                                                             00008090
          DO;                                                           00008100
            S001201O.FNR_SAMBOERA = BRI_NUM;                            00008110
            S001201I.FNR_SAMBOERL = CURSOR_POS;                         00008120
            IF E3Y.FNR_SAMBOERNR ^= 999 THEN                            00008130
               CALL SKRIV_FEIL_YP(E3Y.FNR_SAMBOERNR);                   00008140
          END;                                                          00008150
       IF E3Y.FNR_Y_BARNNR = 0 THEN                                     00008160
          S001201O.FNR_Y_BARNA = NOR_NUM;                               00008170
       ELSE                                                             00008180
          DO;                                                           00008190
            S001201O.FNR_Y_BARNA = BRI_NUM;                             00008200
            S001201I.FNR_Y_BARNL = CURSOR_POS;                          00008210
            IF E3Y.FNR_Y_BARNNR ^= 999 THEN                             00008220
               CALL SKRIV_FEIL_YP(E3Y.FNR_Y_BARNNR);                    00008230
          END;                                                          00008240
       IF E3Y.PLEIEBARNNR = 0 THEN                                      00008250
          S001201O.PLEIEBARNA = NOR_NUM;                                00008260
       ELSE                                                             00008270
          DO;                                                           00008280
            S001201O.PLEIEBARNA = BRI_NUM;                              00008290
            S001201I.PLEIEBARNL = CURSOR_POS;                           00008300
            IF E3Y.PLEIEBARNNR ^= 999 THEN                              00008310
               CALL SKRIV_FEIL_YP(E3Y.PLEIEBARNNR);                     00008320
          END;                                                          00008330
                                                                        00008340
 /* VED GAMLE TRANS SKAL FELTER BLOKKERES                         */    00008350
       IF ^(TRANS_OPPL_OMR.NY_GML_TRANS_IND = 'G' & FRA_MED_DIALOG) THEN00008360
          IF FRA_UTEN_DIALOG                                        THEN00008370
             DO;                                                        00008380
                S001201O.VILKÅR_1_2_2AA  = DFHBMASK;                    00008390
                S001201O.VILKÅR_1_2_2BA  = DFHBMASK;                    00008400
                S001201O.YST_MÅA         = DFHBMASK;                    00008410
                S001201O.YSYKDOMA        = DFHBMASK;                    00008420
                S001201O.YUGA            = DFHBMASK;                    00008430
                S001201O.KAP11_7_UTLØSTA = DFHBMASK;                    00008440
                S001201O.YRKE11A         = DFHBMASK;                    00008450
                S001201O.AÅIA            = DFHBMASK;                    00008460
                S001201O.FNR_EKA         = DFHBMASK;                    00008470
                S001201O.FNR_SAMBOERA    = DFHBMASK;                    00008480
                S001201O.FNR_Y_BARNA     = DFHBMASK;                    00008490
                S001201O.PLEIEBARNA      = DFHBMASK;                    00008500
                YMELDING6O               =                              00008510
                          'TRYKK PF1 FOR OPPBEVAR, PF2 FOR FORKASTE.';  00008520
             END;                                                       00008530
       IF ^FRA_CICS THEN                                                00008540
          DO;                                                           00008550
             S001201O.STYRE_KODEA    = DFHBMASK;                        00008560
             S001201O.FUNKSJONSKODEA = DFHBMASK;                        00008570
          END;                                                          00008580
                                                                        00008590
    END OVERFØR_E3Y_MAP;                                                00008600
