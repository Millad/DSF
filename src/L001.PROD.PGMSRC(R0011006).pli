 /*   SIST ENDRET PÅ PROD   2004.10.15 13.00.01 AV   SPA2970          */        
 /*   SIST ENDRET PÅ TEST   2004.10.15 12.58.43 AV   SPA2970          */        
 /*       SIST ENDRET 06/07-98 11.22.42 AV   JDA7339                  */        
  /*IDENTIFIKASJON:                                                   */        
  /*    R0011006 - PROSEDYRE I PLI                                    */        
  /*    PROGRAMMERER:  JAN  , JULI 1981                               */        
  /*HENSIKT:                                                          */        
  /*    PROGRAMMET INNEHOLDER:                                        */        
  /*    PROSEDYRER FOR Å OVERFØRE DATA FRA FB_TRANS_OMR TIL           */        
  /*    SKJERMBILDE (MAP S001101 MAPSET S00110).                      */        
  /*    SKJERMBILDE (MAP S001201 MAPSET S00120).  */      /*          */        
  /*    PROSEDYRE FOR SKRIVING AV FEILMELDINGER.                      */        
  /*BRUK:                                                             */        
  /*    OVERFØR_FB_BARN_MAP:      OVERFØRING AV BARNEDELEN            */        
  /*    OVERFØR_FB_MOR_MAP:       OVERFØRING AV OPPLYSNINGER OM MOR   */        
  /*    OVERFØR_FB_FAR_MAP:       OVERFØRING AV OPPLYSNINGER OM FAR   */        
  /*    OVERFØR_FBY_MOR_MAP:      OVERFØRING AV YRKESSKADEOPPL. MOR   */        
  /*    OVERFØR_FBY_FAR_MAP:      OVERFØRING AV YRKESSKADEOPPL. FAR   */        
  /*                                                                  */        
  % PAGE;                                                                       
  /* **************************************************************** */        
  /*   PROSEDYRA OVERFØRER DATA FRA FB_TRANS_OMR TIL                  */        
  /*   SKJERMBILDE FB_BARN DELEN.                                     */        
  /*   MAP: S001101                                                   */        
  /*   MAPSET: S00110                                                 */        
  /* **************************************************************** */        
  % SKIP (2);                                                                   
   OVERFØR_FB_BARN_MAP:                                                         
    PROC;                                                                       
    DCL                                                                         
       F       PIC  '9',                                                        
       ANDRE   PIC  'Z9',                                                       
       NORMAL  CHAR (1) INIT(' '),                                              
       NOR_NUM CHAR (1) INIT('&'),                                              
       BRI_NUM CHAR (1) INIT('Q');                                              
                                                                                
       SELECT(BARNE_TAB_POS);                                                   
          WHEN('1')                                                             
            F = 1;                                                              
          WHEN('2')                                                             
            F = 5;                                                              
          WHEN('3')                                                             
            F = 9;                                                              
          OTHERWISE;                                                            
       END;                /**   SELECT   **/                                   
                                                                                
       ANDRE = F + 3;                                                           
                                                                                
       CALL INTERN_OVERFØR_BARN;                                                
                                                                                
                                                                                
                                                                                
       INTERN_OVERFØR_BARN:                                                     
         PROC;                                                                  
       EXEC CICS ENTER TRACEID(61) FROM (F);                                    
       EXEC CICS ENTER TRACEID(62) FROM (BARN.FNR_B(F));                        
       EXEC CICS ENTER TRACEID(63) FROM (NAVN_B(F));                            
       EXEC CICS ENTER TRACEID(64) FROM (TKNR(F));                              
           S001101O.INDIKATORO = F !! '-' !! ANDRE;                             
                                                                                
           IF F_FELT_PIC_CHAR11(BARN.FNR_B(F)) ^= (11)'0' THEN                  
             S001101O.FNR_BARN1O = F_FELT_PIC_CHAR11(BARN.FNR_B(F));            
                                                                                
           S001101O.NAVN_BARN1O   = NAVN_B(F);                                  
                                                                                
           IF F_FELT_PIC_CHAR4(TKNR(F)) ^= '0000' THEN                          
             S001101O.TKNR1O     = F_FELT_PIC_CHAR4(TKNR(F));                   
                                                                                
           IF F_FELT_PIC_CHAR11(BARN.FNR_B(F + 1)) ^= (11)'0' THEN              
             S001101O.FNR_BARN2O = F_FELT_PIC_CHAR11(BARN.FNR_B(F +1));         
                                                                                
           S001101O.NAVN_BARN2O   = NAVN_B(F + 1);                              
                                                                                
           IF F_FELT_PIC_CHAR4(TKNR(F + 1)) ^= '0000' THEN                      
             S001101O.TKNR2O     = F_FELT_PIC_CHAR4(TKNR(F + 1));               
                                                                                
           IF F_FELT_PIC_CHAR11(BARN.FNR_B(F + 2)) ^= (11)'0' THEN              
             S001101O.FNR_BARN3O = F_FELT_PIC_CHAR11(BARN.FNR_B(F + 2));        
                                                                                
           S001101O.NAVN_BARN3O   = NAVN_B(F + 2);                              
                                                                                
           IF F_FELT_PIC_CHAR4(TKNR(F + 2)) ^= '0000' THEN                      
             S001101O.TKNR3O     = F_FELT_PIC_CHAR4(TKNR(F + 2));               
                                                                                
           IF F_FELT_PIC_CHAR11(BARN.FNR_B(F + 3)) ^= (11)'0' THEN              
             S001101O.FNR_BARN4O = F_FELT_PIC_CHAR11(BARN.FNR_B(F + 3));        
                                                                                
           S001101O.NAVN_BARN4O   = NAVN_B(F + 3);                              
                                                                                
           IF F_FELT_PIC_CHAR4(TKNR(F + 3)) ^= '0000' THEN                      
             S001101O.TKNR4O     = F_FELT_PIC_CHAR4(TKNR(F + 3));               
                                                                                
                                                                                
             IF BARN.FNR_BNR(F) = 0 THEN                                        
                S001101O.FNR_BARN1A      = NOR_NUM;                             
             ELSE                                                               
                DO;                                                             
                   S001101O.FNR_BARN1A  = BRI_NUM;                              
                   S001101I.FNR_BARN1L  = CURSOR_POS;                           
                   IF BARN.FNR_BNR(F) ^= 999 THEN                               
                      CALL SKRIV_FEIL(BARN.FNR_BNR(F));                         
                END;                                                            
             IF NAVN_BNR(F) = 0 THEN                                            
                S001101O.NAVN_BARN1A = NORMAL;                                  
             ELSE                                                               
                DO;                                                             
                   S001101O.NAVN_BARN1A     = DFHBMBRY;                         
                   S001101I.NAVN_BARN1L     = CURSOR_POS;                       
                   IF NAVN_BNR(F) ^= 999 THEN                                   
                      CALL SKRIV_FEIL(NAVN_BNR(F));                             
                END;                                                            
             IF TKNRNR(F) = 0 THEN                                              
                S001101O.TKNR1A    = NOR_NUM;                                   
             ELSE                                                               
                DO;                                                             
                   S001101O.TKNR1A        = BRI_NUM;                            
                   S001101I.TKNR1L        = CURSOR_POS;                         
                   IF TKNRNR(F) ^= 999 THEN                                     
                      CALL SKRIV_FEIL(TKNRNR(F));                               
                END;                                                            
                                                                                
             IF BARN.FNR_BNR(F + 1) = 0 THEN                                    
                S001101O.FNR_BARN2A      = NOR_NUM;                             
             ELSE                                                               
                DO;                                                             
                   S001101O.FNR_BARN2A  = BRI_NUM;                              
                   S001101I.FNR_BARN2L  = CURSOR_POS;                           
                   IF BARN.FNR_BNR(F + 1) ^= 999 THEN                           
                      CALL SKRIV_FEIL(BARN.FNR_BNR(F + 1));                     
                END;                                                            
             IF NAVN_BNR(F + 1) = 0 THEN                                        
                S001101O.NAVN_BARN2A = NORMAL;                                  
             ELSE                                                               
                DO;                                                             
                   S001101O.NAVN_BARN2A     = DFHBMBRY;                         
                   S001101I.NAVN_BARN2L     = CURSOR_POS;                       
                   IF NAVN_BNR(F + 1) ^= 999 THEN                               
                      CALL SKRIV_FEIL(NAVN_BNR(F + 1));                         
                END;                                                            
             IF TKNRNR(F + 1) = 0 THEN                                          
                S001101O.TKNR2A    = NOR_NUM;                                   
             ELSE                                                               
                DO;                                                             
                   S001101O.TKNR2A        = BRI_NUM;                            
                   S001101I.TKNR2L        = CURSOR_POS;                         
                   IF TKNRNR(F + 1) ^= 999 THEN                                 
                      CALL SKRIV_FEIL(TKNRNR(F + 1));                           
                END;                                                            
                                                                                
             IF BARN.FNR_BNR(F + 2) = 0 THEN                                    
                S001101O.FNR_BARN3A      = NOR_NUM;                             
             ELSE                                                               
                DO;                                                             
                   S001101O.FNR_BARN3A  = BRI_NUM;                              
                   S001101I.FNR_BARN3L  = CURSOR_POS;                           
                   IF BARN.FNR_BNR(F + 2) ^= 999 THEN                           
                      CALL SKRIV_FEIL(BARN.FNR_BNR(F + 2));                     
                END;                                                            
             IF NAVN_BNR(F + 2) = 0 THEN                                        
                S001101O.NAVN_BARN3A = NORMAL;                                  
             ELSE                                                               
                DO;                                                             
                   S001101O.NAVN_BARN3A     = DFHBMBRY;                         
                   S001101I.NAVN_BARN3L     = CURSOR_POS;                       
                   IF NAVN_BNR(F + 2) ^= 999 THEN                               
                      CALL SKRIV_FEIL(NAVN_BNR(F + 2));                         
                END;                                                            
             IF TKNRNR(F + 2) = 0 THEN                                          
                S001101O.TKNR3A    = NOR_NUM;                                   
             ELSE                                                               
                DO;                                                             
                   S001101O.TKNR3A        = BRI_NUM;                            
                   S001101I.TKNR3L        = CURSOR_POS;                         
                   IF TKNRNR(F + 2) ^= 999 THEN                                 
                      CALL SKRIV_FEIL(TKNRNR(F + 2));                           
                END;                                                            
                                                                                
             IF BARN.FNR_BNR(F + 3) = 0 THEN                                    
                S001101O.FNR_BARN4A      = NOR_NUM;                             
             ELSE                                                               
                DO;                                                             
                   S001101O.FNR_BARN4A  = BRI_NUM;                              
                   S001101I.FNR_BARN4L  = CURSOR_POS;                           
                   IF BARN.FNR_BNR(F + 3) ^= 999 THEN                           
                      CALL SKRIV_FEIL(BARN.FNR_BNR(F + 3));                     
                END;                                                            
             IF NAVN_BNR(F + 3) = 0 THEN                                        
                S001101O.NAVN_BARN4A = NORMAL;                                  
             ELSE                                                               
                DO;                                                             
                   S001101O.NAVN_BARN4A     = DFHBMBRY;                         
                   S001101I.NAVN_BARN4L     = CURSOR_POS;                       
                   IF NAVN_BNR(F + 3) ^= 999 THEN                               
                      CALL SKRIV_FEIL(NAVN_BNR(F + 3));                         
                END;                                                            
             IF TKNRNR(F + 3) = 0 THEN                                          
                S001101O.TKNR4A    = NOR_NUM;                                   
             ELSE                                                               
                DO;                                                             
                   S001101O.TKNR4A        = BRI_NUM;                            
                   S001101I.TKNR4L        = CURSOR_POS;                         
                   IF TKNRNR(F + 3) ^= 999 THEN                                 
                      CALL SKRIV_FEIL(TKNRNR(F + 3));                           
                END;                                                            
                                                                                
       END INTERN_OVERFØR_BARN;                                                 
                                                                                
                                                                                
       S001101O.REGDATOO     = KONV_HÅMD_ÅMD(REGDATO_ÅMD);       /*Y2K*/        
       S001101O.TERMIDO       = TERMID;                                         
       S001101O.SPRÅKO        = SPRÅK;                                          
       S001101O.VIRK_DATO_MÅO = KONV_HÅMD_MÅ(VIRK_DATO_ÅMD);     /*Y2K*/        
                                                                                
 % SKIP (3);                                                                    
  /*   FEILMELDINGER MARKERING AV FELT (ATTRIBUTTENE)                 */        
                                                                                
  /*DERSOM FEIL FRA BEHANDLE-TRANS OVERFØRES FEIL HER,BARE FØRSTE GANG*/        
       IF ^ FRA_CICS THEN                                                       
          DO;                                                                   
            IF FEIL_MELD_NR > 0 THEN                                            
               CALL SKRIV_FEIL(FEIL_MELD_NR);                                   
             FEIL_MELD_NR = 0;                                                  
          END;                                                                  
                                                                                
     S001101O.DUMMYA = '_';                                                     
                                                                                
      S001101O.REGDATOA = DFHBMASK;                                             
      S001101O.TERMIDA  = DFHBMASK;                                             
                                                                                
      IF SPRÅKNR = 0 THEN                                                       
         S001101O.SPRÅKA  = NORMAL;                                             
      ELSE                                                                      
         DO;                                                                    
            S001101O.SPRÅKA = DFHBMBRY;                                         
            S001101I.SPRÅKL = CURSOR_POS;                                       
            IF SPRÅKNR ^= 999 THEN                                              
               CALL SKRIV_FEIL(SPRÅKNR);                                        
         END;                                                                   
      IF VIRK_DATO_ÅMDNR  = 0 THEN                               /*Y2K*/        
         S001101O.VIRK_DATO_MÅA    = NOR_NUM;                                   
      ELSE                                                                      
         DO;                                                                    
            S001101O.VIRK_DATO_MÅA = BRI_NUM;                                   
            S001101I.VIRK_DATO_MÅL = CURSOR_POS;                                
            IF VIRK_DATO_ÅMDNR ^= 999 THEN                       /*Y2K*/        
               CALL SKRIV_FEIL(VIRK_DATO_ÅMDNR);                 /*Y2K*/        
         END;                                                                   
                                                                                
      /* VED GAMLE TRANS SKAL FNR OG VIRKNINGSDATO BLOKKERES   */               
                                                                                
      IF TRANS_OPPL_OMR.NY_GML_TRANS_IND = 'G' & FRA_MED_DIALOG THEN            
         DO;                                                                    
           S001101O.FNR_BARN1A    = DFHBMASK;                                   
           S001101O.VIRK_DATO_MÅA = DFHBMASK;                                   
         END;                                                                   
                                                                                
      ELSE IF FRA_UTEN_DIALOG THEN  /* BLOKKER ALT SAMMEN  */                   
                                                                                
         DO;                                                                    
           S001101O.FNR_BARN1A    = DFHBMASK;                                   
           S001101O.NAVN_BARN1A   = DFHBMASK;                                   
           S001101O.TKNR1A        = DFHBMASK;                                   
           S001101O.FNR_BARN2A    = DFHBMASK;                                   
           S001101O.NAVN_BARN2A   = DFHBMASK;                                   
           S001101O.TKNR2A        = DFHBMASK;                                   
           S001101O.FNR_BARN3A    = DFHBMASK;                                   
           S001101O.NAVN_BARN3A   = DFHBMASK;                                   
           S001101O.TKNR3A        = DFHBMASK;                                   
           S001101O.FNR_BARN4A    = DFHBMASK;                                   
           S001101O.NAVN_BARN4A   = DFHBMASK;                                   
           S001101O.TKNR4A        = DFHBMASK;                                   
           S001101O.REGDATOA      = DFHBMASK;                                   
           S001101O.TERMIDA       = DFHBMASK;                                   
           S001101O.SPRÅKA        = DFHBMASK;                                   
           S001101O.VIRK_DATO_MÅA = DFHBMASK;                                   
           MELDING6O = 'TRYKK PF1 FOR OPPBEVAR, PF2 FOR FORKASTE.';             
         END;                                                                   
                                                                                
      IF ^ FRA_CICS THEN                                                        
         DO;                                                                    
           S001101O.STYRE_KODEA    = DFHBMASK;                                  
           S001101O.FUNKSJONSKODEA = DFHBMASK;                                  
         END;                                                                   
                                                                                
    END OVERFØR_FB_BARN_MAP;                                                    
  %PAGE;                                                                        
  /* **************************************************************** */        
  /*                                                                  */        
  /*   PROSEDYREN OVERFØRER DATA FRA FB_TRANS_OMR TIL                 */        
  /*   SKJERMBILDE FB_DELEN MOR.                                      */        
  /*   MAP:  S001101                                                  */        
  /*   MAPSET:  S00110                                                */        
  /*                                                                  */        
  /* **************************************************************** */        
  %SKIP(2);                                                                     
   OVERFØR_FB_MOR_MAP:                                                          
    PROC;                                                                       
    DCL                                                                         
       NORMAL  CHAR (1) INIT(' '),                                              
       NOR_NUM CHAR (1) INIT('&'),                                              
       BRI_NUM CHAR (1) INIT('Q');                                              
                                                                                
       S001101O.FNR_MO                  = F_FELT_PIC_CHAR11(FNR_M);             
       S001101O.NAVN_MO                 = NAVN_M;                               
       S001101O.DØDSDATO_MO     = KONV_HÅMD_DMÅ(DØDSDATO_ÅMD_M); /*Y2K*/        
       S001101O.VILKÅR_8_4_3A_MO        = VILKÅR_8_4_3A_M;                      
       S001101O.OVERKOMP_MO             = OVERKOMP_M;                           
       IF F_FELT_PIC_CHAR2(TT_F67_M)   ^= '00' THEN                             
          S001101O.TT_F67_MO            = F_FELT_PIC_CHAR2(TT_F67_M);           
       IF F_FELT_PIC_CHAR2(TT_E66_M_M) ^= '00' THEN                             
          S001101O.TT_E66_M_MO          = F_FELT_PIC_CHAR2(TT_E66_M_M);         
       IF F_FELT_PIC_CHAR2(TT_E66_Å_M) ^= '00' THEN                             
          S001101O.TT_E66_Å_MO          = F_FELT_PIC_CHAR2(TT_E66_Å_M);         
       IF F_FELT_PIC_CHAR7(PI_M)       ^= '0000000' THEN                        
          S001101O.PI_MO                = F_FELT_PIC_CHAR7(PI_M);               
       S001101O.YSKADE_TILL_MORO        = YSKADE_TILLEGG_M ;                    
  %SKIP(3);                                                                     
                                                                                
  /* MARKERING AV ATTRIBUTTER   */                                              
                                                                                
       IF FNR_MNR = 0 THEN                                                      
          S001101O.FNR_MA  = NOR_NUM;                                           
       ELSE                                                                     
          DO;                                                                   
             S001101O.FNR_MA      = BRI_NUM;                                    
             S001101I.FNR_ML      = CURSOR_POS;                                 
             IF FNR_MNR ^= 999 THEN                                             
                CALL SKRIV_FEIL(FNR_MNR);                                       
          END;                                                                  
       IF NAVN_MNR = 0 THEN                                                     
          S001101O.NAVN_MA = NORMAL;                                            
       ELSE                                                                     
          DO;                                                                   
             S001101O.NAVN_MA      = DFHBMBRY;                                  
             S001101I.NAVN_ML      = CURSOR_POS;                                
             IF NAVN_MNR ^= 999 THEN                                            
                CALL SKRIV_FEIL(NAVN_MNR);                                      
          END;                                                                  
       IF DØDSDATO_ÅMD_MNR = 0 THEN                              /*Y2K*/        
          S001101O.DØDSDATO_MA  = NOR_NUM;                                      
       ELSE                                                                     
          DO;                                                                   
             S001101O.DØDSDATO_MA      = BRI_NUM;                               
             S001101I.DØDSDATO_ML      = CURSOR_POS;                            
             IF DØDSDATO_ÅMD_MNR ^= 999 THEN                     /*Y2K*/        
                CALL SKRIV_FEIL(DØDSDATO_ÅMD_MNR);               /*Y2K*/        
          END;                                                                  
       IF VILKÅR_8_4_3A_MNR = 0 THEN                                            
          S001101O.VILKÅR_8_4_3A_MA  = NORMAL;                                  
       ELSE                                                                     
          DO;                                                                   
             S001101O.VILKÅR_8_4_3A_MA      = DFHBMBRY;                         
             S001101I.VILKÅR_8_4_3A_ML      = CURSOR_POS;                       
             IF VILKÅR_8_4_3A_MNR ^= 999 THEN                                   
                CALL SKRIV_FEIL(VILKÅR_8_4_3A_MNR);                             
          END;                                                                  
       IF OVERKOMP_MNR       = 0 THEN                                           
          S001101O.OVERKOMP_MA        = NORMAL;                                 
       ELSE                                                                     
          DO;                                                                   
             S001101O.OVERKOMP_MA      = DFHBMBRY;                              
             S001101I.OVERKOMP_ML      = CURSOR_POS;                            
             IF OVERKOMP_MNR ^= 999 THEN                                        
                CALL SKRIV_FEIL(OVERKOMP_MNR);                                  
          END;                                                                  
       IF TT_F67_MNR          = 0 THEN                                          
          S001101O.TT_F67_MA           = NOR_NUM;                               
       ELSE                                                                     
          DO;                                                                   
             S001101O.TT_F67_MA        = BRI_NUM;                               
             S001101I.TT_F67_ML        = CURSOR_POS;                            
             IF TT_F67_MNR   ^= 999 THEN                                        
                CALL SKRIV_FEIL(TT_F67_MNR);                                    
          END;                                                                  
       IF TT_E66_M_MNR        = 0 THEN                                          
          S001101O.TT_E66_M_MA         = NOR_NUM;                               
       ELSE                                                                     
          DO;                                                                   
             S001101O.TT_E66_M_MA      = BRI_NUM;                               
             S001101I.TT_E66_M_ML      = CURSOR_POS;                            
             IF TT_E66_M_MNR ^= 999 THEN                                        
                CALL SKRIV_FEIL(TT_E66_M_MNR);                                  
          END;                                                                  
       IF TT_E66_Å_MNR        = 0 THEN                                          
          S001101O.TT_E66_Å_MA         = NOR_NUM;                               
       ELSE                                                                     
          DO;                                                                   
             S001101O.TT_E66_Å_MA      = BRI_NUM;                               
             S001101I.TT_E66_Å_ML      = CURSOR_POS;                            
             IF TT_E66_Å_MNR ^= 999 THEN                                        
                CALL SKRIV_FEIL(TT_E66_Å_MNR);                                  
          END;                                                                  
       IF PI_MNR = 0 THEN                                                       
          S001101O.PI_MA  = NOR_NUM;                                            
       ELSE                                                                     
          DO;                                                                   
             S001101O.PI_MA      = BRI_NUM;                                     
             S001101I.PI_ML      = CURSOR_POS;                                  
             IF PI_MNR ^= 999 THEN                                              
                CALL SKRIV_FEIL(PI_MNR);                                        
          END;                                                                  
       IF YSKADE_TILLEGG_MNR = 0 THEN                                           
          S001101O.YSKADE_TILL_MORA  = NORMAL;                                  
       ELSE                                                                     
          DO;                                                                   
             S001101O.YSKADE_TILL_MORA      = DFHBMBRY;                         
             S001101I.YSKADE_TILL_MORL      = CURSOR_POS;                       
             IF YSKADE_TILLEGG_MNR ^= 999 THEN                                  
                CALL SKRIV_FEIL(YSKADE_TILLEGG_MNR);                            
          END;                                                                  
                                                                                
      IF FRA_UTEN_DIALOG THEN          /* BLOKKER ALT SAMMEN  */                
                                                                                
         DO;                                                                    
           S001101O.FNR_MA           = DFHBMASK;                                
           S001101O.NAVN_MA          = DFHBMASK;                                
           S001101O.DØDSDATO_MA      = DFHBMASK;                                
           S001101O.VILKÅR_8_4_3A_MA = DFHBMASK;                                
           S001101O.OVERKOMP_MA      = DFHBMASK;                                
           S001101O.TT_F67_MA        = DFHBMASK;                                
           S001101O.TT_E66_M_MA      = DFHBMASK;                                
           S001101O.TT_E66_Å_MA      = DFHBMASK;                                
           S001101O.PI_MA            = DFHBMASK;                                
           S001101O.YSKADE_TILL_MORA = DFHBMASK;                                
         END;                                                                   
                                                                                
   END OVERFØR_FB_MOR_MAP;                                                      
  %PAGE;                                                                        
  /* **************************************************************** */        
  /*                                                                  */        
  /*   PROSEDYREN OVERFØRER DATA FRA FB_TRANS_OMR TIL                 */        
  /*   SKJERMBILDE FB_DELEN FAR.                                      */        
  /*   MAP:  S001101                                                  */        
  /*   MAPSET:  S00110                                                */        
  /*                                                                  */        
  /* **************************************************************** */        
  %SKIP(2);                                                                     
   OVERFØR_FB_FAR_MAP:                                                          
    PROC;                                                                       
                                                                                
    DCL                                                                         
       NORMAL  CHAR (1) INIT(' '),                                              
       NOR_NUM CHAR (1) INIT('&'),                                              
       BRI_NUM CHAR (1) INIT('Q');                                              
                                                                                
       S001101O.FNR_FO                  = F_FELT_PIC_CHAR11(FNR_F);             
       S001101O.NAVN_FO                 = NAVN_F;                               
       S001101O.DØDSDATO_FO     = KONV_HÅMD_DMÅ(DØDSDATO_ÅMD_F); /*Y2K*/        
       S001101O.VILKÅR_8_4_3A_FO        = VILKÅR_8_4_3A_F;                      
       S001101O.OVERKOMP_FO             = OVERKOMP_F;                           
       IF F_FELT_PIC_CHAR2(TT_F67_F)   ^= '00' THEN                             
          S001101O.TT_F67_FO            = F_FELT_PIC_CHAR2(TT_F67_F);           
       IF F_FELT_PIC_CHAR2(TT_E66_M_F) ^= '00' THEN                             
          S001101O.TT_E66_M_FO          = F_FELT_PIC_CHAR2(TT_E66_M_F);         
       IF F_FELT_PIC_CHAR2(TT_E66_Å_F) ^= '00' THEN                             
          S001101O.TT_E66_Å_FO          = F_FELT_PIC_CHAR2(TT_E66_Å_F);         
       IF F_FELT_PIC_CHAR4(VP_ÅR_F(1)) ^= '0000' THEN                           
 /*Y2K*/  S001101O.VP_ÅR1_FO            = F_FELT_PIC_CHAR4(VP_ÅR_F(1));         
       IF F_FELT_PIC_CHAR4(VP_ÅR_F(2)) ^= '0000' THEN                           
 /*Y2K*/  S001101O.VP_ÅR2_FO            = F_FELT_PIC_CHAR4(VP_ÅR_F(2));         
       IF F_FELT_PIC_CHAR4(VP_ÅR_F(3)) ^= '0000' THEN                           
 /*Y2K*/  S001101O.VP_ÅR3_FO            = F_FELT_PIC_CHAR4(VP_ÅR_F(3));         
       IF F_FELT_PIC_CHAR4(VP_ÅR_F(4)) ^= '0000' THEN                           
 /*Y2K*/  S001101O.VP_ÅR4_FO            = F_FELT_PIC_CHAR4(VP_ÅR_F(4));         
       IF F_FELT_PIC_CHAR7(PI_F)       ^= '0000000' THEN                        
          S001101O.PI_FO                = F_FELT_PIC_CHAR7(PI_F);               
       S001101O.YSKADE_TILL_FARO        = YSKADE_TILLEGG_F ;                    
  %SKIP(3);                                                                     
                                                                                
  /* MARKERING AV ATTRIBUTTER   */                                              
                                                                                
       IF FNR_FNR = 0 THEN                                                      
          S001101O.FNR_FA  = NOR_NUM;                                           
       ELSE                                                                     
          DO;                                                                   
             S001101O.FNR_FA      = BRI_NUM;                                    
             S001101I.FNR_FL      = CURSOR_POS;                                 
             IF FNR_FNR ^= 999 THEN                                             
                CALL SKRIV_FEIL(FNR_FNR);                                       
          END;                                                                  
       IF NAVN_FNR = 0 THEN                                                     
          S001101O.NAVN_FA = NORMAL;                                            
       ELSE                                                                     
          DO;                                                                   
             S001101O.NAVN_FA      = DFHBMBRY;                                  
             S001101I.NAVN_FL      = CURSOR_POS;                                
             IF NAVN_FNR ^= 999 THEN                                            
                CALL SKRIV_FEIL(NAVN_FNR);                                      
          END;                                                                  
       IF DØDSDATO_ÅMD_FNR = 0 THEN                              /*Y2K*/        
          S001101O.DØDSDATO_FA  = NOR_NUM;                                      
       ELSE                                                                     
          DO;                                                                   
             S001101O.DØDSDATO_FA      = BRI_NUM;                               
             S001101I.DØDSDATO_FL      = CURSOR_POS;                            
             IF DØDSDATO_ÅMD_FNR ^= 999 THEN                     /*Y2K*/        
                CALL SKRIV_FEIL(DØDSDATO_ÅMD_FNR);               /*Y2K*/        
          END;                                                                  
       IF VILKÅR_8_4_3A_FNR = 0 THEN                                            
          S001101O.VILKÅR_8_4_3A_FA  = NORMAL;                                  
       ELSE                                                                     
          DO;                                                                   
             S001101O.VILKÅR_8_4_3A_FA      = DFHBMBRY;                         
             S001101I.VILKÅR_8_4_3A_FL      = CURSOR_POS;                       
             IF VILKÅR_8_4_3A_FNR ^= 999 THEN                                   
                CALL SKRIV_FEIL(VILKÅR_8_4_3A_FNR);                             
          END;                                                                  
       IF OVERKOMP_FNR       = 0 THEN                                           
          S001101O.OVERKOMP_FA        = NORMAL;                                 
       ELSE                                                                     
          DO;                                                                   
             S001101O.OVERKOMP_FA      = DFHBMBRY;                              
             S001101I.OVERKOMP_FL      = CURSOR_POS;                            
             IF OVERKOMP_FNR ^= 999 THEN                                        
                CALL SKRIV_FEIL(OVERKOMP_FNR);                                  
          END;                                                                  
       IF TT_F67_FNR          = 0 THEN                                          
          S001101O.TT_F67_FA           = NOR_NUM;                               
       ELSE                                                                     
          DO;                                                                   
             S001101O.TT_F67_FA        = BRI_NUM;                               
             S001101I.TT_F67_FL        = CURSOR_POS;                            
             IF TT_F67_FNR   ^= 999 THEN                                        
                CALL SKRIV_FEIL(TT_F67_FNR);                                    
          END;                                                                  
       IF TT_E66_M_FNR        = 0 THEN                                          
          S001101O.TT_E66_M_FA         = NOR_NUM;                               
       ELSE                                                                     
          DO;                                                                   
             S001101O.TT_E66_M_FA      = BRI_NUM;                               
             S001101I.TT_E66_M_FL      = CURSOR_POS;                            
             IF TT_E66_M_FNR ^= 999 THEN                                        
                CALL SKRIV_FEIL(TT_E66_M_FNR);                                  
          END;                                                                  
       IF TT_E66_Å_FNR        = 0 THEN                                          
          S001101O.TT_E66_Å_FA         = NOR_NUM;                               
       ELSE                                                                     
          DO;                                                                   
             S001101O.TT_E66_Å_FA      = BRI_NUM;                               
             S001101I.TT_E66_Å_FL      = CURSOR_POS;                            
             IF TT_E66_Å_FNR ^= 999 THEN                                        
                CALL SKRIV_FEIL(TT_E66_Å_FNR);                                  
          END;                                                                  
       IF VP_ÅR_FNR(1) = 0 THEN                                                 
          S001101O.VP_ÅR1_FA    = NOR_NUM;                                      
       ELSE                                                                     
          DO;                                                                   
             S001101O.VP_ÅR1_FA        = BRI_NUM;                               
             S001101I.VP_ÅR1_FL        = CURSOR_POS;                            
             IF VP_ÅR_FNR(1) ^= 999 THEN                                        
                CALL SKRIV_FEIL(VP_ÅR_FNR(1));                                  
          END;                                                                  
       IF VP_ÅR_FNR(2) = 0 THEN                                                 
          S001101O.VP_ÅR2_FA    = NOR_NUM;                                      
       ELSE                                                                     
          DO;                                                                   
             S001101O.VP_ÅR2_FA        = BRI_NUM;                               
             S001101I.VP_ÅR2_FL        = CURSOR_POS;                            
             IF VP_ÅR_FNR(2) ^= 999 THEN                                        
                CALL SKRIV_FEIL(VP_ÅR_FNR(2));                                  
          END;                                                                  
       IF VP_ÅR_FNR(3) = 0 THEN                                                 
          S001101O.VP_ÅR3_FA    = NOR_NUM;                                      
       ELSE                                                                     
          DO;                                                                   
             S001101O.VP_ÅR3_FA        = BRI_NUM;                               
             S001101I.VP_ÅR3_FL        = CURSOR_POS;                            
             IF VP_ÅR_FNR(3) ^= 999 THEN                                        
                CALL SKRIV_FEIL(VP_ÅR_FNR(3));                                  
          END;                                                                  
       IF VP_ÅR_FNR(4) = 0 THEN                                                 
          S001101O.VP_ÅR4_FA    = NOR_NUM;                                      
       ELSE                                                                     
          DO;                                                                   
             S001101O.VP_ÅR4_FA        = BRI_NUM;                               
             S001101I.VP_ÅR4_FL        = CURSOR_POS;                            
             IF VP_ÅR_FNR(4) ^= 999 THEN                                        
                CALL SKRIV_FEIL(VP_ÅR_FNR(4));                                  
          END;                                                                  
       IF PI_FNR = 0 THEN                                                       
          S001101O.PI_FA  = NOR_NUM;                                            
       ELSE                                                                     
          DO;                                                                   
             S001101O.PI_FA      = BRI_NUM;                                     
             S001101I.PI_FL      = CURSOR_POS;                                  
             IF PI_FNR ^= 999 THEN                                              
                CALL SKRIV_FEIL(PI_FNR);                                        
          END;                                                                  
       IF YSKADE_TILLEGG_FNR = 0 THEN                                           
          S001101O.YSKADE_TILL_FARA  = NORMAL;                                  
       ELSE                                                                     
          DO;                                                                   
             S001101O.YSKADE_TILL_FARA      = DFHBMBRY;                         
             S001101I.YSKADE_TILL_FARL      = CURSOR_POS;                       
             IF YSKADE_TILLEGG_FNR ^= 999 THEN                                  
                CALL SKRIV_FEIL(YSKADE_TILLEGG_FNR);                            
          END;                                                                  
                                                                                
      IF FRA_UTEN_DIALOG THEN          /* BLOKKER ALT SAMMEN  */                
                                                                                
         DO;                                                                    
           S001101O.FNR_FA           = DFHBMASK;                                
           S001101O.NAVN_FA          = DFHBMASK;                                
           S001101O.DØDSDATO_FA      = DFHBMASK;                                
           S001101O.VILKÅR_8_4_3A_FA = DFHBMASK;                                
           S001101O.OVERKOMP_FA      = DFHBMASK;                                
           S001101O.TT_F67_FA        = DFHBMASK;                                
           S001101O.TT_E66_M_FA      = DFHBMASK;                                
           S001101O.TT_E66_Å_FA      = DFHBMASK;                                
           S001101O.VP_ÅR1_FA        = DFHBMASK;                                
           S001101O.VP_ÅR2_FA        = DFHBMASK;                                
           S001101O.VP_ÅR3_FA        = DFHBMASK;                                
           S001101O.VP_ÅR4_FA        = DFHBMASK;                                
           S001101O.PI_FA            = DFHBMASK;                                
           S001101O.YSKADE_TILL_FARA = DFHBMASK;                                
         END;                                                                   
                                                                                
    END OVERFØR_FB_FAR_MAP;                                                     
   %PAGE;                                                                       
   /* *************************************************************** */        
   /*                                                                 */        
   /*   PROSEDYREN OVERFØRER YRKESSKADEOPPLYSNINGER FRA FBY_MOR       */        
   /*   TIL SKJERMBILDE FOR YRKESSKADEOPPLYSNINGER.                   */        
   /*   O B S.  NY PROSEDYRE O B S.             */      /*   O B S    */        
   /*   MAP:  S001201                                                 */        
   /*   MAPSET:  S00120                                               */        
   /*                                                                 */        
   /* *************************************************************** */        
   %SKIP(2);                                                                    
  OVERFØR_FBY_MOR_MAP:                                                          
    PROC;                                                                       
    DCL                                                                         
       NORMAL            CHAR (1) INIT(' '),                                    
       NOR_NUM           CHAR (1) INIT('&'),                                    
       BRI_NUM           CHAR (1) INIT('Q');                                    
                                                                                
  %SKIP;                                                                        
       S001201O.REGDATOO     = KONV_HÅMD_ÅMD(REGDATO_ÅMD);       /*Y2K*/        
       S001201O.TERMIDO          = TERMID;                                      
       S001201O.FNRO             = F_FELT_PIC_CHAR11(FNR_M);                    
       S001201O.NAVNO            = NAVN_M;                                      
       S001201O.TKNRO            = F_FELT_PIC_CHAR4(TKNR(1));                   
       S001201O.VIRK_DATOO       = KONV_HÅMD_MÅ(VIRK_DATO_ÅMD);  /*Y2K*/        
       S001201O.VILKÅR_1_2_2AO   = FBY_MOR.VILKÅR_1_2_2A_M;                     
       S001201O.VILKÅR_1_2_2BO   = FBY_MOR.VILKÅR_1_2_2B_M;                     
       S001201O.YST_MÅO        = KONV_HÅMD_MÅ(FBY_MOR.YST_ÅMD_M);/*Y2K*/        
       S001201O.YSYKDOMO         = FBY_MOR.YSYKDOM_M;                           
       IF F_FELT_PIC_CHAR3(FBY_MOR.YUG_M) ^= '000' THEN                         
          S001201O.YUGO          = F_FELT_PIC_CHAR3(FBY_MOR.YUG_M);             
       S001201O.KAP11_7_UTLØSTO = FBY_MOR.KAP_11_7_UTLØST_M;                    
       S001201O.YRKE11O          = FBY_MOR.YRKE11_M;                            
       IF F_FELT_PIC_CHAR7(FBY_MOR.AÅI_M) ^= (7)'9' THEN                        
          S001201O.AÅIO          = F_FELT_PIC_CHAR7(FBY_MOR.AÅI_M);             
       IF F_FELT_PIC_CHAR11(FBY_MOR.FNR_EK_M) ^= (11)'0' THEN                   
          S001201O.FNR_EKO       = F_FELT_PIC_CHAR11(FBY_MOR.FNR_EK_M);         
       IF F_FELT_PIC_CHAR11(FBY_MOR.FNR_SAMBOER_M) ^= (11)'0' THEN              
          S001201O.FNR_SAMBOERO  =                                              
                             F_FELT_PIC_CHAR11(FBY_MOR.FNR_SAMBOER_M);          
       IF F_FELT_PIC_CHAR11(FBY_MOR.FNR_Y_BARN_M) ^= (11)'0' THEN               
          S001201O.FNR_Y_BARNO   =                                              
                            F_FELT_PIC_CHAR11(FBY_MOR.FNR_Y_BARN_M);            
       S001201O.PLEIEBARNO       = FBY_MOR.PLEIEBARN_M;                         
                                                                                
 %SKIP(3);                                                                      
 /* MARKERING AV ATTRIBUTTER  */                                                
 %SKIP;                                                                         
       S001201O.DUMMYA = '_';                                                   
                                                                                
       IF ^ FRA_CICS THEN                                                       
          DO;                                                                   
             IF FEIL_MELD_NR > 0 THEN                                           
                CALL SKRIV_FEIL_YP(FEIL_MELD_NR);                               
             FEIL_MELD_NR = 0;                                                  
          END;                                                                  
                                                                                
       S001201O.REGDATOA   = DFHBMASK;                                          
       S001201O.TERMIDA    = DFHBMASK;                                          
       S001201O.FNRA       = DFHBMASK;                                          
       S001201O.TKNRA      = DFHBMASK;                                          
       S001201O.NAVNA      = DFHBMASK;                                          
       S001201O.UFTA       = DFHBMASK;                                          
       S001201O.VIRK_DATOA = DFHBMASK;                                          
                                                                                
       IF FBY_MOR.VILKÅR_1_2_2A_MNR = 0 THEN                                    
          S001201O.VILKÅR_1_2_2AA = NORMAL;                                     
       ELSE                                                                     
          DO;                                                                   
            S001201O.VILKÅR_1_2_2AA = DFHBMBRY;                                 
            S001201I.VILKÅR_1_2_2AL = CURSOR_POS;                               
            IF FBY_MOR.VILKÅR_1_2_2A_MNR ^= 999 THEN                            
               CALL SKRIV_FEIL_YP(FBY_MOR.VILKÅR_1_2_2A_MNR);                   
          END;                                                                  
       IF FBY_MOR.VILKÅR_1_2_2B_MNR = 0 THEN                                    
          S001201O.VILKÅR_1_2_2BA = NORMAL;                                     
       ELSE                                                                     
          DO;                                                                   
            S001201O.VILKÅR_1_2_2BA = DFHBMBRY;                                 
            S001201I.VILKÅR_1_2_2BL = CURSOR_POS;                               
            IF FBY_MOR.VILKÅR_1_2_2B_MNR ^= 999 THEN                            
               CALL SKRIV_FEIL_YP(FBY_MOR.VILKÅR_1_2_2B_MNR);                   
          END;                                                                  
       IF FBY_MOR.YST_ÅMD_MNR = 0 THEN                           /*Y2K*/        
          S001201O.YST_MÅA = NOR_NUM;                                           
       ELSE                                                                     
          DO;                                                                   
            S001201O.YST_MÅA = BRI_NUM;                                         
            S001201I.YST_MÅL = CURSOR_POS;                                      
            IF FBY_MOR.YST_ÅMD_MNR ^= 999 THEN                   /*Y2K*/        
               CALL SKRIV_FEIL_YP(FBY_MOR.YST_ÅMD_MNR);          /*Y2K*/        
          END;                                                                  
       IF FBY_MOR.YSYKDOM_MNR = 0 THEN                                          
          S001201O.YSYKDOMA = NORMAL;                                           
       ELSE                                                                     
          DO;                                                                   
            S001201O.YSYKDOMA = DFHBMBRY;                                       
            S001201I.YSYKDOML = CURSOR_POS;                                     
            IF FBY_MOR.YSYKDOM_MNR ^= 999 THEN                                  
               CALL SKRIV_FEIL_YP(FBY_MOR.YSYKDOM_MNR);                         
          END;                                                                  
       IF FBY_MOR.YUG_MNR = 0 THEN                                              
          S001201O.YUGA = NOR_NUM;                                              
       ELSE                                                                     
          DO;                                                                   
            S001201O.YUGA = BRI_NUM;                                            
            S001201I.YUGL = CURSOR_POS;                                         
            IF FBY_MOR.YUG_MNR ^= 999 THEN                                      
               CALL SKRIV_FEIL_YP(FBY_MOR.YUG_MNR);                             
          END;                                                                  
       IF FBY_MOR.KAP_11_7_UTLØST_MNR = 0 THEN                                  
          S001201O.KAP11_7_UTLØSTA = NORMAL;                                    
       ELSE                                                                     
          DO;                                                                   
            S001201O.KAP11_7_UTLØSTA = DFHBMBRY;                                
            S001201I.KAP11_7_UTLØSTL = CURSOR_POS;                              
            IF FBY_MOR.KAP_11_7_UTLØST_MNR ^= 999 THEN                          
               CALL SKRIV_FEIL_YP(FBY_MOR.KAP_11_7_UTLØST_MNR);                 
          END;                                                                  
       IF FBY_MOR.YRKE11_MNR = 0 THEN                                           
          S001201O.YRKE11A = NORMAL;                                            
       ELSE                                                                     
          DO;                                                                   
            S001201O.YRKE11A = DFHBMBRY;                                        
            S001201I.YRKE11L = CURSOR_POS;                                      
            IF FBY_MOR.YRKE11_MNR ^= 999 THEN                                   
               CALL SKRIV_FEIL_YP(FBY_MOR.YRKE11_MNR);                          
          END;                                                                  
       IF FBY_MOR.AÅI_MNR = 0 THEN                                              
          S001201O.AÅIA = NOR_NUM;                                              
       ELSE                                                                     
          DO;                                                                   
            S001201O.AÅIA = BRI_NUM;                                            
            S001201I.AÅIL = CURSOR_POS;                                         
            IF FBY_MOR.AÅI_MNR ^= 999 THEN                                      
               CALL SKRIV_FEIL_YP(FBY_MOR.AÅI_MNR);                             
          END;                                                                  
       IF FBY_MOR.FNR_EK_MNR = 0 THEN                                           
          S001201O.FNR_EKA = NOR_NUM;                                           
       ELSE                                                                     
          DO;                                                                   
            S001201O.FNR_EKA = BRI_NUM;                                         
            S001201I.FNR_EKL = CURSOR_POS;                                      
            IF FBY_MOR.FNR_EK_MNR ^= 999 THEN                                   
               CALL SKRIV_FEIL_YP(FBY_MOR.FNR_EK_MNR);                          
          END;                                                                  
       IF FBY_MOR.FNR_SAMBOER_MNR = 0 THEN                                      
          S001201O.FNR_SAMBOERA = NOR_NUM;                                      
       ELSE                                                                     
          DO;                                                                   
            S001201O.FNR_SAMBOERA = BRI_NUM;                                    
            S001201I.FNR_SAMBOERL = CURSOR_POS;                                 
            IF FBY_MOR.FNR_SAMBOER_MNR ^= 999 THEN                              
               CALL SKRIV_FEIL_YP(FBY_MOR.FNR_SAMBOER_MNR);                     
          END;                                                                  
       IF FBY_MOR.FNR_Y_BARN_MNR = 0 THEN                                       
          S001201O.FNR_Y_BARNA = NOR_NUM;                                       
       ELSE                                                                     
          DO;                                                                   
            S001201O.FNR_Y_BARNA = BRI_NUM;                                     
            S001201I.FNR_Y_BARNL = CURSOR_POS;                                  
            IF FBY_MOR.FNR_Y_BARN_MNR ^= 999 THEN                               
               CALL SKRIV_FEIL_YP(FBY_MOR.FNR_Y_BARN_MNR);                      
          END;                                                                  
       IF FBY_MOR.PLEIEBARN_MNR = 0 THEN                                        
          S001201O.PLEIEBARNA = NOR_NUM;                                        
       ELSE                                                                     
          DO;                                                                   
            S001201O.PLEIEBARNA = BRI_NUM;                                      
            S001201I.PLEIEBARNL = CURSOR_POS;                                   
            IF FBY_MOR.PLEIEBARN_MNR ^= 999 THEN                                
               CALL SKRIV_FEIL_YP(FBY_MOR.PLEIEBARN_MNR);                       
          END;                                                                  
                                                                                
 /* VED GAMLE TRANS SKAL FELTER BLOKKERES                         */            
       IF ^(TRANS_OPPL_OMR.NY_GML_TRANS_IND = 'G' & FRA_MED_DIALOG) THEN        
          IF FRA_UTEN_DIALOG                                        THEN        
             DO;                                                                
                S001201O.VILKÅR_1_2_2AA  = DFHBMASK;                            
                S001201O.VILKÅR_1_2_2BA  = DFHBMASK;                            
                S001201O.YST_MÅA         = DFHBMASK;                            
                S001201O.YSYKDOMA        = DFHBMASK;                            
                S001201O.YUGA            = DFHBMASK;                            
                S001201O.KAP11_7_UTLØSTA = DFHBMASK;                            
                S001201O.YRKE11A         = DFHBMASK;                            
                S001201O.AÅIA            = DFHBMASK;                            
                S001201O.FNR_EKA         = DFHBMASK;                            
                S001201O.FNR_SAMBOERA    = DFHBMASK;                            
                S001201O.FNR_Y_BARNA     = DFHBMASK;                            
                S001201O.PLEIEBARNA      = DFHBMASK;                            
                YMELDING6O               =                                      
                          'TRYKK PF1 FOR OPPBEVAR, PF2 FOR FORKASTE.';          
             END;                                                               
       IF ^FRA_CICS THEN                                                        
          DO;                                                                   
             S001201O.STYRE_KODEA    = DFHBMASK;                                
             S001201O.FUNKSJONSKODEA = DFHBMASK;                                
          END;                                                                  
                                                                                
    END OVERFØR_FBY_MOR_MAP;                                                    
   %PAGE;                                                                       
   /* *************************************************************** */        
   /*                                                                 */        
   /*   PROSEDYREN OVERFØRER YRKESSKADEOPPLYSNINGER FRA FBY_FAR       */        
   /*   TIL SKJERMBILDE FOR YRKESSKADEOPPLYSNINGER.                   */        
   /*   O B S.  NY PROSEDYRE O B S.             */      /*   O B S    */        
   /*   MAP:  S001201                                                 */        
   /*   MAPSET:  S00120                                               */        
   /*                                                                 */        
   /* *************************************************************** */        
   %SKIP(2);                                                                    
  OVERFØR_FBY_FAR_MAP:                                                          
    PROC;                                                                       
    DCL                                                                         
       NORMAL            CHAR (1) INIT(' '),                                    
       NOR_NUM           CHAR (1) INIT('&'),                                    
       BRI_NUM           CHAR (1) INIT('Q');                                    
                                                                                
  %SKIP;                                                                        
       S001201O.REGDATOO     = KONV_HÅMD_ÅMD(REGDATO_ÅMD);       /*Y2K*/        
       S001201O.TERMIDO          = TERMID;                                      
       S001201O.FNRO             = F_FELT_PIC_CHAR11(FNR_F);                    
       S001201O.NAVNO            = NAVN_F;                                      
       S001201O.TKNRO            = F_FELT_PIC_CHAR4(TKNR(1));                   
       S001201O.VIRK_DATOO       = KONV_HÅMD_MÅ(VIRK_DATO_ÅMD);  /*Y2K*/        
       S001201O.VILKÅR_1_2_2AO   = FBY_FAR.VILKÅR_1_2_2A_F;                     
       S001201O.VILKÅR_1_2_2BO   = FBY_FAR.VILKÅR_1_2_2B_F;                     
       S001201O.YST_MÅO        = KONV_HÅMD_MÅ(FBY_FAR.YST_ÅMD_F);/*Y2K*/        
       S001201O.YSYKDOMO         = FBY_FAR.YSYKDOM_F;                           
       IF F_FELT_PIC_CHAR3(FBY_FAR.YUG_F) ^= '000' THEN                         
          S001201O.YUGO          = F_FELT_PIC_CHAR3(FBY_FAR.YUG_F);             
       S001201O.KAP11_7_UTLØSTO = FBY_FAR.KAP_11_7_UTLØST_F;                    
       S001201O.YRKE11O          = FBY_FAR.YRKE11_F;                            
       IF F_FELT_PIC_CHAR7(FBY_FAR.AÅI_F) ^= (7)'9' THEN                        
          S001201O.AÅIO          = F_FELT_PIC_CHAR7(FBY_FAR.AÅI_F);             
       IF F_FELT_PIC_CHAR11(FBY_FAR.FNR_EK_F) ^= (11)'0' THEN                   
          S001201O.FNR_EKO       = F_FELT_PIC_CHAR11(FBY_FAR.FNR_EK_F);         
       IF F_FELT_PIC_CHAR11(FBY_FAR.FNR_SAMBOER_F) ^= (11)'0' THEN              
          S001201O.FNR_SAMBOERO  =                                              
                             F_FELT_PIC_CHAR11(FBY_FAR.FNR_SAMBOER_F);          
       IF F_FELT_PIC_CHAR11(FBY_FAR.FNR_Y_BARN_F) ^= (11)'0' THEN               
          S001201O.FNR_Y_BARNO   =                                              
                            F_FELT_PIC_CHAR11(FBY_FAR.FNR_Y_BARN_F);            
       S001201O.PLEIEBARNO       = FBY_FAR.PLEIEBARN_F;                         
                                                                                
 %SKIP(3);                                                                      
 /* MARKERING AV ATTRIBUTTER  */                                                
 %SKIP;                                                                         
       S001201O.DUMMYA = '_';                                                   
                                                                                
       IF ^ FRA_CICS THEN                                                       
          DO;                                                                   
             IF FEIL_MELD_NR > 0 THEN                                           
                CALL SKRIV_FEIL_YP(FEIL_MELD_NR);                               
             FEIL_MELD_NR = 0;                                                  
          END;                                                                  
                                                                                
       S001201O.REGDATOA   = DFHBMASK;                                          
       S001201O.TERMIDA    = DFHBMASK;                                          
       S001201O.FNRA       = DFHBMASK;                                          
       S001201O.TKNRA      = DFHBMASK;                                          
       S001201O.NAVNA      = DFHBMASK;                                          
       S001201O.UFTA       = DFHBMASK;                                          
       S001201O.VIRK_DATOA = DFHBMASK;                                          
                                                                                
       IF FBY_FAR.VILKÅR_1_2_2A_FNR = 0 THEN                                    
          S001201O.VILKÅR_1_2_2AA = NORMAL;                                     
       ELSE                                                                     
          DO;                                                                   
            S001201O.VILKÅR_1_2_2AA = DFHBMBRY;                                 
            S001201I.VILKÅR_1_2_2AL = CURSOR_POS;                               
            IF FBY_FAR.VILKÅR_1_2_2A_FNR ^= 999 THEN                            
               CALL SKRIV_FEIL_YP(FBY_FAR.VILKÅR_1_2_2A_FNR);                   
          END;                                                                  
       IF FBY_FAR.VILKÅR_1_2_2B_FNR = 0 THEN                                    
          S001201O.VILKÅR_1_2_2BA = NORMAL;                                     
       ELSE                                                                     
          DO;                                                                   
            S001201O.VILKÅR_1_2_2BA = DFHBMBRY;                                 
            S001201I.VILKÅR_1_2_2BL = CURSOR_POS;                               
            IF FBY_FAR.VILKÅR_1_2_2B_FNR ^= 999 THEN                            
               CALL SKRIV_FEIL_YP(FBY_FAR.VILKÅR_1_2_2B_FNR);                   
          END;                                                                  
       IF FBY_FAR.YST_ÅMD_FNR = 0 THEN                           /*Y2K*/        
          S001201O.YST_MÅA = NOR_NUM;                                           
       ELSE                                                                     
          DO;                                                                   
            S001201O.YST_MÅA = BRI_NUM;                                         
            S001201I.YST_MÅL = CURSOR_POS;                                      
            IF FBY_FAR.YST_ÅMD_FNR ^= 999 THEN                   /*Y2K*/        
               CALL SKRIV_FEIL_YP(FBY_FAR.YST_ÅMD_FNR);          /*Y2K*/        
          END;                                                                  
       IF FBY_FAR.YSYKDOM_FNR = 0 THEN                                          
          S001201O.YSYKDOMA = NORMAL;                                           
       ELSE                                                                     
          DO;                                                                   
            S001201O.YSYKDOMA = DFHBMBRY;                                       
            S001201I.YSYKDOML = CURSOR_POS;                                     
            IF FBY_FAR.YSYKDOM_FNR ^= 999 THEN                                  
               CALL SKRIV_FEIL_YP(FBY_FAR.YSYKDOM_FNR);                         
          END;                                                                  
       IF FBY_FAR.YUG_FNR = 0 THEN                                              
          S001201O.YUGA = NOR_NUM;                                              
       ELSE                                                                     
          DO;                                                                   
            S001201O.YUGA = BRI_NUM;                                            
            S001201I.YUGL = CURSOR_POS;                                         
            IF FBY_FAR.YUG_FNR ^= 999 THEN                                      
               CALL SKRIV_FEIL_YP(FBY_FAR.YUG_FNR);                             
          END;                                                                  
       IF FBY_FAR.KAP_11_7_UTLØST_FNR = 0 THEN                                  
          S001201O.KAP11_7_UTLØSTA = NORMAL;                                    
       ELSE                                                                     
          DO;                                                                   
            S001201O.KAP11_7_UTLØSTA = DFHBMBRY;                                
            S001201I.KAP11_7_UTLØSTL = CURSOR_POS;                              
            IF FBY_FAR.KAP_11_7_UTLØST_FNR ^= 999 THEN                          
               CALL SKRIV_FEIL_YP(FBY_FAR.KAP_11_7_UTLØST_FNR);                 
          END;                                                                  
       IF FBY_FAR.YRKE11_FNR = 0 THEN                                           
          S001201O.YRKE11A = NORMAL;                                            
       ELSE                                                                     
          DO;                                                                   
            S001201O.YRKE11A = DFHBMBRY;                                        
            S001201I.YRKE11L = CURSOR_POS;                                      
            IF FBY_FAR.YRKE11_FNR ^= 999 THEN                                   
               CALL SKRIV_FEIL_YP(FBY_FAR.YRKE11_FNR);                          
          END;                                                                  
       IF FBY_FAR.AÅI_FNR = 0 THEN                                              
          S001201O.AÅIA = NOR_NUM;                                              
       ELSE                                                                     
          DO;                                                                   
            S001201O.AÅIA = BRI_NUM;                                            
            S001201I.AÅIL = CURSOR_POS;                                         
            IF FBY_FAR.AÅI_FNR ^= 999 THEN                                      
               CALL SKRIV_FEIL_YP(FBY_FAR.AÅI_FNR);                             
          END;                                                                  
       IF FBY_FAR.FNR_EK_FNR = 0 THEN                                           
          S001201O.FNR_EKA = NOR_NUM;                                           
       ELSE                                                                     
          DO;                                                                   
            S001201O.FNR_EKA = BRI_NUM;                                         
            S001201I.FNR_EKL = CURSOR_POS;                                      
            IF FBY_FAR.FNR_EK_FNR ^= 999 THEN                                   
               CALL SKRIV_FEIL_YP(FBY_FAR.FNR_EK_FNR);                          
          END;                                                                  
       IF FBY_FAR.FNR_SAMBOER_FNR = 0 THEN                                      
          S001201O.FNR_SAMBOERA = NOR_NUM;                                      
       ELSE                                                                     
          DO;                                                                   
            S001201O.FNR_SAMBOERA = BRI_NUM;                                    
            S001201I.FNR_SAMBOERL = CURSOR_POS;                                 
            IF FBY_FAR.FNR_SAMBOER_FNR ^= 999 THEN                              
               CALL SKRIV_FEIL_YP(FBY_FAR.FNR_SAMBOER_FNR);                     
          END;                                                                  
       IF FBY_FAR.FNR_Y_BARN_FNR = 0 THEN                                       
          S001201O.FNR_Y_BARNA = NOR_NUM;                                       
       ELSE                                                                     
          DO;                                                                   
            S001201O.FNR_Y_BARNA = BRI_NUM;                                     
            S001201I.FNR_Y_BARNL = CURSOR_POS;                                  
            IF FBY_FAR.FNR_Y_BARN_FNR ^= 999 THEN                               
               CALL SKRIV_FEIL_YP(FBY_FAR.FNR_Y_BARN_FNR);                      
          END;                                                                  
       IF FBY_FAR.PLEIEBARN_FNR = 0 THEN                                        
          S001201O.PLEIEBARNA = NOR_NUM;                                        
       ELSE                                                                     
          DO;                                                                   
            S001201O.PLEIEBARNA = BRI_NUM;                                      
            S001201I.PLEIEBARNL = CURSOR_POS;                                   
            IF FBY_FAR.PLEIEBARN_FNR ^= 999 THEN                                
               CALL SKRIV_FEIL_YP(FBY_FAR.PLEIEBARN_FNR);                       
          END;                                                                  
                                                                                
 /* VED GAMLE TRANS SKAL FELTER BLOKKERES                         */            
       IF ^(TRANS_OPPL_OMR.NY_GML_TRANS_IND = 'G' & FRA_MED_DIALOG) THEN        
          IF FRA_UTEN_DIALOG                                        THEN        
             DO;                                                                
                S001201O.VILKÅR_1_2_2AA  = DFHBMASK;                            
                S001201O.VILKÅR_1_2_2BA  = DFHBMASK;                            
                S001201O.YST_MÅA         = DFHBMASK;                            
                S001201O.YSYKDOMA        = DFHBMASK;                            
                S001201O.YUGA            = DFHBMASK;                            
                S001201O.KAP11_7_UTLØSTA = DFHBMASK;                            
                S001201O.YRKE11A         = DFHBMASK;                            
                S001201O.AÅIA            = DFHBMASK;                            
                S001201O.FNR_EKA         = DFHBMASK;                            
                S001201O.FNR_SAMBOERA    = DFHBMASK;                            
                S001201O.FNR_Y_BARNA     = DFHBMASK;                            
                S001201O.PLEIEBARNA      = DFHBMASK;                            
                YMELDING6O               =                                      
                          'TRYKK PF1 FOR OPPBEVAR, PF2 FOR FORKASTE.';          
             END;                                                               
       IF ^FRA_CICS THEN                                                        
          DO;                                                                   
             S001201O.STYRE_KODEA    = DFHBMASK;                                
             S001201O.FUNKSJONSKODEA = DFHBMASK;                                
          END;                                                                  
                                                                                
    END OVERFØR_FBY_FAR_MAP;                                                    
