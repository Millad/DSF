 /*   SIST ENDRET PÅ PROD   2004.03.16 13.59.36 AV   JDA2970          */        
 /*   SIST ENDRET PÅ TEST   2004.03.12 13.30.16 AV   JDA2970          */        
 /*       SIST ENDRET 22/06-98 11.51.29 AV   JDA7339                  */        
 /*       SIST ENDRET 04/06-98 15.09.59 AV   RFA9991                  */        
  /*IDENTIFIKASJON:                                                   */        
  /*    R001N806 - PROSEDYRE I PLI                                    */        
  /*    PROGRAMMERER:  ROLF FARVIK, DATA-UTVIKLING AS NOV-90          */        
  /*HENSIKT:                                                          */        
  /*    PROGRAMMET INNEHOLDER:                                        */        
  /*    PROSEDYRER FOR Å OVERFØRE DATA FRA EP_TRANS_OMR TIL           */        
  /*    SKJERMBILDE (MAP S001N81 MAPSET S001N8).                      */        
  /*    SKJERMBILDE (MAP S001201 MAPSET S00120).  */      /*          */        
  /*BRUK:                                                             */        
  /*    OVERFØR_E3SØKER_MAP:      OVERFØRING AV EPDELEN               */        
  /*    OVERFØR_E3SPES_MAP:       OVERFØRING AV SPESIELL DEL SØKER    */        
  /*    OVERFØR_E3SPES_AVDØD_MAP: OVERFØRING AV SPESIELL DEL AVDØDE   */        
  /*    OVERFØR_E3Y_MAP:          OVERFØRING AV YRKESSKADEOPPL. */              
  /*                                                                  */        
  /* ***************************************************************  */        
  /*   PROSEDYRA OVERFØRER DATA FRA EP_TRANS_OMR TIL                  */        
  /*   SKJERMBILDE EP_SØKER DELEN.                                    */        
  /*   MAP: S001N81                                                   */        
  /*   MAPSET: S001N8                                                 */        
  /* ***************************************************************  */        
   OVERFØR_E3SØKER_MAP:                                                         
    PROC;                                                                       
    DCL                                                                         
       NORMAL            CHAR (1) INIT(' '),                                    
       NOR_NUM           CHAR (1) INIT('&'),                                    
       BRI_NUM           CHAR (1) INIT('Q');                                    
                                                                                
       S001N81O.REGDATOO          = KONV_HÅMD_ÅMD(E3S.REGDATO_ÅMD);             
       S001N81O.TERMIDO           = E3S.TERMID;                                 
       S001N81O.FNRO              = F_FELT_PIC_CHAR11(E3S.FNR);                 
       S001N81O.NAVNO             = E3S.NAVN;                                   
       S001N81O.TKNRO             = F_FELT_PIC_CHAR4(E3S.TKNR);                 
       S001N81O.SIVILSTANDO       = E3S.SIVILSTAND;                             
       S001N81O.SPRÅKO            = E3S.SPRÅK;                                  
       S001N81O.NORSK_BOSATTO     = E3S.NORSK_BOSATT;                           
       S001N81O.VILKÅR_10_5O      = E3S.VILKÅR_10_5;                            
       S001N81O.OMSORG_AVD_BAO    = E3S.OMSORG_AVD_BA;                          
       S001N81O.FORVENTETO        = F_FELT_PIC_CHAR7(E3S.FORVENTET);            
       S001N81O.FAIO              = F_FELT_PIC_CHAR7(E3S.FAI);                  
       S001N81O.YSKADE_TILLEGGO   = E3S.YSKADE_TILLEGG;                         
       S001N81O.GP_OS_KODEO       = E3S.GP_OS_KODE;                             
       IF F_FELT_PIC_CHAR8(E3S.FRAMLEGGSDATO_ÅMD) ^= (8)'0' THEN                
         S001N81O.FRAML_DATO_MÅO=KONV_HÅMD_MÅ(E3S.FRAMLEGGSDATO_ÅMD);           
       S001N81O.FRAMLEGGSKODEO    = E3S.FRAMLEGGSKODE;                          
       S001N81O.VIRK_DATO_MÅO    = KONV_HÅMD_MÅ(E3S.VIRK_DATO_ÅMD);             
       IF F_FELT_PIC_CHAR11(E3S.FNR_EK) ^= '00000000000' THEN                   
          S001N81O.FNR_EKO        = F_FELT_PIC_CHAR11(E3S.FNR_EK);              
       S001N81O.NAVN_EKO          = E3S.NAVN_EK;                                
       S001N81O.NORSK_BOSATT_EKO  = E3S.NORSK_BOSATT_EK;                        
       IF F_FELT_PIC_CHAR8(E3S.DØDSDATO_ÅMD_EK) ^= (8)'0' THEN                  
          S001N81O.DØDSDATO_EKO   = KONV_HÅMD_DMÅ(E3S.DØDSDATO_ÅMD_EK);         
       S001N81O.VILKÅR_8_4_EKO    = E3S.VILKÅR_8_4_EK;                          
       IF F_FELT_PIC_CHAR7(E3S.PI_EK) ^= '0000000' THEN                         
          S001N81O.PI_EKO         = F_FELT_PIC_CHAR7(E3S.PI_EK);                
       IF F_FELT_PIC_CHAR4(E3S.VP_ÅR_EK(1)) ^= '0000' THEN                      
          S001N81O.VP_ÅR1_EKO     = F_FELT_PIC_CHAR4(E3S.VP_ÅR_EK(1));          
       IF F_FELT_PIC_CHAR4(E3S.VP_ÅR_EK(2)) ^= '0000' THEN                      
          S001N81O.VP_ÅR2_EKO     = F_FELT_PIC_CHAR4(E3S.VP_ÅR_EK(2));          
       IF F_FELT_PIC_CHAR4(E3S.VP_ÅR_EK(3)) ^= '0000' THEN                      
          S001N81O.VP_ÅR3_EKO     = F_FELT_PIC_CHAR4(E3S.VP_ÅR_EK(3));          
       IF F_FELT_PIC_CHAR4(E3S.VP_ÅR_EK(4)) ^= '0000' THEN                      
          S001N81O.VP_ÅR4_EKO     = F_FELT_PIC_CHAR4(E3S.VP_ÅR_EK(4));          
                                                                                
   /* FEILMELDINGER MARKERING AV FELT (ATTRIBUTTENE)  */                        
       S001N81O.DUMMYA = '_';                                                   
                                                                                
   /* DERSOM FEIL I BEHANDLE TRANS OVERFØRES FEIL HER,BARE FØRSTE GANG*/        
       IF ^ FRA_CICS THEN                                                       
         DO;                                                                    
           IF FEIL_MELD_NR > 0 THEN                                             
             CALL SKRIV_FEIL(FEIL_MELD_NR);                                     
           FEIL_MELD_NR = 0;                                                    
         END;                                                                   
                                                                                
       S001N81O.REGDATOA = DFHBMASK;                                            
                                                                                
       S001N81O.TERMIDA  = DFHBMASK;                                            
                                                                                
       IF E3S.FNRNR = 0 THEN                                                    
          S001N81O.FNRA = NOR_NUM;                                              
       ELSE                                                                     
          DO;                                                                   
            S001N81O.FNRA = BRI_NUM;                                            
            S001N81I.FNRL = CURSOR_POS;                                         
            IF E3S.FNRNR ^= 999 THEN                                            
               CALL SKRIV_FEIL(E3S.FNRNR);                                      
          END;                                                                  
       IF E3S.NAVNNR = 0 THEN                                                   
          S001N81O.NAVNA = NORMAL;                                              
       ELSE                                                                     
          DO;                                                                   
            S001N81O.NAVNA = DFHBMBRY;                                          
            S001N81I.NAVNL = CURSOR_POS;                                        
            IF E3S.NAVNNR ^= 999 THEN                                           
               CALL SKRIV_FEIL(E3S.NAVNNR);                                     
          END;                                                                  
       IF E3S.TKNRNR = 0 THEN                                                   
          S001N81O.TKNRA = NOR_NUM;                                             
       ELSE                                                                     
          DO;                                                                   
            S001N81O.TKNRA = BRI_NUM;                                           
            S001N81I.TKNRL = CURSOR_POS;                                        
            IF E3S.TKNRNR ^= 999 THEN                                           
               CALL SKRIV_FEIL(E3S.TKNRNR);                                     
          END;                                                                  
       IF E3S.SIVILSTANDNR = 0 THEN                                             
          S001N81O.SIVILSTANDA = NORMAL;                                        
       ELSE                                                                     
          DO;                                                                   
            S001N81O.SIVILSTANDA = DFHBMBRY;                                    
            S001N81I.SIVILSTANDL = CURSOR_POS;                                  
            IF E3S.SIVILSTANDNR ^= 999 THEN                                     
               CALL SKRIV_FEIL(E3S.SIVILSTANDNR);                               
          END;                                                                  
       IF E3S.SPRÅKNR = 0 THEN                                                  
          S001N81O.SPRÅKA = NORMAL;                                             
       ELSE                                                                     
          DO;                                                                   
            S001N81O.SPRÅKA = DFHBMBRY;                                         
            S001N81I.SPRÅKL = CURSOR_POS;                                       
            IF E3S.SPRÅKNR ^= 999 THEN                                          
               CALL SKRIV_FEIL(E3S.SPRÅKNR);                                    
          END;                                                                  
       IF E3S.NORSK_BOSATTNR = 0 THEN                                           
          S001N81O.NORSK_BOSATTA = NORMAL;                                      
       ELSE                                                                     
          DO;                                                                   
            S001N81O.NORSK_BOSATTA = DFHBMBRY;                                  
            S001N81I.NORSK_BOSATTL = CURSOR_POS;                                
            IF E3S.NORSK_BOSATTNR ^= 999 THEN                                   
               CALL SKRIV_FEIL(E3S.NORSK_BOSATTNR);                             
          END;                                                                  
       IF E3S.VILKÅR_10_5NR = 0 THEN                                            
          S001N81O.VILKÅR_10_5A = NORMAL;                                       
       ELSE                                                                     
          DO;                                                                   
            S001N81O.VILKÅR_10_5A = DFHBMBRY;                                   
            S001N81I.VILKÅR_10_5L = CURSOR_POS;                                 
            IF E3S.VILKÅR_10_5NR ^= 999 THEN                                    
               CALL SKRIV_FEIL(E3S.VILKÅR_10_5NR);                              
          END;                                                                  
       IF E3S.OMSORG_AVD_BANR = 0 THEN                                          
          S001N81O.OMSORG_AVD_BAA = NORMAL;                                     
       ELSE                                                                     
          DO;                                                                   
            S001N81O.OMSORG_AVD_BAA = DFHBMBRY;                                 
            S001N81I.OMSORG_AVD_BAL = CURSOR_POS;                               
            IF E3S.OMSORG_AVD_BANR ^= 999 THEN                                  
               CALL SKRIV_FEIL(E3S.OMSORG_AVD_BANR);                            
          END;                                                                  
       IF E3S.FORVENTETNR = 0 THEN                                              
          S001N81O.FORVENTETA = NOR_NUM;                                        
       ELSE                                                                     
          DO;                                                                   
            S001N81O.FORVENTETA = BRI_NUM;                                      
            S001N81I.FORVENTETL = CURSOR_POS;                                   
            IF E3S.FORVENTETNR ^= 999 THEN                                      
               CALL SKRIV_FEIL(E3S.FORVENTETNR);                                
          END;                                                                  
       IF E3S.FAINR = 0 THEN                                                    
          S001N81O.FAIA = NOR_NUM;                                              
       ELSE                                                                     
          DO;                                                                   
            S001N81O.FAIA = BRI_NUM;                                            
            S001N81I.FAIL = CURSOR_POS;                                         
            IF E3S.FAINR ^= 999 THEN                                            
               CALL SKRIV_FEIL(E3S.FAINR);                                      
          END;                                                                  
       IF E3S.YSKADE_TILLEGGNR = 0 THEN                                         
          S001N81O.YSKADE_TILLEGGA = NORMAL;                                    
       ELSE                                                                     
          DO;                                                                   
            S001N81O.YSKADE_TILLEGGA = DFHBMBRY;                                
            S001N81I.YSKADE_TILLEGGL = CURSOR_POS;                              
            IF E3S.YSKADE_TILLEGGNR ^= 999 THEN                                 
               CALL SKRIV_FEIL(E3S.YSKADE_TILLEGGNR);                           
          END;                                                                  
       IF E3S.GP_OS_KODENR = 0 THEN                                             
          S001N81O.GP_OS_KODEA = NORMAL;                                        
       ELSE                                                                     
          DO;                                                                   
            S001N81O.GP_OS_KODEA = DFHBMBRY;                                    
            S001N81I.GP_OS_KODEL = CURSOR_POS;                                  
            IF E3S.GP_OS_KODENR ^= 999 THEN                                     
               CALL SKRIV_FEIL(E3S.GP_OS_KODENR);                               
          END;                                                                  
       IF E3S.FRAMLEGGSDATO_ÅMDNR = 0 THEN                                      
          S001N81O.FRAML_DATO_MÅA = NOR_NUM;                                    
       ELSE                                                                     
          DO;                                                                   
            S001N81O.FRAML_DATO_MÅA = BRI_NUM;                                  
            S001N81I.FRAML_DATO_MÅL = CURSOR_POS;                               
            IF E3S.FRAMLEGGSDATO_ÅMDNR ^= 999 THEN                              
               CALL SKRIV_FEIL(E3S.FRAMLEGGSDATO_ÅMDNR);                        
          END;                                                                  
       IF E3S.FRAMLEGGSKODENR = 0 THEN                                          
          S001N81O.FRAMLEGGSKODEA = NORMAL;                                     
       ELSE                                                                     
          DO;                                                                   
            S001N81O.FRAMLEGGSKODEA = DFHBMBRY;                                 
            S001N81I.FRAMLEGGSKODEL = CURSOR_POS;                               
            IF E3S.FRAMLEGGSKODENR ^= 999 THEN                                  
               CALL SKRIV_FEIL(E3S.FRAMLEGGSKODENR);                            
          END;                                                                  
       IF E3S.VIRK_DATO_ÅMDNR = 0 THEN                                          
          S001N81O.VIRK_DATO_MÅA = NOR_NUM;                                     
       ELSE                                                                     
          DO;                                                                   
            S001N81O.VIRK_DATO_MÅA = BRI_NUM;                                   
            S001N81I.VIRK_DATO_MÅL = CURSOR_POS;                                
            IF E3S.VIRK_DATO_ÅMDNR ^= 999 THEN                                  
               CALL SKRIV_FEIL(E3S.VIRK_DATO_ÅMDNR);                            
          END;                                                                  
       IF E3S.FNR_EKNR = 0 THEN                                                 
          S001N81O.FNR_EKA = NOR_NUM;                                           
       ELSE                                                                     
          DO;                                                                   
            S001N81O.FNR_EKA = BRI_NUM;                                         
            S001N81I.FNR_EKL = CURSOR_POS;                                      
            IF E3S.FNR_EKNR ^= 999 THEN                                         
               CALL SKRIV_FEIL(E3S.FNR_EKNR);                                   
          END;                                                                  
       IF E3S.NAVN_EKNR = 0 THEN                                                
          S001N81O.NAVN_EKA = NORMAL;                                           
       ELSE                                                                     
          DO;                                                                   
            S001N81O.NAVN_EKA = DFHBMBRY;                                       
            S001N81I.NAVN_EKL = CURSOR_POS;                                     
            IF E3S.NAVN_EKNR ^= 999 THEN                                        
               CALL SKRIV_FEIL(E3S.NAVN_EKNR);                                  
          END;                                                                  
       IF E3S.NORSK_BOSATT_EKNR = 0 THEN                                        
          S001N81O.NORSK_BOSATT_EKA = NORMAL;                                   
       ELSE                                                                     
          DO;                                                                   
            S001N81O.NORSK_BOSATT_EKA = DFHBMBRY;                               
            S001N81I.NORSK_BOSATT_EKL = CURSOR_POS;                             
            IF E3S.NORSK_BOSATT_EKNR ^= 999 THEN                                
               CALL SKRIV_FEIL(E3S.NORSK_BOSATT_EKNR);                          
          END;                                                                  
       IF E3S.DØDSDATO_ÅMD_EKNR = 0 THEN                                        
          S001N81O.DØDSDATO_EKA = NOR_NUM;                                      
       ELSE                                                                     
          DO;                                                                   
            S001N81O.DØDSDATO_EKA = BRI_NUM;                                    
            S001N81I.DØDSDATO_EKL = CURSOR_POS;                                 
            IF E3S.DØDSDATO_ÅMD_EKNR ^= 999 THEN                                
               CALL SKRIV_FEIL(E3S.DØDSDATO_ÅMD_EKNR);                          
          END;                                                                  
       IF E3S.VILKÅR_8_4_EKNR = 0 THEN                                          
          S001N81O.VILKÅR_8_4_EKA = NORMAL;                                     
       ELSE                                                                     
          DO;                                                                   
            S001N81O.VILKÅR_8_4_EKA = DFHBMBRY;                                 
            S001N81I.VILKÅR_8_4_EKL = CURSOR_POS;                               
            IF E3S.VILKÅR_8_4_EKNR ^= 999 THEN                                  
               CALL SKRIV_FEIL(E3S.VILKÅR_8_4_EKNR);                            
          END;                                                                  
       IF E3S.PI_EKNR = 0 THEN                                                  
          S001N81O.PI_EKA = NOR_NUM;                                            
       ELSE                                                                     
          DO;                                                                   
            S001N81O.PI_EKA = BRI_NUM;                                          
            S001N81I.PI_EKL = CURSOR_POS;                                       
            IF E3S.PI_EKNR ^= 999 THEN                                          
               CALL SKRIV_FEIL(E3S.PI_EKNR);                                    
          END;                                                                  
       IF E3S.VP_ÅR_EKNR(1) = 0 THEN                                            
          S001N81O.VP_ÅR1_EKA = NOR_NUM;                                        
       ELSE                                                                     
          DO;                                                                   
            S001N81O.VP_ÅR1_EKA = BRI_NUM;                                      
            S001N81I.VP_ÅR1_EKL = CURSOR_POS;                                   
            IF E3S.VP_ÅR_EKNR(1) ^= 999 THEN                                    
               CALL SKRIV_FEIL(E3S.VP_ÅR_EKNR(1));                              
          END;                                                                  
       IF E3S.VP_ÅR_EKNR(2) = 0 THEN                                            
          S001N81O.VP_ÅR2_EKA = NOR_NUM;                                        
       ELSE                                                                     
          DO;                                                                   
            S001N81O.VP_ÅR2_EKA = BRI_NUM;                                      
            S001N81I.VP_ÅR2_EKL = CURSOR_POS;                                   
            IF E3S.VP_ÅR_EKNR(2) ^= 999 THEN                                    
               CALL SKRIV_FEIL(E3S.VP_ÅR_EKNR(2));                              
          END;                                                                  
       IF E3S.VP_ÅR_EKNR(3) = 0 THEN                                            
          S001N81O.VP_ÅR3_EKA = NOR_NUM;                                        
       ELSE                                                                     
          DO;                                                                   
            S001N81O.VP_ÅR3_EKA = BRI_NUM;                                      
            S001N81I.VP_ÅR3_EKL = CURSOR_POS;                                   
            IF E3S.VP_ÅR_EKNR(3) ^= 999 THEN                                    
               CALL SKRIV_FEIL(E3S.VP_ÅR_EKNR(3));                              
          END;                                                                  
       IF E3S.VP_ÅR_EKNR(4) = 0 THEN                                            
          S001N81O.VP_ÅR4_EKA = NOR_NUM;                                        
       ELSE                                                                     
          DO;                                                                   
            S001N81O.VP_ÅR4_EKA = BRI_NUM;                                      
            S001N81I.VP_ÅR4_EKL = CURSOR_POS;                                   
            IF E3S.VP_ÅR_EKNR(4) ^= 999 THEN                                    
               CALL SKRIV_FEIL(E3S.VP_ÅR_EKNR(4));                              
          END;                                                                  
                                                                                
       /* VED GAMLE TRANS SKAL FNR OG VIRKDATO BLOKKERES  */                    
                                                                                
       IF TRANS_OPPL_OMR.NY_GML_TRANS_IND = 'G' & FRA_MED_DIALOG THEN           
          DO;                                                                   
            S001N81O.FNRA          = DFHBMASK;/*  PROTECTED AND ASKIP*/         
            S001N81O.VIRK_DATO_MÅA = DFHBMASK;                                  
          END;                                                                  
                                                                                
       ELSE IF FRA_UTEN_DIALOG THEN  /* BLOKKER ALT SAMMEN  */                  
                                                                                
          DO;                                                                   
            S001N81O.REGDATOA         = DFHBMASK;                               
            S001N81O.TERMIDA          = DFHBMASK;                               
            S001N81O.FNRA             = DFHBMASK;                               
            S001N81O.NAVNA            = DFHBMASK;                               
            S001N81O.TKNRA            = DFHBMASK;                               
            S001N81O.SIVILSTANDA      = DFHBMASK;                               
            S001N81O.SPRÅKA           = DFHBMASK;                               
            S001N81O.NORSK_BOSATTA    = DFHBMASK;                               
            S001N81O.VILKÅR_10_5A     = DFHBMASK;                               
            S001N81O.OMSORG_AVD_BAA   = DFHBMASK;                               
            S001N81O.FORVENTETA       = DFHBMASK;                               
            S001N81O.FAIA             = DFHBMASK;                               
            S001N81O.YSKADE_TILLEGGA  = DFHBMASK;                               
            S001N81O.GP_OS_KODEA      = DFHBMASK;                               
            S001N81O.FRAML_DATO_MÅA   = DFHBMASK;                               
            S001N81O.FRAMLEGGSKODEA   = DFHBMASK;                               
            S001N81O.VIRK_DATO_MÅA    = DFHBMASK;                               
            S001N81O.FNR_EKA          = DFHBMASK;                               
            S001N81O.NAVN_EKA         = DFHBMASK;                               
            S001N81O.NORSK_BOSATT_EKA = DFHBMASK;                               
            S001N81O.DØDSDATO_EKA     = DFHBMASK;                               
            S001N81O.VILKÅR_8_4_EKA   = DFHBMASK;                               
            S001N81O.PI_EKA           = DFHBMASK;                               
            S001N81O.VP_ÅR1_EKA       = DFHBMASK;                               
            S001N81O.VP_ÅR2_EKA       = DFHBMASK;                               
            S001N81O.VP_ÅR3_EKA       = DFHBMASK;                               
            S001N81O.VP_ÅR4_EKA       = DFHBMASK;                               
            MELDING6O = 'TRYKK PF1 FOR OPPBEVAR, PF2 FOR FORKASTE';             
          END;                                                                  
                                                                                
       IF ^ FRA_CICS THEN                                                       
          DO;                                                                   
            S001N81O.STYRE_KODEA    = DFHBMASK;                                 
            S001N81O.FUNKSJONSKODEA = DFHBMASK;                                 
          END;                                                                  
        END OVERFØR_E3SØKER_MAP;                                                
  /* **************************************************************** */        
  /*                                                                  */        
  /*   PROSEDYRA OVERFØRER DATA FRA EP_TRANS_OMR.E3SP TIL             */        
  /*   SKJERMBILDE EP_SPES. DELEN_SØKER.                              */        
  /*   MAP: S001N81                                                   */        
  /*   MAPSET: S001N8                                                 */        
  /*                                                                  */        
  /* **************************************************************** */        
  OVERFØR_E3SPES_SØKER_MAP:                                                     
    PROC;                                                                       
    DCL                                                                         
       NORMAL            CHAR (1) INIT(' '),                                    
       NOR_NUM           CHAR (1) INIT('&'),                                    
       BRI_NUM           CHAR (1) INIT('Q');                                    
                                                                                
       IF F_FELT_PIC_CHAR3(E3SP.STATSBORGER) ^= '000' THEN                      
          S001N81O.STATSBORGERO   = F_FELT_PIC_CHAR3(E3SP.STATSBORGER);         
       IF F_FELT_PIC_CHAR3(E3SP.BOSATT) ^= '000' THEN                           
          S001N81O.BOSATTO        = F_FELT_PIC_CHAR3(E3SP.BOSATT);              
       S001N81O.PENSJONSTRYGDETO  = E3SP.PENSJONSTRYGDET;                       
       S001N81O.MINST_20ÅRO       = E3SP.MINST_20ÅR;                            
       S001N81O.FRAVIK_KONVO      = E3SP.FRAVIK_KONVENSJON;                     
       S001N81O.FRAVIK_FLYKTO     = E3SP.FRAVIK_FLYKT;                          
       S001N81O.OVERKOMP_UTLO     = E3SP.OVERKOMP_UTL;                          
       S001N81O.IKKE_GPO          = E3SP.IKKE_GP;                               
       S001N81O.BEREGNING_KONVO   = E3SP.BEREGNING_KONVENSJON;                  
       IF F_FELT_PIC_CHAR2(E3SP.TT_KONVENSJON_ÅR) ^= '00' THEN                  
        S001N81O.TT_KONV_ÅRO = F_FELT_PIC_CHAR2(E3SP.TT_KONVENSJON_ÅR);         
 /*                                                                             
       IF F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937ÅR) ^= '00' THEN                     
          S001N81O.TT_FRA_1937ÅRO =                                             
                           F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937ÅR);                
       IF F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937MND) ^= '00' THEN                    
          S001N81O.TT_FRA_1937MNDO =                                            
                           F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937MND);               
    ENDERET SP 23.9.94  */                                                      
                                                                                
       IF E3SP.TT_FRA_1937ÅR  ^= 0    THEN                                      
          S001N81O.TT_FRA_1937ÅRO =    E3SP.TT_FRA_1937ÅR ;                     
                                                                                
       IF E3SP.TT_FRA_1937MND ^= 0 THEN                                         
          S001N81O.TT_FRA_1937MNDO = E3SP.TT_FRA_1937MND;                       
                                                                                
       S001N81O.TT_NORDEN_ANNETO  = E3SP.TT_NORDEN_ANNET;                       
       S001N81O.VILKÅR_10_5_NR2O  = E3SP.VILKÅR_10_5_NR2;                       
       IF F_FELT_PIC_CHAR8(E3SP.STI_ÅMD) ^= '00000000' THEN                     
          S001N81O.STIO  = KONV_HÅMD_ÅMD(E3SP.STI_ÅMD);                         
  /* MARKERING AV ATTRIBUTTER   */                                              
       IF E3SP.STATSBORGERNR = 0 THEN                                           
          S001N81O.STATSBORGERA = NOR_NUM;                                      
       ELSE                                                                     
          DO;                                                                   
            S001N81O.STATSBORGERA = BRI_NUM;                                    
            S001N81I.STATSBORGERL = CURSOR_POS;                                 
            IF E3SP.STATSBORGERNR ^= 999 THEN                                   
               CALL SKRIV_FEIL(E3SP.STATSBORGERNR);                             
          END;                                                                  
       IF E3SP.BOSATTNR = 0 THEN                                                
          S001N81O.BOSATTA = NOR_NUM;                                           
       ELSE                                                                     
          DO;                                                                   
            S001N81O.BOSATTA = BRI_NUM;                                         
            S001N81I.BOSATTL = CURSOR_POS;                                      
            IF E3SP.BOSATTNR ^= 999 THEN                                        
               CALL SKRIV_FEIL(E3SP.BOSATTNR);                                  
          END;                                                                  
       IF E3SP.PENSJONSTRYGDETNR = 0 THEN                                       
          S001N81O.PENSJONSTRYGDETA = NORMAL;                                   
       ELSE                                                                     
          DO;                                                                   
            S001N81O.PENSJONSTRYGDETA = DFHBMBRY;                               
            S001N81I.PENSJONSTRYGDETL = CURSOR_POS;                             
            IF E3SP.PENSJONSTRYGDETNR ^= 999 THEN                               
               CALL SKRIV_FEIL(E3SP.PENSJONSTRYGDETNR);                         
          END;                                                                  
       IF E3SP.MINST_20ÅRNR = 0 THEN                                            
          S001N81O.MINST_20ÅRA = NORMAL;                                        
       ELSE                                                                     
          DO;                                                                   
            S001N81O.MINST_20ÅRA = DFHBMBRY;                                    
            S001N81I.MINST_20ÅRL = CURSOR_POS;                                  
            IF E3SP.MINST_20ÅRNR ^= 999 THEN                                    
               CALL SKRIV_FEIL(E3SP.MINST_20ÅRNR);                              
          END;                                                                  
       IF E3SP.FRAVIK_KONVENSJONNR = 0 THEN                                     
          S001N81O.FRAVIK_KONVA = NORMAL;                                       
       ELSE                                                                     
          DO;                                                                   
            S001N81O.FRAVIK_KONVA = DFHBMBRY;                                   
            S001N81I.FRAVIK_KONVL = CURSOR_POS;                                 
            IF E3SP.FRAVIK_KONVENSJONNR ^= 999 THEN                             
               CALL SKRIV_FEIL(E3SP.FRAVIK_KONVENSJONNR);                       
          END;                                                                  
       IF E3SP.FRAVIK_FLYKTNR = 0 THEN                                          
          S001N81O.FRAVIK_FLYKTA = NORMAL;                                      
       ELSE                                                                     
          DO;                                                                   
            S001N81O.FRAVIK_FLYKTA = DFHBMBRY;                                  
            S001N81I.FRAVIK_FLYKTL = CURSOR_POS;                                
            IF E3SP.FRAVIK_FLYKTNR ^= 999 THEN                                  
               CALL SKRIV_FEIL(E3SP.FRAVIK_FLYKTNR);                            
          END;                                                                  
       IF E3SP.OVERKOMP_UTLNR = 0 THEN                                          
          S001N81O.OVERKOMP_UTLA = NORMAL;                                      
       ELSE                                                                     
          DO;                                                                   
            S001N81O.OVERKOMP_UTLA = DFHBMBRY;                                  
            S001N81I.OVERKOMP_UTLL = CURSOR_POS;                                
            IF E3SP.OVERKOMP_UTLNR ^= 999 THEN                                  
               CALL SKRIV_FEIL(E3SP.OVERKOMP_UTLNR);                            
          END;                                                                  
       IF E3SP.IKKE_GPNR = 0 THEN                                               
          S001N81O.IKKE_GPA = NORMAL;                                           
       ELSE                                                                     
          DO;                                                                   
            S001N81O.IKKE_GPA = DFHBMBRY;                                       
            S001N81I.IKKE_GPL = CURSOR_POS;                                     
            IF E3SP.IKKE_GPNR ^= 999 THEN                                       
               CALL SKRIV_FEIL(E3SP.IKKE_GPNR);                                 
          END;                                                                  
       IF E3SP.BEREGNING_KONVENSJONNR = 0 THEN                                  
          S001N81O.BEREGNING_KONVA = NORMAL;                                    
       ELSE                                                                     
          DO;                                                                   
            S001N81O.BEREGNING_KONVA = DFHBMBRY;                                
            S001N81I.BEREGNING_KONVL = CURSOR_POS;                              
            IF E3SP.BEREGNING_KONVENSJONNR ^= 999 THEN                          
               CALL SKRIV_FEIL(E3SP.BEREGNING_KONVENSJONNR);                    
          END;                                                                  
       IF E3SP.TT_KONVENSJON_ÅRNR = 0 THEN                                      
          S001N81O.TT_KONV_ÅRA = NOR_NUM;                                       
       ELSE                                                                     
          DO;                                                                   
            S001N81O.TT_KONV_ÅRA = BRI_NUM;                                     
            S001N81I.TT_KONV_ÅRL = CURSOR_POS;                                  
            IF E3SP.TT_KONVENSJON_ÅRNR ^= 999 THEN                              
               CALL SKRIV_FEIL(E3SP.TT_KONVENSJON_ÅRNR);                        
          END;                                                                  
       IF E3SP.TT_FRA_1937ÅRNR = 0 THEN                                         
          S001N81O.TT_FRA_1937ÅRA = NOR_NUM;                                    
       ELSE                                                                     
          DO;                                                                   
            S001N81O.TT_FRA_1937ÅRA = BRI_NUM;                                  
            S001N81I.TT_FRA_1937ÅRL = CURSOR_POS;                               
            IF E3SP.TT_FRA_1937ÅRNR ^= 999 THEN                                 
               CALL SKRIV_FEIL(E3SP.TT_FRA_1937ÅRNR);                           
          END;                                                                  
       IF E3SP.TT_FRA_1937MNDNR = 0 THEN                                        
          S001N81O.TT_FRA_1937MNDA = NOR_NUM;                                   
       ELSE                                                                     
          DO;                                                                   
            S001N81O.TT_FRA_1937MNDA = BRI_NUM;                                 
            S001N81I.TT_FRA_1937MNDL = CURSOR_POS;                              
            IF E3SP.TT_FRA_1937MNDNR ^= 999 THEN                                
               CALL SKRIV_FEIL(E3SP.TT_FRA_1937MNDNR);                          
          END;                                                                  
       IF E3SP.TT_NORDEN_ANNETNR = 0 THEN                                       
          S001N81O.TT_NORDEN_ANNETA = NORMAL;                                   
       ELSE                                                                     
          DO;                                                                   
            S001N81O.TT_NORDEN_ANNETA = DFHBMBRY;                               
            S001N81I.TT_NORDEN_ANNETL = CURSOR_POS;                             
            IF E3SP.TT_NORDEN_ANNETNR ^= 999 THEN                               
               CALL SKRIV_FEIL(E3SP.TT_NORDEN_ANNETNR);                         
          END;                                                                  
       IF E3SP.VILKÅR_10_5_NR2NR = 0 THEN                                       
          S001N81O.VILKÅR_10_5_NR2A = NORMAL;                                   
       ELSE                                                                     
          DO;                                                                   
            S001N81O.VILKÅR_10_5_NR2A = DFHBMBRY;                               
            S001N81I.VILKÅR_10_5_NR2L = CURSOR_POS;                             
            IF E3SP.VILKÅR_10_5_NR2NR ^= 999 THEN                               
               CALL SKRIV_FEIL(E3SP.VILKÅR_10_5_NR2NR);                         
          END;                                                                  
       IF E3SP.STI_ÅMDNR = 0 THEN                                               
          S001N81O.STIA = NOR_NUM;                                              
       ELSE                                                                     
          DO;                                                                   
            S001N81O.STIA = BRI_NUM;                                            
            S001N81I.STIL = CURSOR_POS;                                         
            IF E3SP.STI_ÅMDNR ^= 999 THEN                                       
               CALL SKRIV_FEIL(E3SP.STI_ÅMDNR);                                 
          END;                                                                  
                                                                                
       IF FRA_UTEN_DIALOG THEN                                                  
          CALL BLOKKERE_E3SPES_SØKER;   /* BLOKKERE ALT SAMMEN   */             
                                                                                
       END OVERFØR_E3SPES_SØKER_MAP;                                            
   /* *************************************************************** */        
   /*                                                                 */        
   /*   PROSEDYREN OVERFØRER DATA FRA EP_TRANS_OMR.E3SP TIL           */        
   /*   SKJERMBILDE EP_SPES. DEL_AVDØDE.                              */        
   /*   MAP:  S001N81                                                 */        
   /*   MAPSET:  S001N8                                               */        
   /*                                                                 */        
   /* *************************************************************** */        
  OVERFØR_E3SPES_AVDØDE_MAP:                                                    
    PROC;                                                                       
    DCL                                                                         
       NORMAL            CHAR (1) INIT(' '),                                    
       NOR_NUM           CHAR (1) INIT('&'),                                    
       BRI_NUM           CHAR (1) INIT('Q');                                    
                                                                                
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                                    
       IF F_FELT_PIC_CHAR3(E3SP.STATSBORGER_EK) ^= '000' THEN                   
          S001N81O.STATSBORGER_EKO   =                                          
                             F_FELT_PIC_CHAR3(E3SP.STATSBORGER_EK);             
       IF F_FELT_PIC_CHAR3(E3SP.BOSATT_EK) ^= '000' THEN                        
          S001N81O.BOSATT_EKO       = F_FELT_PIC_CHAR3(E3SP.BOSATT_EK);         
       S001N81O.FRAVIK_FLYKT_EKO     = E3SP.FRAVIK_FLYKT_EK;                    
       IF F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937ÅR_EK) ^= '00' THEN                  
          S001N81O.TT_1937_ÅR_EKO =                                             
                           F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937ÅR_EK);             
       IF F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937MND_EK) ^= '00' THEN                 
          S001N81O.TT_1937_MND_EKO =                                            
                           F_FELT_PIC_CHAR2(E3SP.TT_FRA_1937MND_EK);            
       S001N81O.OVERKOMP_UTL_EKO     = E3SP.OVERKOMP_UTL_EK;                    
       S001N81O.TT_NORD_ANNET_EO    = E3SP.TT_NORDEN_ANNET_EK;                  
 /* MARKERING AV ATTRIBUTTER  */                                                
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                                    
       IF E3SP.STATSBORGER_EKNR = 0 THEN                                        
          S001N81O.STATSBORGER_EKA = NOR_NUM;                                   
       ELSE                                                                     
          DO;                                                                   
            S001N81O.STATSBORGER_EKA = BRI_NUM;                                 
            S001N81I.STATSBORGER_EKL = CURSOR_POS;                              
            IF E3SP.STATSBORGER_EKNR ^= 999 THEN                                
               CALL SKRIV_FEIL(E3SP.STATSBORGER_EKNR);                          
          END;                                                                  
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                                    
       IF E3SP.BOSATT_EKNR = 0 THEN                                             
          S001N81O.BOSATT_EKA = NOR_NUM;                                        
       ELSE                                                                     
          DO;                                                                   
            S001N81O.BOSATT_EKA = BRI_NUM;                                      
            S001N81I.BOSATT_EKL = CURSOR_POS;                                   
            IF E3SP.BOSATT_EKNR ^= 999 THEN                                     
               CALL SKRIV_FEIL(E3SP.BOSATT_EKNR);                               
          END;                                                                  
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                                    
       IF E3SP.FRAVIK_FLYKT_EKNR = 0 THEN                                       
          S001N81O.FRAVIK_FLYKT_EKA = NORMAL;                                   
       ELSE                                                                     
          DO;                                                                   
            S001N81O.FRAVIK_FLYKT_EKA = DFHBMBRY;                               
            S001N81I.FRAVIK_FLYKT_EKL = CURSOR_POS;                             
            IF E3SP.FRAVIK_FLYKT_EKNR ^= 999 THEN                               
               CALL SKRIV_FEIL(E3SP.FRAVIK_FLYKT_EKNR);                         
          END;                                                                  
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                                    
       IF E3SP.TT_FRA_1937ÅR_EKNR = 0 THEN                                      
          S001N81O.TT_1937_ÅR_EKA = NOR_NUM;                                    
       ELSE                                                                     
          DO;                                                                   
            S001N81O.TT_1937_ÅR_EKA = BRI_NUM;                                  
            S001N81I.TT_1937_ÅR_EKL = CURSOR_POS;                               
            IF E3SP.TT_FRA_1937ÅR_EKNR ^= 999 THEN                              
               CALL SKRIV_FEIL(E3SP.TT_FRA_1937ÅR_EKNR);                        
          END;                                                                  
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                                    
       IF E3SP.TT_FRA_1937MND_EKNR = 0 THEN                                     
          S001N81O.TT_1937_MND_EKA = NOR_NUM;                                   
       ELSE                                                                     
          DO;                                                                   
            S001N81O.TT_1937_MND_EKA = BRI_NUM;                                 
            S001N81I.TT_1937_MND_EKL = CURSOR_POS;                              
            IF E3SP.TT_FRA_1937MND_EKNR ^= 999 THEN                             
               CALL SKRIV_FEIL(E3SP.TT_FRA_1937MND_EKNR);                       
          END;                                                                  
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                                    
       IF E3SP.TT_NORDEN_ANNET_EKNR = 0 THEN                                    
          S001N81O.TT_NORD_ANNET_EA = NORMAL;                                   
       ELSE                                                                     
          DO;                                                                   
            S001N81O.TT_NORD_ANNET_EA = DFHBMBRY;                               
            S001N81I.TT_NORD_ANNET_EL = CURSOR_POS;                             
            IF E3SP.TT_NORDEN_ANNET_EKNR ^= 999 THEN                            
               CALL SKRIV_FEIL(E3SP.TT_NORDEN_ANNET_EKNR);                      
          END;                                                                  
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                                    
       IF E3SP.OVERKOMP_UTL_EKNR = 0 THEN                                       
          S001N81O.OVERKOMP_UTL_EKA = NORMAL;                                   
       ELSE                                                                     
          DO;                                                                   
            S001N81O.OVERKOMP_UTL_EKA = DFHBMBRY;                               
            S001N81I.OVERKOMP_UTL_EKL = CURSOR_POS;                             
            IF E3SP.OVERKOMP_UTL_EKNR ^= 999 THEN                               
               CALL SKRIV_FEIL(E3SP.OVERKOMP_UTL_EKNR);                         
          END;                                                                  
     EXEC CICS HANDLE AID PF1(PF1) PF2(PF2);                                    
                                                                                
       IF FRA_UTEN_DIALOG THEN                                                  
          CALL BLOKKERE_E3SPES_AVDØDE;   /* BLOKKERE ALT SAMMEN   */            
                                                                                
       END OVERFØR_E3SPES_AVDØDE_MAP;                                           
   /* *************************************************************** */        
   /*                                                                 */        
   /*   PROSEDYREN OVERFØRER DATA FRA EP_TRANS_OMR.E3Y (YRKESSKADE)   */        
   /*   TIL SKJERMBILDE FOR YRKESSKADEOPPLYSNINGER.                   */        
   /*   O B S.  NY PROSEDYRE O B S.             */      /*   O B S    */        
   /*   MAP:  S001201                                                 */        
   /*   MAPSET:  S00120                                               */        
   /*                                                                 */        
   /* *************************************************************** */        
  OVERFØR_E3Y_MAP:                                                              
    PROC;                                                                       
    DCL                                                                         
       NORMAL            CHAR (1) INIT(' '),                                    
       NOR_NUM           CHAR (1) INIT('&'),                                    
       BRI_NUM           CHAR (1) INIT('Q');                                    
                                                                                
       S001201O.REGDATOO         = KONV_HÅMD_ÅMD(E3S.REGDATO_ÅMD);              
       S001201O.TERMIDO          = E3S.TERMID;                                  
       S001201O.FNRO             = F_FELT_PIC_CHAR11(E3S.FNR);                  
       S001201O.TKNRO            = F_FELT_PIC_CHAR4(E3S.TKNR);                  
       S001201O.NAVNO            = E3S.NAVN;                                    
       S001201O.VIRK_DATOO       = KONV_HÅMD_MÅ(E3S.VIRK_DATO_ÅMD);             
       S001201O.VILKÅR_1_2_2AO   = E3Y.VILKÅR_1_2_2A;                           
       S001201O.VILKÅR_1_2_2BO   = E3Y.VILKÅR_1_2_2B;                           
       S001201O.YST_MÅO          = KONV_HÅMD_MÅ(E3Y.YST_ÅMD);                   
       S001201O.YSYKDOMO         = E3Y.YSYKDOM;                                 
       IF F_FELT_PIC_CHAR3(E3Y.YUG) ^= '000' THEN                               
          S001201O.YUGO          = F_FELT_PIC_CHAR3(E3Y.YUG);                   
       S001201O.KAP11_7_UTLØSTO = E3Y.KAP_11_7_UTLØST;                          
       S001201O.YRKE11O          = E3Y.YRKE11;                                  
       IF F_FELT_PIC_CHAR7(E3Y.AÅI) ^= (7)'9' THEN                              
          S001201O.AÅIO          = F_FELT_PIC_CHAR7(E3Y.AÅI);                   
       IF F_FELT_PIC_CHAR11(E3Y.FNR_EK) ^= (11)'0' THEN                         
          S001201O.FNR_EKO       = F_FELT_PIC_CHAR11(E3Y.FNR_EK);               
       IF F_FELT_PIC_CHAR11(E3Y.FNR_SAMBOER) ^= (11)'0' THEN                    
          S001201O.FNR_SAMBOERO  = F_FELT_PIC_CHAR11(E3Y.FNR_SAMBOER);          
       IF F_FELT_PIC_CHAR11(E3Y.FNR_Y_BARN) ^= (11)'0' THEN                     
          S001201O.FNR_Y_BARNO   = F_FELT_PIC_CHAR11(E3Y.FNR_Y_BARN);           
       S001201O.PLEIEBARNO       = E3Y.PLEIEBARN;                               
                                                                                
 /* MARKERING AV ATTRIBUTTER  */                                                
       S001201O.DUMMYA = '_';                                                   
                                                                                
       IF ^ FRA_CICS THEN                                                       
          DO;                                                                   
             IF FEIL_MELD_NR > 0 THEN                                           
                CALL SKRIV_FEIL_YP(FEIL_MELD_NR);                               
             FEIL_MELD_NR = 0;                                                  
          END;                                                                  
                                                                                
       S001201O.REGDATOA   = DFHBMASK;                                          
       S001201O.TERMIDA    = DFHBMASK;                                          
       S001201O.FNRA       = DFHBMASK;                                          
       S001201O.TKNRA      = DFHBMASK;                                          
       S001201O.NAVNA      = DFHBMASK;                                          
       S001201O.UFTA       = DFHBMASK;                                          
       S001201O.VIRK_DATOA = DFHBMASK;                                          
                                                                                
       IF E3Y.VILKÅR_1_2_2ANR = 0 THEN                                          
          S001201O.VILKÅR_1_2_2AA = NORMAL;                                     
       ELSE                                                                     
          DO;                                                                   
            S001201O.VILKÅR_1_2_2AA = DFHBMBRY;                                 
            S001201I.VILKÅR_1_2_2AL = CURSOR_POS;                               
            IF E3Y.VILKÅR_1_2_2ANR ^= 999 THEN                                  
               CALL SKRIV_FEIL_YP(E3Y.VILKÅR_1_2_2ANR);                         
          END;                                                                  
       IF E3Y.VILKÅR_1_2_2BNR = 0 THEN                                          
          S001201O.VILKÅR_1_2_2BA = NORMAL;                                     
       ELSE                                                                     
          DO;                                                                   
            S001201O.VILKÅR_1_2_2BA = DFHBMBRY;                                 
            S001201I.VILKÅR_1_2_2BL = CURSOR_POS;                               
            IF E3Y.VILKÅR_1_2_2BNR ^= 999 THEN                                  
               CALL SKRIV_FEIL_YP(E3Y.VILKÅR_1_2_2BNR);                         
          END;                                                                  
       IF E3Y.YST_ÅMDNR = 0 THEN                                                
          S001201O.YST_MÅA = NOR_NUM;                                           
       ELSE                                                                     
          DO;                                                                   
            S001201O.YST_MÅA = BRI_NUM;                                         
            S001201I.YST_MÅL = CURSOR_POS;                                      
            IF E3Y.YST_ÅMDNR ^= 999 THEN                                        
               CALL SKRIV_FEIL_YP(E3Y.YST_ÅMDNR);                               
          END;                                                                  
       IF E3Y.YSYKDOMNR = 0 THEN                                                
          S001201O.YSYKDOMA = NORMAL;                                           
       ELSE                                                                     
          DO;                                                                   
            S001201O.YSYKDOMA = DFHBMBRY;                                       
            S001201I.YSYKDOML = CURSOR_POS;                                     
            IF E3Y.YSYKDOMNR ^= 999 THEN                                        
               CALL SKRIV_FEIL_YP(E3Y.YSYKDOMNR);                               
          END;                                                                  
       IF E3Y.YUGNR = 0 THEN                                                    
          S001201O.YUGA = NOR_NUM;                                              
       ELSE                                                                     
          DO;                                                                   
            S001201O.YUGA = BRI_NUM;                                            
            S001201I.YUGL = CURSOR_POS;                                         
            IF E3Y.YUGNR ^= 999 THEN                                            
               CALL SKRIV_FEIL_YP(E3Y.YUGNR);                                   
          END;                                                                  
       IF E3Y.KAP_11_7_UTLØSTNR = 0 THEN                                        
          S001201O.KAP11_7_UTLØSTA = NORMAL;                                    
       ELSE                                                                     
          DO;                                                                   
            S001201O.KAP11_7_UTLØSTA = DFHBMBRY;                                
            S001201I.KAP11_7_UTLØSTL = CURSOR_POS;                              
            IF E3Y.KAP_11_7_UTLØSTNR ^= 999 THEN                                
               CALL SKRIV_FEIL_YP(E3Y.KAP_11_7_UTLØSTNR);                       
          END;                                                                  
       IF E3Y.YRKE11NR = 0 THEN                                                 
          S001201O.YRKE11A = NORMAL;                                            
       ELSE                                                                     
          DO;                                                                   
            S001201O.YRKE11A = DFHBMBRY;                                        
            S001201I.YRKE11L = CURSOR_POS;                                      
            IF E3Y.YRKE11NR ^= 999 THEN                                         
               CALL SKRIV_FEIL_YP(E3Y.YRKE11NR);                                
          END;                                                                  
       IF E3Y.AÅINR = 0 THEN                                                    
          S001201O.AÅIA = NOR_NUM;                                              
       ELSE                                                                     
          DO;                                                                   
            S001201O.AÅIA = BRI_NUM;                                            
            S001201I.AÅIL = CURSOR_POS;                                         
            IF E3Y.AÅINR ^= 999 THEN                                            
               CALL SKRIV_FEIL_YP(E3Y.AÅINR);                                   
          END;                                                                  
       IF E3Y.FNR_EKNR = 0 THEN                                                 
          S001201O.FNR_EKA = NOR_NUM;                                           
       ELSE                                                                     
          DO;                                                                   
            S001201O.FNR_EKA = BRI_NUM;                                         
            S001201I.FNR_EKL = CURSOR_POS;                                      
            IF E3Y.FNR_EKNR ^= 999 THEN                                         
               CALL SKRIV_FEIL_YP(E3Y.FNR_EKNR);                                
          END;                                                                  
       IF E3Y.FNR_SAMBOERNR = 0 THEN                                            
          S001201O.FNR_SAMBOERA = NOR_NUM;                                      
       ELSE                                                                     
          DO;                                                                   
            S001201O.FNR_SAMBOERA = BRI_NUM;                                    
            S001201I.FNR_SAMBOERL = CURSOR_POS;                                 
            IF E3Y.FNR_SAMBOERNR ^= 999 THEN                                    
               CALL SKRIV_FEIL_YP(E3Y.FNR_SAMBOERNR);                           
          END;                                                                  
       IF E3Y.FNR_Y_BARNNR = 0 THEN                                             
          S001201O.FNR_Y_BARNA = NOR_NUM;                                       
       ELSE                                                                     
          DO;                                                                   
            S001201O.FNR_Y_BARNA = BRI_NUM;                                     
            S001201I.FNR_Y_BARNL = CURSOR_POS;                                  
            IF E3Y.FNR_Y_BARNNR ^= 999 THEN                                     
               CALL SKRIV_FEIL_YP(E3Y.FNR_Y_BARNNR);                            
          END;                                                                  
       IF E3Y.PLEIEBARNNR = 0 THEN                                              
          S001201O.PLEIEBARNA = NOR_NUM;                                        
       ELSE                                                                     
          DO;                                                                   
            S001201O.PLEIEBARNA = BRI_NUM;                                      
            S001201I.PLEIEBARNL = CURSOR_POS;                                   
            IF E3Y.PLEIEBARNNR ^= 999 THEN                                      
               CALL SKRIV_FEIL_YP(E3Y.PLEIEBARNNR);                             
          END;                                                                  
                                                                                
 /* VED GAMLE TRANS SKAL FELTER BLOKKERES                         */            
       IF ^(TRANS_OPPL_OMR.NY_GML_TRANS_IND = 'G' & FRA_MED_DIALOG) THEN        
          IF FRA_UTEN_DIALOG                                        THEN        
             DO;                                                                
                S001201O.VILKÅR_1_2_2AA  = DFHBMASK;                            
                S001201O.VILKÅR_1_2_2BA  = DFHBMASK;                            
                S001201O.YST_MÅA         = DFHBMASK;                            
                S001201O.YSYKDOMA        = DFHBMASK;                            
                S001201O.YUGA            = DFHBMASK;                            
                S001201O.KAP11_7_UTLØSTA = DFHBMASK;                            
                S001201O.YRKE11A         = DFHBMASK;                            
                S001201O.AÅIA            = DFHBMASK;                            
                S001201O.FNR_EKA         = DFHBMASK;                            
                S001201O.FNR_SAMBOERA    = DFHBMASK;                            
                S001201O.FNR_Y_BARNA     = DFHBMASK;                            
                S001201O.PLEIEBARNA      = DFHBMASK;                            
                YMELDING6O               =                                      
                          'TRYKK PF1 FOR OPPBEVAR, PF2 FOR FORKASTE.';          
             END;                                                               
       IF ^FRA_CICS THEN                                                        
          DO;                                                                   
             S001201O.STYRE_KODEA    = DFHBMASK;                                
             S001201O.FUNKSJONSKODEA = DFHBMASK;                                
          END;                                                                  
                                                                                
    END OVERFØR_E3Y_MAP;                                                        
